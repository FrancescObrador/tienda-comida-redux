var Gy=Object.defineProperty;var Qy=(i,t,r)=>t in i?Gy(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r;var Fi=(i,t,r)=>Qy(i,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();function Ky(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ca={exports:{}},zi={},da={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function qy(){if(Vh)return re;Vh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function C(S){return S===null||typeof S!="object"?null:(S=y&&S[y]||S["@@iterator"],typeof S=="function"?S:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,b={};function L(S,x,te){this.props=S,this.context=x,this.refs=b,this.updater=te||N}L.prototype.isReactComponent={},L.prototype.setState=function(S,x){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,x,"setState")},L.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function ne(){}ne.prototype=L.prototype;function J(S,x,te){this.props=S,this.context=x,this.refs=b,this.updater=te||N}var K=J.prototype=new ne;K.constructor=J,O(K,L.prototype),K.isPureReactComponent=!0;var G=Array.isArray,Z=Object.prototype.hasOwnProperty,X={current:null},pe={key:!0,ref:!0,__self:!0,__source:!0};function ee(S,x,te){var oe,ae={},ce=null,ye=null;if(x!=null)for(oe in x.ref!==void 0&&(ye=x.ref),x.key!==void 0&&(ce=""+x.key),x)Z.call(x,oe)&&!pe.hasOwnProperty(oe)&&(ae[oe]=x[oe]);var me=arguments.length-2;if(me===1)ae.children=te;else if(1<me){for(var Ie=Array(me),mt=0;mt<me;mt++)Ie[mt]=arguments[mt+2];ae.children=Ie}if(S&&S.defaultProps)for(oe in me=S.defaultProps,me)ae[oe]===void 0&&(ae[oe]=me[oe]);return{$$typeof:i,type:S,key:ce,ref:ye,props:ae,_owner:X.current}}function $e(S,x){return{$$typeof:i,type:S.type,key:x,ref:S.ref,props:S.props,_owner:S._owner}}function Rt(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function qt(S){var x={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(te){return x[te]})}var Bt=/\/+/g;function pt(S,x){return typeof S=="object"&&S!==null&&S.key!=null?qt(""+S.key):x.toString(36)}function xt(S,x,te,oe,ae){var ce=typeof S;(ce==="undefined"||ce==="boolean")&&(S=null);var ye=!1;if(S===null)ye=!0;else switch(ce){case"string":case"number":ye=!0;break;case"object":switch(S.$$typeof){case i:case t:ye=!0}}if(ye)return ye=S,ae=ae(ye),S=oe===""?"."+pt(ye,0):oe,G(ae)?(te="",S!=null&&(te=S.replace(Bt,"$&/")+"/"),xt(ae,x,te,"",function(mt){return mt})):ae!=null&&(Rt(ae)&&(ae=$e(ae,te+(!ae.key||ye&&ye.key===ae.key?"":(""+ae.key).replace(Bt,"$&/")+"/")+S)),x.push(ae)),1;if(ye=0,oe=oe===""?".":oe+":",G(S))for(var me=0;me<S.length;me++){ce=S[me];var Ie=oe+pt(ce,me);ye+=xt(ce,x,te,Ie,ae)}else if(Ie=C(S),typeof Ie=="function")for(S=Ie.call(S),me=0;!(ce=S.next()).done;)ce=ce.value,Ie=oe+pt(ce,me++),ye+=xt(ce,x,te,Ie,ae);else if(ce==="object")throw x=String(S),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.");return ye}function Wt(S,x,te){if(S==null)return S;var oe=[],ae=0;return xt(S,oe,"","",function(ce){return x.call(te,ce,ae++)}),oe}function rt(S){if(S._status===-1){var x=S._result;x=x(),x.then(function(te){(S._status===0||S._status===-1)&&(S._status=1,S._result=te)},function(te){(S._status===0||S._status===-1)&&(S._status=2,S._result=te)}),S._status===-1&&(S._status=0,S._result=x)}if(S._status===1)return S._result.default;throw S._result}var xe={current:null},F={transition:null},Q={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:F,ReactCurrentOwner:X};function j(){throw Error("act(...) is not supported in production builds of React.")}return re.Children={map:Wt,forEach:function(S,x,te){Wt(S,function(){x.apply(this,arguments)},te)},count:function(S){var x=0;return Wt(S,function(){x++}),x},toArray:function(S){return Wt(S,function(x){return x})||[]},only:function(S){if(!Rt(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},re.Component=L,re.Fragment=r,re.Profiler=l,re.PureComponent=J,re.StrictMode=o,re.Suspense=m,re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,re.act=j,re.cloneElement=function(S,x,te){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var oe=O({},S.props),ae=S.key,ce=S.ref,ye=S._owner;if(x!=null){if(x.ref!==void 0&&(ce=x.ref,ye=X.current),x.key!==void 0&&(ae=""+x.key),S.type&&S.type.defaultProps)var me=S.type.defaultProps;for(Ie in x)Z.call(x,Ie)&&!pe.hasOwnProperty(Ie)&&(oe[Ie]=x[Ie]===void 0&&me!==void 0?me[Ie]:x[Ie])}var Ie=arguments.length-2;if(Ie===1)oe.children=te;else if(1<Ie){me=Array(Ie);for(var mt=0;mt<Ie;mt++)me[mt]=arguments[mt+2];oe.children=me}return{$$typeof:i,type:S.type,key:ae,ref:ce,props:oe,_owner:ye}},re.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:a,_context:S},S.Consumer=S},re.createElement=ee,re.createFactory=function(S){var x=ee.bind(null,S);return x.type=S,x},re.createRef=function(){return{current:null}},re.forwardRef=function(S){return{$$typeof:h,render:S}},re.isValidElement=Rt,re.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:rt}},re.memo=function(S,x){return{$$typeof:_,type:S,compare:x===void 0?null:x}},re.startTransition=function(S){var x=F.transition;F.transition={};try{S()}finally{F.transition=x}},re.unstable_act=j,re.useCallback=function(S,x){return xe.current.useCallback(S,x)},re.useContext=function(S){return xe.current.useContext(S)},re.useDebugValue=function(){},re.useDeferredValue=function(S){return xe.current.useDeferredValue(S)},re.useEffect=function(S,x){return xe.current.useEffect(S,x)},re.useId=function(){return xe.current.useId()},re.useImperativeHandle=function(S,x,te){return xe.current.useImperativeHandle(S,x,te)},re.useInsertionEffect=function(S,x){return xe.current.useInsertionEffect(S,x)},re.useLayoutEffect=function(S,x){return xe.current.useLayoutEffect(S,x)},re.useMemo=function(S,x){return xe.current.useMemo(S,x)},re.useReducer=function(S,x,te){return xe.current.useReducer(S,x,te)},re.useRef=function(S){return xe.current.useRef(S)},re.useState=function(S){return xe.current.useState(S)},re.useSyncExternalStore=function(S,x,te){return xe.current.useSyncExternalStore(S,x,te)},re.useTransition=function(){return xe.current.useTransition()},re.version="18.3.1",re}var $h;function nl(){return $h||($h=1,da.exports=qy()),da.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function Yy(){if(Gh)return zi;Gh=1;var i=nl(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function d(h,m,_){var v,y={},C=null,N=null;_!==void 0&&(C=""+_),m.key!==void 0&&(C=""+m.key),m.ref!==void 0&&(N=m.ref);for(v in m)o.call(m,v)&&!a.hasOwnProperty(v)&&(y[v]=m[v]);if(h&&h.defaultProps)for(v in m=h.defaultProps,m)y[v]===void 0&&(y[v]=m[v]);return{$$typeof:t,type:h,key:C,ref:N,props:y,_owner:l.current}}return zi.Fragment=r,zi.jsx=d,zi.jsxs=d,zi}var Qh;function Xy(){return Qh||(Qh=1,ca.exports=Yy()),ca.exports}var fe=Xy(),be=nl();const oc=Ky(be);var Ro={},fa={exports:{}},at={},ha={exports:{}},pa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function Jy(){return Kh||(Kh=1,function(i){function t(F,Q){var j=F.length;F.push(Q);e:for(;0<j;){var S=j-1>>>1,x=F[S];if(0<l(x,Q))F[S]=Q,F[j]=x,j=S;else break e}}function r(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var Q=F[0],j=F.pop();if(j!==Q){F[0]=j;e:for(var S=0,x=F.length,te=x>>>1;S<te;){var oe=2*(S+1)-1,ae=F[oe],ce=oe+1,ye=F[ce];if(0>l(ae,j))ce<x&&0>l(ye,ae)?(F[S]=ye,F[ce]=j,S=ce):(F[S]=ae,F[oe]=j,S=oe);else if(ce<x&&0>l(ye,j))F[S]=ye,F[ce]=j,S=ce;else break e}}return Q}function l(F,Q){var j=F.sortIndex-Q.sortIndex;return j!==0?j:F.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var m=[],_=[],v=1,y=null,C=3,N=!1,O=!1,b=!1,L=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(F){for(var Q=r(_);Q!==null;){if(Q.callback===null)o(_);else if(Q.startTime<=F)o(_),Q.sortIndex=Q.expirationTime,t(m,Q);else break;Q=r(_)}}function G(F){if(b=!1,K(F),!O)if(r(m)!==null)O=!0,rt(Z);else{var Q=r(_);Q!==null&&xe(G,Q.startTime-F)}}function Z(F,Q){O=!1,b&&(b=!1,ne(ee),ee=-1),N=!0;var j=C;try{for(K(Q),y=r(m);y!==null&&(!(y.expirationTime>Q)||F&&!qt());){var S=y.callback;if(typeof S=="function"){y.callback=null,C=y.priorityLevel;var x=S(y.expirationTime<=Q);Q=i.unstable_now(),typeof x=="function"?y.callback=x:y===r(m)&&o(m),K(Q)}else o(m);y=r(m)}if(y!==null)var te=!0;else{var oe=r(_);oe!==null&&xe(G,oe.startTime-Q),te=!1}return te}finally{y=null,C=j,N=!1}}var X=!1,pe=null,ee=-1,$e=5,Rt=-1;function qt(){return!(i.unstable_now()-Rt<$e)}function Bt(){if(pe!==null){var F=i.unstable_now();Rt=F;var Q=!0;try{Q=pe(!0,F)}finally{Q?pt():(X=!1,pe=null)}}else X=!1}var pt;if(typeof J=="function")pt=function(){J(Bt)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,Wt=xt.port2;xt.port1.onmessage=Bt,pt=function(){Wt.postMessage(null)}}else pt=function(){L(Bt,0)};function rt(F){pe=F,X||(X=!0,pt())}function xe(F,Q){ee=L(function(){F(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_continueExecution=function(){O||N||(O=!0,rt(Z))},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$e=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(F){switch(C){case 1:case 2:case 3:var Q=3;break;default:Q=C}var j=C;C=Q;try{return F()}finally{C=j}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(F,Q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var j=C;C=F;try{return Q()}finally{C=j}},i.unstable_scheduleCallback=function(F,Q,j){var S=i.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?S+j:S):j=S,F){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=j+x,F={id:v++,callback:Q,priorityLevel:F,startTime:j,expirationTime:x,sortIndex:-1},j>S?(F.sortIndex=j,t(_,F),r(m)===null&&F===r(_)&&(b?(ne(ee),ee=-1):b=!0,xe(G,j-S))):(F.sortIndex=x,t(m,F),O||N||(O=!0,rt(Z))),F},i.unstable_shouldYield=qt,i.unstable_wrapCallback=function(F){var Q=C;return function(){var j=C;C=Q;try{return F.apply(this,arguments)}finally{C=j}}}}(pa)),pa}var qh;function Zy(){return qh||(qh=1,ha.exports=Jy()),ha.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function ev(){if(Yh)return at;Yh=1;var i=nl(),t=Zy();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function a(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(l[e]=n,e=0;e<n.length;e++)o.add(n[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function C(e){return m.call(y,e)?!0:m.call(v,e)?!1:_.test(e)?y[e]=!0:(v[e]=!0,!1)}function N(e,n,s,u){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,n,s,u){if(n===null||typeof n>"u"||N(e,n,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function b(e,n,s,u,c,f,p){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=p}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){L[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];L[n]=new b(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){L[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){L[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){L[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){L[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){L[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){L[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){L[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var ne=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(ne,J);L[n]=new b(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(ne,J);L[n]=new b(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(ne,J);L[n]=new b(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){L[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),L.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){L[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function K(e,n,s,u){var c=L.hasOwnProperty(n)?L[n]:null;(c!==null?c.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(O(n,s,c,u)&&(s=null),u||c===null?C(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(n=c.attributeName,u=c.attributeNamespace,s===null?e.removeAttribute(n):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,u?e.setAttributeNS(u,n,s):e.setAttribute(n,s))))}var G=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),X=Symbol.for("react.portal"),pe=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),$e=Symbol.for("react.profiler"),Rt=Symbol.for("react.provider"),qt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),Wt=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),F=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,S;function x(e){if(S===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);S=n&&n[1]||""}return`
`+S+e}var te=!1;function oe(e,n){if(!e||te)return"";te=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(T){var u=T}Reflect.construct(e,[],n)}else{try{n.call()}catch(T){u=T}e.call(n.prototype)}else{try{throw Error()}catch(T){u=T}e()}}catch(T){if(T&&u&&typeof T.stack=="string"){for(var c=T.stack.split(`
`),f=u.stack.split(`
`),p=c.length-1,g=f.length-1;1<=p&&0<=g&&c[p]!==f[g];)g--;for(;1<=p&&0<=g;p--,g--)if(c[p]!==f[g]){if(p!==1||g!==1)do if(p--,g--,0>g||c[p]!==f[g]){var w=`
`+c[p].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=p&&0<=g);break}}}finally{te=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?x(e):""}function ae(e){switch(e.tag){case 5:return x(e.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pe:return"Fragment";case X:return"Portal";case $e:return"Profiler";case ee:return"StrictMode";case pt:return"Suspense";case xt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qt:return(e.displayName||"Context")+".Consumer";case Rt:return(e._context.displayName||"Context")+".Provider";case Bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wt:return n=e.displayName||null,n!==null?n:ce(e.type)||"Memo";case rt:n=e._payload,e=e._init;try{return ce(e(n))}catch{}}return null}function ye(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(n);case 8:return n===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ie(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mt(e){var n=Ie(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){u=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(p){u=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function gs(e){e._valueTracker||(e._valueTracker=mt(e))}function qc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),u="";return e&&(u=Ie(e)?e.checked?"true":"false":e.value),e=u,e!==s?(n.setValue(e),!0):!1}function ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gl(e,n){var s=n.checked;return j({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Yc(e,n){var s=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;s=me(n.value!=null?n.value:s),e._wrapperState={initialChecked:u,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Xc(e,n){n=n.checked,n!=null&&K(e,"checked",n,!1)}function yl(e,n){Xc(e,n);var s=me(n.value),u=n.type;if(s!=null)u==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?vl(e,n.type,s):n.hasOwnProperty("defaultValue")&&vl(e,n.type,me(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Jc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function vl(e,n,s){(n!=="number"||ys(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Xr=Array.isArray;function cr(e,n,s,u){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&u&&(e[s].defaultSelected=!0)}else{for(s=""+me(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,u&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function wl(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return j({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Xr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:me(s)}}function ed(e,n){var s=me(n.value),u=me(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),u!=null&&(e.defaultValue=""+u)}function td(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function nd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function El(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?nd(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vs,rd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,u,c){MSApp.execUnsafeLocalFunction(function(){return e(n,s,u,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Jr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X_=["Webkit","ms","Moz","O"];Object.keys(Zr).forEach(function(e){X_.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Zr[n]=Zr[e]})});function id(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Zr.hasOwnProperty(e)&&Zr[e]?(""+n).trim():n+"px"}function sd(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var u=s.indexOf("--")===0,c=id(s,n[s],u);s==="float"&&(s="cssFloat"),u?e.setProperty(s,c):e[s]=c}}var J_=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cl(e,n){if(n){if(J_[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Sl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kl=null;function Il(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tl=null,dr=null,fr=null;function od(e){if(e=Ei(e)){if(typeof Tl!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Ws(n),Tl(e.stateNode,e.type,n))}}function ld(e){dr?fr?fr.push(e):fr=[e]:dr=e}function ud(){if(dr){var e=dr,n=fr;if(fr=dr=null,od(e),n)for(e=0;e<n.length;e++)od(n[e])}}function ad(e,n){return e(n)}function cd(){}var Nl=!1;function dd(e,n,s){if(Nl)return e(n,s);Nl=!0;try{return ad(e,n,s)}finally{Nl=!1,(dr!==null||fr!==null)&&(cd(),ud())}}function ei(e,n){var s=e.stateNode;if(s===null)return null;var u=Ws(s);if(u===null)return null;s=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Rl=!1;if(h)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){Rl=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{Rl=!1}function Z_(e,n,s,u,c,f,p,g,w){var T=Array.prototype.slice.call(arguments,3);try{n.apply(s,T)}catch(P){this.onError(P)}}var ni=!1,ws=null,Es=!1,xl=null,eg={onError:function(e){ni=!0,ws=e}};function tg(e,n,s,u,c,f,p,g,w){ni=!1,ws=null,Z_.apply(eg,arguments)}function ng(e,n,s,u,c,f,p,g,w){if(tg.apply(this,arguments),ni){if(ni){var T=ws;ni=!1,ws=null}else throw Error(r(198));Es||(Es=!0,xl=T)}}function Un(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function fd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function hd(e){if(Un(e)!==e)throw Error(r(188))}function rg(e){var n=e.alternate;if(!n){if(n=Un(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,u=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(u=c.return,u!==null){s=u;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return hd(c),e;if(f===u)return hd(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==u.return)s=c,u=f;else{for(var p=!1,g=c.child;g;){if(g===s){p=!0,s=c,u=f;break}if(g===u){p=!0,u=c,s=f;break}g=g.sibling}if(!p){for(g=f.child;g;){if(g===s){p=!0,s=f,u=c;break}if(g===u){p=!0,u=f,s=c;break}g=g.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function pd(e){return e=rg(e),e!==null?md(e):null}function md(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=md(e);if(n!==null)return n;e=e.sibling}return null}var _d=t.unstable_scheduleCallback,gd=t.unstable_cancelCallback,ig=t.unstable_shouldYield,sg=t.unstable_requestPaint,Oe=t.unstable_now,og=t.unstable_getCurrentPriorityLevel,Pl=t.unstable_ImmediatePriority,yd=t.unstable_UserBlockingPriority,Cs=t.unstable_NormalPriority,lg=t.unstable_LowPriority,vd=t.unstable_IdlePriority,Ss=null,Ht=null;function ug(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Ss,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:dg,ag=Math.log,cg=Math.LN2;function dg(e){return e>>>=0,e===0?32:31-(ag(e)/cg|0)|0}var ks=64,Is=4194304;function ri(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ts(e,n){var s=e.pendingLanes;if(s===0)return 0;var u=0,c=e.suspendedLanes,f=e.pingedLanes,p=s&268435455;if(p!==0){var g=p&~c;g!==0?u=ri(g):(f&=p,f!==0&&(u=ri(f)))}else p=s&~c,p!==0?u=ri(p):f!==0&&(u=ri(f));if(u===0)return 0;if(n!==0&&n!==u&&!(n&c)&&(c=u&-u,f=n&-n,c>=f||c===16&&(f&4194240)!==0))return n;if(u&4&&(u|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)s=31-Pt(n),c=1<<s,u|=e[s],n&=~c;return u}function fg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hg(e,n){for(var s=e.suspendedLanes,u=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var p=31-Pt(f),g=1<<p,w=c[p];w===-1?(!(g&s)||g&u)&&(c[p]=fg(g,n)):w<=n&&(e.expiredLanes|=g),f&=~g}}function Dl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wd(){var e=ks;return ks<<=1,!(ks&4194240)&&(ks=64),e}function Ol(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ii(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Pt(n),e[n]=s}function pg(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Pt(s),f=1<<c;n[c]=0,u[c]=-1,e[c]=-1,s&=~f}}function Al(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var u=31-Pt(s),c=1<<u;c&n|e[u]&n&&(e[u]|=n),s&=~c}}var _e=0;function Ed(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cd,Ml,Sd,kd,Id,Ll=!1,Ns=[],hn=null,pn=null,mn=null,si=new Map,oi=new Map,_n=[],mg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Td(e,n){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":si.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(n.pointerId)}}function li(e,n,s,u,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:u,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ei(n),n!==null&&Ml(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function _g(e,n,s,u,c){switch(n){case"focusin":return hn=li(hn,e,n,s,u,c),!0;case"dragenter":return pn=li(pn,e,n,s,u,c),!0;case"mouseover":return mn=li(mn,e,n,s,u,c),!0;case"pointerover":var f=c.pointerId;return si.set(f,li(si.get(f)||null,e,n,s,u,c)),!0;case"gotpointercapture":return f=c.pointerId,oi.set(f,li(oi.get(f)||null,e,n,s,u,c)),!0}return!1}function Nd(e){var n=jn(e.target);if(n!==null){var s=Un(n);if(s!==null){if(n=s.tag,n===13){if(n=fd(s),n!==null){e.blockedOn=n,Id(e.priority,function(){Sd(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=zl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);kl=u,s.target.dispatchEvent(u),kl=null}else return n=Ei(s),n!==null&&Ml(n),e.blockedOn=s,!1;n.shift()}return!0}function Rd(e,n,s){Rs(e)&&s.delete(n)}function gg(){Ll=!1,hn!==null&&Rs(hn)&&(hn=null),pn!==null&&Rs(pn)&&(pn=null),mn!==null&&Rs(mn)&&(mn=null),si.forEach(Rd),oi.forEach(Rd)}function ui(e,n){e.blockedOn===n&&(e.blockedOn=null,Ll||(Ll=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gg)))}function ai(e){function n(c){return ui(c,e)}if(0<Ns.length){ui(Ns[0],e);for(var s=1;s<Ns.length;s++){var u=Ns[s];u.blockedOn===e&&(u.blockedOn=null)}}for(hn!==null&&ui(hn,e),pn!==null&&ui(pn,e),mn!==null&&ui(mn,e),si.forEach(n),oi.forEach(n),s=0;s<_n.length;s++)u=_n[s],u.blockedOn===e&&(u.blockedOn=null);for(;0<_n.length&&(s=_n[0],s.blockedOn===null);)Nd(s),s.blockedOn===null&&_n.shift()}var hr=G.ReactCurrentBatchConfig,xs=!0;function yg(e,n,s,u){var c=_e,f=hr.transition;hr.transition=null;try{_e=1,Fl(e,n,s,u)}finally{_e=c,hr.transition=f}}function vg(e,n,s,u){var c=_e,f=hr.transition;hr.transition=null;try{_e=4,Fl(e,n,s,u)}finally{_e=c,hr.transition=f}}function Fl(e,n,s,u){if(xs){var c=zl(e,n,s,u);if(c===null)eu(e,n,u,Ps,s),Td(e,u);else if(_g(c,e,n,s,u))u.stopPropagation();else if(Td(e,u),n&4&&-1<mg.indexOf(e)){for(;c!==null;){var f=Ei(c);if(f!==null&&Cd(f),f=zl(e,n,s,u),f===null&&eu(e,n,u,Ps,s),f===c)break;c=f}c!==null&&u.stopPropagation()}else eu(e,n,u,null,s)}}var Ps=null;function zl(e,n,s,u){if(Ps=null,e=Il(u),e=jn(e),e!==null)if(n=Un(e),n===null)e=null;else if(s=n.tag,s===13){if(e=fd(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Ps=e,null}function xd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(og()){case Pl:return 1;case yd:return 4;case Cs:case lg:return 16;case vd:return 536870912;default:return 16}default:return 16}}var gn=null,bl=null,Ds=null;function Pd(){if(Ds)return Ds;var e,n=bl,s=n.length,u,c="value"in gn?gn.value:gn.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var p=s-e;for(u=1;u<=p&&n[s-u]===c[f-u];u++);return Ds=c.slice(e,1<u?1-u:void 0)}function Os(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function Dd(){return!1}function _t(e){function n(s,u,c,f,p){this._reactName=s,this._targetInst=c,this.type=u,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(s=e[g],this[g]=s?s(f):f[g]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?As:Dd,this.isPropagationStopped=Dd,this}return j(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),n}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=_t(pr),ci=j({},pr,{view:0,detail:0}),wg=_t(ci),jl,Bl,di,Ms=j({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(jl=e.screenX-di.screenX,Bl=e.screenY-di.screenY):Bl=jl=0,di=e),jl)},movementY:function(e){return"movementY"in e?e.movementY:Bl}}),Od=_t(Ms),Eg=j({},Ms,{dataTransfer:0}),Cg=_t(Eg),Sg=j({},ci,{relatedTarget:0}),Wl=_t(Sg),kg=j({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ig=_t(kg),Tg=j({},pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ng=_t(Tg),Rg=j({},pr,{data:0}),Ad=_t(Rg),xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Og(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Dg[e])?!!n[e]:!1}function Hl(){return Og}var Ag=j({},ci,{key:function(e){if(e.key){var n=xg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(e){return e.type==="keypress"?Os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mg=_t(Ag),Lg=j({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Md=_t(Lg),Fg=j({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),zg=_t(Fg),bg=j({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ug=_t(bg),jg=j({},Ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bg=_t(jg),Wg=[9,13,27,32],Vl=h&&"CompositionEvent"in window,fi=null;h&&"documentMode"in document&&(fi=document.documentMode);var Hg=h&&"TextEvent"in window&&!fi,Ld=h&&(!Vl||fi&&8<fi&&11>=fi),Fd=" ",zd=!1;function bd(e,n){switch(e){case"keyup":return Wg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ud(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mr=!1;function Vg(e,n){switch(e){case"compositionend":return Ud(n);case"keypress":return n.which!==32?null:(zd=!0,Fd);case"textInput":return e=n.data,e===Fd&&zd?null:e;default:return null}}function $g(e,n){if(mr)return e==="compositionend"||!Vl&&bd(e,n)?(e=Pd(),Ds=bl=gn=null,mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ld&&n.locale!=="ko"?null:n.data;default:return null}}var Gg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Gg[e.type]:n==="textarea"}function Bd(e,n,s,u){ld(u),n=Us(n,"onChange"),0<n.length&&(s=new Ul("onChange","change",null,s,u),e.push({event:s,listeners:n}))}var hi=null,pi=null;function Qg(e){of(e,0)}function Ls(e){var n=wr(e);if(qc(n))return e}function Kg(e,n){if(e==="change")return n}var Wd=!1;if(h){var $l;if(h){var Gl="oninput"in document;if(!Gl){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),Gl=typeof Hd.oninput=="function"}$l=Gl}else $l=!1;Wd=$l&&(!document.documentMode||9<document.documentMode)}function Vd(){hi&&(hi.detachEvent("onpropertychange",$d),pi=hi=null)}function $d(e){if(e.propertyName==="value"&&Ls(pi)){var n=[];Bd(n,pi,e,Il(e)),dd(Qg,n)}}function qg(e,n,s){e==="focusin"?(Vd(),hi=n,pi=s,hi.attachEvent("onpropertychange",$d)):e==="focusout"&&Vd()}function Yg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ls(pi)}function Xg(e,n){if(e==="click")return Ls(n)}function Jg(e,n){if(e==="input"||e==="change")return Ls(n)}function Zg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dt=typeof Object.is=="function"?Object.is:Zg;function mi(e,n){if(Dt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var c=s[u];if(!m.call(n,c)||!Dt(e[c],n[c]))return!1}return!0}function Gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qd(e,n){var s=Gd(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=n&&u>=n)return{node:s,offset:n-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Gd(s)}}function Kd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Kd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qd(){for(var e=window,n=ys();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ys(e.document)}return n}function Ql(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function ey(e){var n=qd(),s=e.focusedElem,u=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Kd(s.ownerDocument.documentElement,s)){if(u!==null&&Ql(s)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,f=Math.min(u.start,c);u=u.end===void 0?f:Math.min(u.end,c),!e.extend&&f>u&&(c=u,u=f,f=c),c=Qd(s,f);var p=Qd(s,u);c&&p&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),f>u?(e.addRange(n),e.extend(p.node,p.offset)):(n.setEnd(p.node,p.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ty=h&&"documentMode"in document&&11>=document.documentMode,_r=null,Kl=null,_i=null,ql=!1;function Yd(e,n,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ql||_r==null||_r!==ys(u)||(u=_r,"selectionStart"in u&&Ql(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),_i&&mi(_i,u)||(_i=u,u=Us(Kl,"onSelect"),0<u.length&&(n=new Ul("onSelect","select",null,n,s),e.push({event:n,listeners:u}),n.target=_r)))}function Fs(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var gr={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionend:Fs("Transition","TransitionEnd")},Yl={},Xd={};h&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function zs(e){if(Yl[e])return Yl[e];if(!gr[e])return e;var n=gr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Xd)return Yl[e]=n[s];return e}var Jd=zs("animationend"),Zd=zs("animationiteration"),ef=zs("animationstart"),tf=zs("transitionend"),nf=new Map,rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,n){nf.set(e,n),a(n,[e])}for(var Xl=0;Xl<rf.length;Xl++){var Jl=rf[Xl],ny=Jl.toLowerCase(),ry=Jl[0].toUpperCase()+Jl.slice(1);yn(ny,"on"+ry)}yn(Jd,"onAnimationEnd"),yn(Zd,"onAnimationIteration"),yn(ef,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(tf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iy=new Set("cancel close invalid load scroll toggle".split(" ").concat(gi));function sf(e,n,s){var u=e.type||"unknown-event";e.currentTarget=s,ng(u,n,void 0,e),e.currentTarget=null}function of(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],c=u.event;u=u.listeners;e:{var f=void 0;if(n)for(var p=u.length-1;0<=p;p--){var g=u[p],w=g.instance,T=g.currentTarget;if(g=g.listener,w!==f&&c.isPropagationStopped())break e;sf(c,g,T),f=w}else for(p=0;p<u.length;p++){if(g=u[p],w=g.instance,T=g.currentTarget,g=g.listener,w!==f&&c.isPropagationStopped())break e;sf(c,g,T),f=w}}}if(Es)throw e=xl,Es=!1,xl=null,e}function Ce(e,n){var s=n[ou];s===void 0&&(s=n[ou]=new Set);var u=e+"__bubble";s.has(u)||(lf(n,e,2,!1),s.add(u))}function Zl(e,n,s){var u=0;n&&(u|=4),lf(s,e,u,n)}var bs="_reactListening"+Math.random().toString(36).slice(2);function yi(e){if(!e[bs]){e[bs]=!0,o.forEach(function(s){s!=="selectionchange"&&(iy.has(s)||Zl(s,!1,e),Zl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[bs]||(n[bs]=!0,Zl("selectionchange",!1,n))}}function lf(e,n,s,u){switch(xd(n)){case 1:var c=yg;break;case 4:c=vg;break;default:c=Fl}s=c.bind(null,n,s,e),c=void 0,!Rl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),u?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function eu(e,n,s,u,c){var f=u;if(!(n&1)&&!(n&2)&&u!==null)e:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var g=u.stateNode.containerInfo;if(g===c||g.nodeType===8&&g.parentNode===c)break;if(p===4)for(p=u.return;p!==null;){var w=p.tag;if((w===3||w===4)&&(w=p.stateNode.containerInfo,w===c||w.nodeType===8&&w.parentNode===c))return;p=p.return}for(;g!==null;){if(p=jn(g),p===null)return;if(w=p.tag,w===5||w===6){u=f=p;continue e}g=g.parentNode}}u=u.return}dd(function(){var T=f,P=Il(s),D=[];e:{var R=nf.get(e);if(R!==void 0){var z=Ul,B=e;switch(e){case"keypress":if(Os(s)===0)break e;case"keydown":case"keyup":z=Mg;break;case"focusin":B="focus",z=Wl;break;case"focusout":B="blur",z=Wl;break;case"beforeblur":case"afterblur":z=Wl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Cg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=zg;break;case Jd:case Zd:case ef:z=Ig;break;case tf:z=Ug;break;case"scroll":z=wg;break;case"wheel":z=Bg;break;case"copy":case"cut":case"paste":z=Ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Md}var W=(n&4)!==0,Ae=!W&&e==="scroll",k=W?R!==null?R+"Capture":null:R;W=[];for(var E=T,I;E!==null;){I=E;var A=I.stateNode;if(I.tag===5&&A!==null&&(I=A,k!==null&&(A=ei(E,k),A!=null&&W.push(vi(E,A,I)))),Ae)break;E=E.return}0<W.length&&(R=new z(R,B,null,s,P),D.push({event:R,listeners:W}))}}if(!(n&7)){e:{if(R=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",R&&s!==kl&&(B=s.relatedTarget||s.fromElement)&&(jn(B)||B[Yt]))break e;if((z||R)&&(R=P.window===P?P:(R=P.ownerDocument)?R.defaultView||R.parentWindow:window,z?(B=s.relatedTarget||s.toElement,z=T,B=B?jn(B):null,B!==null&&(Ae=Un(B),B!==Ae||B.tag!==5&&B.tag!==6)&&(B=null)):(z=null,B=T),z!==B)){if(W=Od,A="onMouseLeave",k="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(W=Md,A="onPointerLeave",k="onPointerEnter",E="pointer"),Ae=z==null?R:wr(z),I=B==null?R:wr(B),R=new W(A,E+"leave",z,s,P),R.target=Ae,R.relatedTarget=I,A=null,jn(P)===T&&(W=new W(k,E+"enter",B,s,P),W.target=I,W.relatedTarget=Ae,A=W),Ae=A,z&&B)t:{for(W=z,k=B,E=0,I=W;I;I=yr(I))E++;for(I=0,A=k;A;A=yr(A))I++;for(;0<E-I;)W=yr(W),E--;for(;0<I-E;)k=yr(k),I--;for(;E--;){if(W===k||k!==null&&W===k.alternate)break t;W=yr(W),k=yr(k)}W=null}else W=null;z!==null&&uf(D,R,z,W,!1),B!==null&&Ae!==null&&uf(D,Ae,B,W,!0)}}e:{if(R=T?wr(T):window,z=R.nodeName&&R.nodeName.toLowerCase(),z==="select"||z==="input"&&R.type==="file")var H=Kg;else if(jd(R))if(Wd)H=Jg;else{H=Yg;var V=qg}else(z=R.nodeName)&&z.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(H=Xg);if(H&&(H=H(e,T))){Bd(D,H,s,P);break e}V&&V(e,R,T),e==="focusout"&&(V=R._wrapperState)&&V.controlled&&R.type==="number"&&vl(R,"number",R.value)}switch(V=T?wr(T):window,e){case"focusin":(jd(V)||V.contentEditable==="true")&&(_r=V,Kl=T,_i=null);break;case"focusout":_i=Kl=_r=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,Yd(D,s,P);break;case"selectionchange":if(ty)break;case"keydown":case"keyup":Yd(D,s,P)}var $;if(Vl)e:{switch(e){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else mr?bd(e,s)&&(Y="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Y="onCompositionStart");Y&&(Ld&&s.locale!=="ko"&&(mr||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&mr&&($=Pd()):(gn=P,bl="value"in gn?gn.value:gn.textContent,mr=!0)),V=Us(T,Y),0<V.length&&(Y=new Ad(Y,e,null,s,P),D.push({event:Y,listeners:V}),$?Y.data=$:($=Ud(s),$!==null&&(Y.data=$)))),($=Hg?Vg(e,s):$g(e,s))&&(T=Us(T,"onBeforeInput"),0<T.length&&(P=new Ad("onBeforeInput","beforeinput",null,s,P),D.push({event:P,listeners:T}),P.data=$))}of(D,n)})}function vi(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Us(e,n){for(var s=n+"Capture",u=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=ei(e,s),f!=null&&u.unshift(vi(e,f,c)),f=ei(e,n),f!=null&&u.push(vi(e,f,c))),e=e.return}return u}function yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uf(e,n,s,u,c){for(var f=n._reactName,p=[];s!==null&&s!==u;){var g=s,w=g.alternate,T=g.stateNode;if(w!==null&&w===u)break;g.tag===5&&T!==null&&(g=T,c?(w=ei(s,f),w!=null&&p.unshift(vi(s,w,g))):c||(w=ei(s,f),w!=null&&p.push(vi(s,w,g)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var sy=/\r\n?/g,oy=/\u0000|\uFFFD/g;function af(e){return(typeof e=="string"?e:""+e).replace(sy,`
`).replace(oy,"")}function js(e,n,s){if(n=af(n),af(e)!==n&&s)throw Error(r(425))}function Bs(){}var tu=null,nu=null;function ru(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var iu=typeof setTimeout=="function"?setTimeout:void 0,ly=typeof clearTimeout=="function"?clearTimeout:void 0,cf=typeof Promise=="function"?Promise:void 0,uy=typeof queueMicrotask=="function"?queueMicrotask:typeof cf<"u"?function(e){return cf.resolve(null).then(e).catch(ay)}:iu;function ay(e){setTimeout(function(){throw e})}function su(e,n){var s=n,u=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(u===0){e.removeChild(c),ai(n);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=c}while(s);ai(n)}function vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function df(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var vr=Math.random().toString(36).slice(2),Vt="__reactFiber$"+vr,wi="__reactProps$"+vr,Yt="__reactContainer$"+vr,ou="__reactEvents$"+vr,cy="__reactListeners$"+vr,dy="__reactHandles$"+vr;function jn(e){var n=e[Vt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Yt]||s[Vt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=df(e);e!==null;){if(s=e[Vt])return s;e=df(e)}return n}e=s,s=e.parentNode}return null}function Ei(e){return e=e[Vt]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Ws(e){return e[wi]||null}var lu=[],Er=-1;function wn(e){return{current:e}}function Se(e){0>Er||(e.current=lu[Er],lu[Er]=null,Er--)}function ve(e,n){Er++,lu[Er]=e.current,e.current=n}var En={},Ye=wn(En),it=wn(!1),Bn=En;function Cr(e,n){var s=e.type.contextTypes;if(!s)return En;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in s)c[f]=n[f];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function st(e){return e=e.childContextTypes,e!=null}function Hs(){Se(it),Se(Ye)}function ff(e,n,s){if(Ye.current!==En)throw Error(r(168));ve(Ye,n),ve(it,s)}function hf(e,n,s){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var c in u)if(!(c in n))throw Error(r(108,ye(e)||"Unknown",c));return j({},s,u)}function Vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Bn=Ye.current,ve(Ye,e),ve(it,it.current),!0}function pf(e,n,s){var u=e.stateNode;if(!u)throw Error(r(169));s?(e=hf(e,n,Bn),u.__reactInternalMemoizedMergedChildContext=e,Se(it),Se(Ye),ve(Ye,e)):Se(it),ve(it,s)}var Xt=null,$s=!1,uu=!1;function mf(e){Xt===null?Xt=[e]:Xt.push(e)}function fy(e){$s=!0,mf(e)}function Cn(){if(!uu&&Xt!==null){uu=!0;var e=0,n=_e;try{var s=Xt;for(_e=1;e<s.length;e++){var u=s[e];do u=u(!0);while(u!==null)}Xt=null,$s=!1}catch(c){throw Xt!==null&&(Xt=Xt.slice(e+1)),_d(Pl,Cn),c}finally{_e=n,uu=!1}}return null}var Sr=[],kr=0,Gs=null,Qs=0,Ct=[],St=0,Wn=null,Jt=1,Zt="";function Hn(e,n){Sr[kr++]=Qs,Sr[kr++]=Gs,Gs=e,Qs=n}function _f(e,n,s){Ct[St++]=Jt,Ct[St++]=Zt,Ct[St++]=Wn,Wn=e;var u=Jt;e=Zt;var c=32-Pt(u)-1;u&=~(1<<c),s+=1;var f=32-Pt(n)+c;if(30<f){var p=c-c%5;f=(u&(1<<p)-1).toString(32),u>>=p,c-=p,Jt=1<<32-Pt(n)+c|s<<c|u,Zt=f+e}else Jt=1<<f|s<<c|u,Zt=e}function au(e){e.return!==null&&(Hn(e,1),_f(e,1,0))}function cu(e){for(;e===Gs;)Gs=Sr[--kr],Sr[kr]=null,Qs=Sr[--kr],Sr[kr]=null;for(;e===Wn;)Wn=Ct[--St],Ct[St]=null,Zt=Ct[--St],Ct[St]=null,Jt=Ct[--St],Ct[St]=null}var gt=null,yt=null,Te=!1,Ot=null;function gf(e,n){var s=Nt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function yf(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,gt=e,yt=vn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,gt=e,yt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Wn!==null?{id:Jt,overflow:Zt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Nt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,gt=e,yt=null,!0):!1;default:return!1}}function du(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fu(e){if(Te){var n=yt;if(n){var s=n;if(!yf(e,n)){if(du(e))throw Error(r(418));n=vn(s.nextSibling);var u=gt;n&&yf(e,n)?gf(u,s):(e.flags=e.flags&-4097|2,Te=!1,gt=e)}}else{if(du(e))throw Error(r(418));e.flags=e.flags&-4097|2,Te=!1,gt=e}}}function vf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Ks(e){if(e!==gt)return!1;if(!Te)return vf(e),Te=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!ru(e.type,e.memoizedProps)),n&&(n=yt)){if(du(e))throw wf(),Error(r(418));for(;n;)gf(e,n),n=vn(n.nextSibling)}if(vf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){yt=vn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}yt=null}}else yt=gt?vn(e.stateNode.nextSibling):null;return!0}function wf(){for(var e=yt;e;)e=vn(e.nextSibling)}function Ir(){yt=gt=null,Te=!1}function hu(e){Ot===null?Ot=[e]:Ot.push(e)}var hy=G.ReactCurrentBatchConfig;function Ci(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var u=s.stateNode}if(!u)throw Error(r(147,e));var c=u,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(p){var g=c.refs;p===null?delete g[f]:g[f]=p},n._stringRef=f,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function qs(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Ef(e){var n=e._init;return n(e._payload)}function Cf(e){function n(k,E){if(e){var I=k.deletions;I===null?(k.deletions=[E],k.flags|=16):I.push(E)}}function s(k,E){if(!e)return null;for(;E!==null;)n(k,E),E=E.sibling;return null}function u(k,E){for(k=new Map;E!==null;)E.key!==null?k.set(E.key,E):k.set(E.index,E),E=E.sibling;return k}function c(k,E){return k=Pn(k,E),k.index=0,k.sibling=null,k}function f(k,E,I){return k.index=I,e?(I=k.alternate,I!==null?(I=I.index,I<E?(k.flags|=2,E):I):(k.flags|=2,E)):(k.flags|=1048576,E)}function p(k){return e&&k.alternate===null&&(k.flags|=2),k}function g(k,E,I,A){return E===null||E.tag!==6?(E=ia(I,k.mode,A),E.return=k,E):(E=c(E,I),E.return=k,E)}function w(k,E,I,A){var H=I.type;return H===pe?P(k,E,I.props.children,A,I.key):E!==null&&(E.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===rt&&Ef(H)===E.type)?(A=c(E,I.props),A.ref=Ci(k,E,I),A.return=k,A):(A=wo(I.type,I.key,I.props,null,k.mode,A),A.ref=Ci(k,E,I),A.return=k,A)}function T(k,E,I,A){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=sa(I,k.mode,A),E.return=k,E):(E=c(E,I.children||[]),E.return=k,E)}function P(k,E,I,A,H){return E===null||E.tag!==7?(E=Xn(I,k.mode,A,H),E.return=k,E):(E=c(E,I),E.return=k,E)}function D(k,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ia(""+E,k.mode,I),E.return=k,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Z:return I=wo(E.type,E.key,E.props,null,k.mode,I),I.ref=Ci(k,null,E),I.return=k,I;case X:return E=sa(E,k.mode,I),E.return=k,E;case rt:var A=E._init;return D(k,A(E._payload),I)}if(Xr(E)||Q(E))return E=Xn(E,k.mode,I,null),E.return=k,E;qs(k,E)}return null}function R(k,E,I,A){var H=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return H!==null?null:g(k,E,""+I,A);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Z:return I.key===H?w(k,E,I,A):null;case X:return I.key===H?T(k,E,I,A):null;case rt:return H=I._init,R(k,E,H(I._payload),A)}if(Xr(I)||Q(I))return H!==null?null:P(k,E,I,A,null);qs(k,I)}return null}function z(k,E,I,A,H){if(typeof A=="string"&&A!==""||typeof A=="number")return k=k.get(I)||null,g(E,k,""+A,H);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Z:return k=k.get(A.key===null?I:A.key)||null,w(E,k,A,H);case X:return k=k.get(A.key===null?I:A.key)||null,T(E,k,A,H);case rt:var V=A._init;return z(k,E,I,V(A._payload),H)}if(Xr(A)||Q(A))return k=k.get(I)||null,P(E,k,A,H,null);qs(E,A)}return null}function B(k,E,I,A){for(var H=null,V=null,$=E,Y=E=0,Be=null;$!==null&&Y<I.length;Y++){$.index>Y?(Be=$,$=null):Be=$.sibling;var de=R(k,$,I[Y],A);if(de===null){$===null&&($=Be);break}e&&$&&de.alternate===null&&n(k,$),E=f(de,E,Y),V===null?H=de:V.sibling=de,V=de,$=Be}if(Y===I.length)return s(k,$),Te&&Hn(k,Y),H;if($===null){for(;Y<I.length;Y++)$=D(k,I[Y],A),$!==null&&(E=f($,E,Y),V===null?H=$:V.sibling=$,V=$);return Te&&Hn(k,Y),H}for($=u(k,$);Y<I.length;Y++)Be=z($,k,Y,I[Y],A),Be!==null&&(e&&Be.alternate!==null&&$.delete(Be.key===null?Y:Be.key),E=f(Be,E,Y),V===null?H=Be:V.sibling=Be,V=Be);return e&&$.forEach(function(Dn){return n(k,Dn)}),Te&&Hn(k,Y),H}function W(k,E,I,A){var H=Q(I);if(typeof H!="function")throw Error(r(150));if(I=H.call(I),I==null)throw Error(r(151));for(var V=H=null,$=E,Y=E=0,Be=null,de=I.next();$!==null&&!de.done;Y++,de=I.next()){$.index>Y?(Be=$,$=null):Be=$.sibling;var Dn=R(k,$,de.value,A);if(Dn===null){$===null&&($=Be);break}e&&$&&Dn.alternate===null&&n(k,$),E=f(Dn,E,Y),V===null?H=Dn:V.sibling=Dn,V=Dn,$=Be}if(de.done)return s(k,$),Te&&Hn(k,Y),H;if($===null){for(;!de.done;Y++,de=I.next())de=D(k,de.value,A),de!==null&&(E=f(de,E,Y),V===null?H=de:V.sibling=de,V=de);return Te&&Hn(k,Y),H}for($=u(k,$);!de.done;Y++,de=I.next())de=z($,k,Y,de.value,A),de!==null&&(e&&de.alternate!==null&&$.delete(de.key===null?Y:de.key),E=f(de,E,Y),V===null?H=de:V.sibling=de,V=de);return e&&$.forEach(function($y){return n(k,$y)}),Te&&Hn(k,Y),H}function Ae(k,E,I,A){if(typeof I=="object"&&I!==null&&I.type===pe&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Z:e:{for(var H=I.key,V=E;V!==null;){if(V.key===H){if(H=I.type,H===pe){if(V.tag===7){s(k,V.sibling),E=c(V,I.props.children),E.return=k,k=E;break e}}else if(V.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===rt&&Ef(H)===V.type){s(k,V.sibling),E=c(V,I.props),E.ref=Ci(k,V,I),E.return=k,k=E;break e}s(k,V);break}else n(k,V);V=V.sibling}I.type===pe?(E=Xn(I.props.children,k.mode,A,I.key),E.return=k,k=E):(A=wo(I.type,I.key,I.props,null,k.mode,A),A.ref=Ci(k,E,I),A.return=k,k=A)}return p(k);case X:e:{for(V=I.key;E!==null;){if(E.key===V)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){s(k,E.sibling),E=c(E,I.children||[]),E.return=k,k=E;break e}else{s(k,E);break}else n(k,E);E=E.sibling}E=sa(I,k.mode,A),E.return=k,k=E}return p(k);case rt:return V=I._init,Ae(k,E,V(I._payload),A)}if(Xr(I))return B(k,E,I,A);if(Q(I))return W(k,E,I,A);qs(k,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(s(k,E.sibling),E=c(E,I),E.return=k,k=E):(s(k,E),E=ia(I,k.mode,A),E.return=k,k=E),p(k)):s(k,E)}return Ae}var Tr=Cf(!0),Sf=Cf(!1),Ys=wn(null),Xs=null,Nr=null,pu=null;function mu(){pu=Nr=Xs=null}function _u(e){var n=Ys.current;Se(Ys),e._currentValue=n}function gu(e,n,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===s)break;e=e.return}}function Rr(e,n){Xs=e,pu=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ot=!0),e.firstContext=null)}function kt(e){var n=e._currentValue;if(pu!==e)if(e={context:e,memoizedValue:n,next:null},Nr===null){if(Xs===null)throw Error(r(308));Nr=e,Xs.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return n}var Vn=null;function yu(e){Vn===null?Vn=[e]:Vn.push(e)}function kf(e,n,s,u){var c=n.interleaved;return c===null?(s.next=s,yu(n)):(s.next=c.next,c.next=s),n.interleaved=s,en(e,u)}function en(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Sn=!1;function vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function If(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function kn(e,n,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,ue&2){var c=u.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),u.pending=n,en(e,s)}return c=u.interleaved,c===null?(n.next=n,yu(u)):(n.next=c.next,c.next=n),u.interleaved=n,en(e,s)}function Js(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,Al(e,s)}}function Tf(e,n){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?c=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:u.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:u.shared,effects:u.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Zs(e,n,s,u){var c=e.updateQueue;Sn=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,g=c.shared.pending;if(g!==null){c.shared.pending=null;var w=g,T=w.next;w.next=null,p===null?f=T:p.next=T,p=w;var P=e.alternate;P!==null&&(P=P.updateQueue,g=P.lastBaseUpdate,g!==p&&(g===null?P.firstBaseUpdate=T:g.next=T,P.lastBaseUpdate=w))}if(f!==null){var D=c.baseState;p=0,P=T=w=null,g=f;do{var R=g.lane,z=g.eventTime;if((u&R)===R){P!==null&&(P=P.next={eventTime:z,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var B=e,W=g;switch(R=n,z=s,W.tag){case 1:if(B=W.payload,typeof B=="function"){D=B.call(z,D,R);break e}D=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=W.payload,R=typeof B=="function"?B.call(z,D,R):B,R==null)break e;D=j({},D,R);break e;case 2:Sn=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,R=c.effects,R===null?c.effects=[g]:R.push(g))}else z={eventTime:z,lane:R,tag:g.tag,payload:g.payload,callback:g.callback,next:null},P===null?(T=P=z,w=D):P=P.next=z,p|=R;if(g=g.next,g===null){if(g=c.shared.pending,g===null)break;R=g,g=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);if(P===null&&(w=D),c.baseState=w,c.firstBaseUpdate=T,c.lastBaseUpdate=P,n=c.shared.interleaved,n!==null){c=n;do p|=c.lane,c=c.next;while(c!==n)}else f===null&&(c.shared.lanes=0);Qn|=p,e.lanes=p,e.memoizedState=D}}function Nf(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],c=u.callback;if(c!==null){if(u.callback=null,u=s,typeof c!="function")throw Error(r(191,c));c.call(u)}}}var Si={},$t=wn(Si),ki=wn(Si),Ii=wn(Si);function $n(e){if(e===Si)throw Error(r(174));return e}function wu(e,n){switch(ve(Ii,n),ve(ki,e),ve($t,Si),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:El(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=El(n,e)}Se($t),ve($t,n)}function xr(){Se($t),Se(ki),Se(Ii)}function Rf(e){$n(Ii.current);var n=$n($t.current),s=El(n,e.type);n!==s&&(ve(ki,e),ve($t,s))}function Eu(e){ki.current===e&&(Se($t),Se(ki))}var Ne=wn(0);function eo(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Cu=[];function Su(){for(var e=0;e<Cu.length;e++)Cu[e]._workInProgressVersionPrimary=null;Cu.length=0}var to=G.ReactCurrentDispatcher,ku=G.ReactCurrentBatchConfig,Gn=0,Re=null,Le=null,Ue=null,no=!1,Ti=!1,Ni=0,py=0;function Xe(){throw Error(r(321))}function Iu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Dt(e[s],n[s]))return!1;return!0}function Tu(e,n,s,u,c,f){if(Gn=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,to.current=e===null||e.memoizedState===null?yy:vy,e=s(u,c),Ti){f=0;do{if(Ti=!1,Ni=0,25<=f)throw Error(r(301));f+=1,Ue=Le=null,n.updateQueue=null,to.current=wy,e=s(u,c)}while(Ti)}if(to.current=so,n=Le!==null&&Le.next!==null,Gn=0,Ue=Le=Re=null,no=!1,n)throw Error(r(300));return e}function Nu(){var e=Ni!==0;return Ni=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Re.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function It(){if(Le===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var n=Ue===null?Re.memoizedState:Ue.next;if(n!==null)Ue=n,Le=e;else{if(e===null)throw Error(r(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ue===null?Re.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function Ri(e,n){return typeof n=="function"?n(e):n}function Ru(e){var n=It(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var u=Le,c=u.baseQueue,f=s.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}u.baseQueue=c=f,s.pending=null}if(c!==null){f=c.next,u=u.baseState;var g=p=null,w=null,T=f;do{var P=T.lane;if((Gn&P)===P)w!==null&&(w=w.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),u=T.hasEagerState?T.eagerState:e(u,T.action);else{var D={lane:P,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};w===null?(g=w=D,p=u):w=w.next=D,Re.lanes|=P,Qn|=P}T=T.next}while(T!==null&&T!==f);w===null?p=u:w.next=g,Dt(u,n.memoizedState)||(ot=!0),n.memoizedState=u,n.baseState=p,n.baseQueue=w,s.lastRenderedState=u}if(e=s.interleaved,e!==null){c=e;do f=c.lane,Re.lanes|=f,Qn|=f,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function xu(e){var n=It(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var u=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);Dt(f,n.memoizedState)||(ot=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,u]}function xf(){}function Pf(e,n){var s=Re,u=It(),c=n(),f=!Dt(u.memoizedState,c);if(f&&(u.memoizedState=c,ot=!0),u=u.queue,Pu(Af.bind(null,s,u,e),[e]),u.getSnapshot!==n||f||Ue!==null&&Ue.memoizedState.tag&1){if(s.flags|=2048,xi(9,Of.bind(null,s,u,c,n),void 0,null),je===null)throw Error(r(349));Gn&30||Df(s,n,c)}return c}function Df(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Re.updateQueue,n===null?(n={lastEffect:null,stores:null},Re.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Of(e,n,s,u){n.value=s,n.getSnapshot=u,Mf(n)&&Lf(e)}function Af(e,n,s){return s(function(){Mf(n)&&Lf(e)})}function Mf(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Dt(e,s)}catch{return!0}}function Lf(e){var n=en(e,1);n!==null&&Ft(n,e,1,-1)}function Ff(e){var n=Gt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},n.queue=e,e=e.dispatch=gy.bind(null,Re,e),[n.memoizedState,e]}function xi(e,n,s,u){return e={tag:e,create:n,destroy:s,deps:u,next:null},n=Re.updateQueue,n===null?(n={lastEffect:null,stores:null},Re.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,n.lastEffect=e)),e}function zf(){return It().memoizedState}function ro(e,n,s,u){var c=Gt();Re.flags|=e,c.memoizedState=xi(1|n,s,void 0,u===void 0?null:u)}function io(e,n,s,u){var c=It();u=u===void 0?null:u;var f=void 0;if(Le!==null){var p=Le.memoizedState;if(f=p.destroy,u!==null&&Iu(u,p.deps)){c.memoizedState=xi(n,s,f,u);return}}Re.flags|=e,c.memoizedState=xi(1|n,s,f,u)}function bf(e,n){return ro(8390656,8,e,n)}function Pu(e,n){return io(2048,8,e,n)}function Uf(e,n){return io(4,2,e,n)}function jf(e,n){return io(4,4,e,n)}function Bf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Wf(e,n,s){return s=s!=null?s.concat([e]):null,io(4,4,Bf.bind(null,n,e),s)}function Du(){}function Hf(e,n){var s=It();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&Iu(n,u[1])?u[0]:(s.memoizedState=[e,n],e)}function Vf(e,n){var s=It();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&Iu(n,u[1])?u[0]:(e=e(),s.memoizedState=[e,n],e)}function $f(e,n,s){return Gn&21?(Dt(s,n)||(s=wd(),Re.lanes|=s,Qn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=s)}function my(e,n){var s=_e;_e=s!==0&&4>s?s:4,e(!0);var u=ku.transition;ku.transition={};try{e(!1),n()}finally{_e=s,ku.transition=u}}function Gf(){return It().memoizedState}function _y(e,n,s){var u=Rn(e);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},Qf(e))Kf(n,s);else if(s=kf(e,n,s,u),s!==null){var c=nt();Ft(s,e,u,c),qf(s,n,u)}}function gy(e,n,s){var u=Rn(e),c={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qf(e))Kf(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,g=f(p,s);if(c.hasEagerState=!0,c.eagerState=g,Dt(g,p)){var w=n.interleaved;w===null?(c.next=c,yu(n)):(c.next=w.next,w.next=c),n.interleaved=c;return}}catch{}finally{}s=kf(e,n,c,u),s!==null&&(c=nt(),Ft(s,e,u,c),qf(s,n,u))}}function Qf(e){var n=e.alternate;return e===Re||n!==null&&n===Re}function Kf(e,n){Ti=no=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function qf(e,n,s){if(s&4194240){var u=n.lanes;u&=e.pendingLanes,s|=u,n.lanes=s,Al(e,s)}}var so={readContext:kt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},yy={readContext:kt,useCallback:function(e,n){return Gt().memoizedState=[e,n===void 0?null:n],e},useContext:kt,useEffect:bf,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,ro(4194308,4,Bf.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ro(4194308,4,e,n)},useInsertionEffect:function(e,n){return ro(4,2,e,n)},useMemo:function(e,n){var s=Gt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var u=Gt();return n=s!==void 0?s(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=_y.bind(null,Re,e),[u.memoizedState,e]},useRef:function(e){var n=Gt();return e={current:e},n.memoizedState=e},useState:Ff,useDebugValue:Du,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Ff(!1),n=e[0];return e=my.bind(null,e[1]),Gt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var u=Re,c=Gt();if(Te){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),je===null)throw Error(r(349));Gn&30||Df(u,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,bf(Af.bind(null,u,f,e),[e]),u.flags|=2048,xi(9,Of.bind(null,u,f,s,n),void 0,null),s},useId:function(){var e=Gt(),n=je.identifierPrefix;if(Te){var s=Zt,u=Jt;s=(u&~(1<<32-Pt(u)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ni++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=py++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},vy={readContext:kt,useCallback:Hf,useContext:kt,useEffect:Pu,useImperativeHandle:Wf,useInsertionEffect:Uf,useLayoutEffect:jf,useMemo:Vf,useReducer:Ru,useRef:zf,useState:function(){return Ru(Ri)},useDebugValue:Du,useDeferredValue:function(e){var n=It();return $f(n,Le.memoizedState,e)},useTransition:function(){var e=Ru(Ri)[0],n=It().memoizedState;return[e,n]},useMutableSource:xf,useSyncExternalStore:Pf,useId:Gf,unstable_isNewReconciler:!1},wy={readContext:kt,useCallback:Hf,useContext:kt,useEffect:Pu,useImperativeHandle:Wf,useInsertionEffect:Uf,useLayoutEffect:jf,useMemo:Vf,useReducer:xu,useRef:zf,useState:function(){return xu(Ri)},useDebugValue:Du,useDeferredValue:function(e){var n=It();return Le===null?n.memoizedState=e:$f(n,Le.memoizedState,e)},useTransition:function(){var e=xu(Ri)[0],n=It().memoizedState;return[e,n]},useMutableSource:xf,useSyncExternalStore:Pf,useId:Gf,unstable_isNewReconciler:!1};function At(e,n){if(e&&e.defaultProps){n=j({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Ou(e,n,s,u){n=e.memoizedState,s=s(u,n),s=s==null?n:j({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var oo={isMounted:function(e){return(e=e._reactInternals)?Un(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var u=nt(),c=Rn(e),f=tn(u,c);f.payload=n,s!=null&&(f.callback=s),n=kn(e,f,c),n!==null&&(Ft(n,e,c,u),Js(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var u=nt(),c=Rn(e),f=tn(u,c);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=kn(e,f,c),n!==null&&(Ft(n,e,c,u),Js(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=nt(),u=Rn(e),c=tn(s,u);c.tag=2,n!=null&&(c.callback=n),n=kn(e,c,u),n!==null&&(Ft(n,e,u,s),Js(n,e,u))}};function Yf(e,n,s,u,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,f,p):n.prototype&&n.prototype.isPureReactComponent?!mi(s,u)||!mi(c,f):!0}function Xf(e,n,s){var u=!1,c=En,f=n.contextType;return typeof f=="object"&&f!==null?f=kt(f):(c=st(n)?Bn:Ye.current,u=n.contextTypes,f=(u=u!=null)?Cr(e,c):En),n=new n(s,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=oo,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),n}function Jf(e,n,s,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==e&&oo.enqueueReplaceState(n,n.state,null)}function Au(e,n,s,u){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},vu(e);var f=n.contextType;typeof f=="object"&&f!==null?c.context=kt(f):(f=st(n)?Bn:Ye.current,c.context=Cr(e,f)),c.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Ou(e,n,f,s),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&oo.enqueueReplaceState(c,c.state,null),Zs(e,s,c,u),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Pr(e,n){try{var s="",u=n;do s+=ae(u),u=u.return;while(u);var c=s}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:c,digest:null}}function Mu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Lu(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Ey=typeof WeakMap=="function"?WeakMap:Map;function Zf(e,n,s){s=tn(-1,s),s.tag=3,s.payload={element:null};var u=n.value;return s.callback=function(){po||(po=!0,Yu=u),Lu(e,n)},s}function eh(e,n,s){s=tn(-1,s),s.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var c=n.value;s.payload=function(){return u(c)},s.callback=function(){Lu(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){Lu(e,n),typeof u!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})}),s}function th(e,n,s){var u=e.pingCache;if(u===null){u=e.pingCache=new Ey;var c=new Set;u.set(n,c)}else c=u.get(n),c===void 0&&(c=new Set,u.set(n,c));c.has(s)||(c.add(s),e=Ly.bind(null,e,n,s),n.then(e,e))}function nh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function rh(e,n,s,u,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=tn(-1,1),n.tag=2,kn(s,n,1))),s.lanes|=1),e)}var Cy=G.ReactCurrentOwner,ot=!1;function tt(e,n,s,u){n.child=e===null?Sf(n,null,s,u):Tr(n,e.child,s,u)}function ih(e,n,s,u,c){s=s.render;var f=n.ref;return Rr(n,c),u=Tu(e,n,s,u,f,c),s=Nu(),e!==null&&!ot?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,nn(e,n,c)):(Te&&s&&au(n),n.flags|=1,tt(e,n,u,c),n.child)}function sh(e,n,s,u,c){if(e===null){var f=s.type;return typeof f=="function"&&!ra(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=f,oh(e,n,f,u,c)):(e=wo(s.type,null,u,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&c)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:mi,s(p,u)&&e.ref===n.ref)return nn(e,n,c)}return n.flags|=1,e=Pn(f,u),e.ref=n.ref,e.return=n,n.child=e}function oh(e,n,s,u,c){if(e!==null){var f=e.memoizedProps;if(mi(f,u)&&e.ref===n.ref)if(ot=!1,n.pendingProps=u=f,(e.lanes&c)!==0)e.flags&131072&&(ot=!0);else return n.lanes=e.lanes,nn(e,n,c)}return Fu(e,n,s,u,c)}function lh(e,n,s){var u=n.pendingProps,c=u.children,f=e!==null?e.memoizedState:null;if(u.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Or,vt),vt|=s;else{if(!(s&1073741824))return e=f!==null?f.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ve(Or,vt),vt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:s,ve(Or,vt),vt|=u}else f!==null?(u=f.baseLanes|s,n.memoizedState=null):u=s,ve(Or,vt),vt|=u;return tt(e,n,c,s),n.child}function uh(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Fu(e,n,s,u,c){var f=st(s)?Bn:Ye.current;return f=Cr(n,f),Rr(n,c),s=Tu(e,n,s,u,f,c),u=Nu(),e!==null&&!ot?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,nn(e,n,c)):(Te&&u&&au(n),n.flags|=1,tt(e,n,s,c),n.child)}function ah(e,n,s,u,c){if(st(s)){var f=!0;Vs(n)}else f=!1;if(Rr(n,c),n.stateNode===null)uo(e,n),Xf(n,s,u),Au(n,s,u,c),u=!0;else if(e===null){var p=n.stateNode,g=n.memoizedProps;p.props=g;var w=p.context,T=s.contextType;typeof T=="object"&&T!==null?T=kt(T):(T=st(s)?Bn:Ye.current,T=Cr(n,T));var P=s.getDerivedStateFromProps,D=typeof P=="function"||typeof p.getSnapshotBeforeUpdate=="function";D||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(g!==u||w!==T)&&Jf(n,p,u,T),Sn=!1;var R=n.memoizedState;p.state=R,Zs(n,u,p,c),w=n.memoizedState,g!==u||R!==w||it.current||Sn?(typeof P=="function"&&(Ou(n,s,P,u),w=n.memoizedState),(g=Sn||Yf(n,s,g,u,R,w,T))?(D||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=w),p.props=u,p.state=w,p.context=T,u=g):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{p=n.stateNode,If(e,n),g=n.memoizedProps,T=n.type===n.elementType?g:At(n.type,g),p.props=T,D=n.pendingProps,R=p.context,w=s.contextType,typeof w=="object"&&w!==null?w=kt(w):(w=st(s)?Bn:Ye.current,w=Cr(n,w));var z=s.getDerivedStateFromProps;(P=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(g!==D||R!==w)&&Jf(n,p,u,w),Sn=!1,R=n.memoizedState,p.state=R,Zs(n,u,p,c);var B=n.memoizedState;g!==D||R!==B||it.current||Sn?(typeof z=="function"&&(Ou(n,s,z,u),B=n.memoizedState),(T=Sn||Yf(n,s,T,u,R,B,w)||!1)?(P||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,B,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,B,w)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||g===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=B),p.props=u,p.state=B,p.context=w,u=T):(typeof p.componentDidUpdate!="function"||g===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),u=!1)}return zu(e,n,s,u,f,c)}function zu(e,n,s,u,c,f){uh(e,n);var p=(n.flags&128)!==0;if(!u&&!p)return c&&pf(n,s,!1),nn(e,n,f);u=n.stateNode,Cy.current=n;var g=p&&typeof s.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&p?(n.child=Tr(n,e.child,null,f),n.child=Tr(n,null,g,f)):tt(e,n,g,f),n.memoizedState=u.state,c&&pf(n,s,!0),n.child}function ch(e){var n=e.stateNode;n.pendingContext?ff(e,n.pendingContext,n.pendingContext!==n.context):n.context&&ff(e,n.context,!1),wu(e,n.containerInfo)}function dh(e,n,s,u,c){return Ir(),hu(c),n.flags|=256,tt(e,n,s,u),n.child}var bu={dehydrated:null,treeContext:null,retryLane:0};function Uu(e){return{baseLanes:e,cachePool:null,transitions:null}}function fh(e,n,s){var u=n.pendingProps,c=Ne.current,f=!1,p=(n.flags&128)!==0,g;if((g=p)||(g=e!==null&&e.memoizedState===null?!1:(c&2)!==0),g?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),ve(Ne,c&1),e===null)return fu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(p=u.children,e=u.fallback,f?(u=n.mode,f=n.child,p={mode:"hidden",children:p},!(u&1)&&f!==null?(f.childLanes=0,f.pendingProps=p):f=Eo(p,u,0,null),e=Xn(e,u,s,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Uu(s),n.memoizedState=bu,e):ju(n,p));if(c=e.memoizedState,c!==null&&(g=c.dehydrated,g!==null))return Sy(e,n,p,u,g,c,s);if(f){f=u.fallback,p=n.mode,c=e.child,g=c.sibling;var w={mode:"hidden",children:u.children};return!(p&1)&&n.child!==c?(u=n.child,u.childLanes=0,u.pendingProps=w,n.deletions=null):(u=Pn(c,w),u.subtreeFlags=c.subtreeFlags&14680064),g!==null?f=Pn(g,f):(f=Xn(f,p,s,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,p=e.child.memoizedState,p=p===null?Uu(s):{baseLanes:p.baseLanes|s,cachePool:null,transitions:p.transitions},f.memoizedState=p,f.childLanes=e.childLanes&~s,n.memoizedState=bu,u}return f=e.child,e=f.sibling,u=Pn(f,{mode:"visible",children:u.children}),!(n.mode&1)&&(u.lanes=s),u.return=n,u.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=u,n.memoizedState=null,u}function ju(e,n){return n=Eo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function lo(e,n,s,u){return u!==null&&hu(u),Tr(n,e.child,null,s),e=ju(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Sy(e,n,s,u,c,f,p){if(s)return n.flags&256?(n.flags&=-257,u=Mu(Error(r(422))),lo(e,n,p,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=u.fallback,c=n.mode,u=Eo({mode:"visible",children:u.children},c,0,null),f=Xn(f,c,p,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,n.mode&1&&Tr(n,e.child,null,p),n.child.memoizedState=Uu(p),n.memoizedState=bu,f);if(!(n.mode&1))return lo(e,n,p,null);if(c.data==="$!"){if(u=c.nextSibling&&c.nextSibling.dataset,u)var g=u.dgst;return u=g,f=Error(r(419)),u=Mu(f,u,void 0),lo(e,n,p,u)}if(g=(p&e.childLanes)!==0,ot||g){if(u=je,u!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(u.suspendedLanes|p)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,en(e,c),Ft(u,e,c,-1))}return na(),u=Mu(Error(r(421))),lo(e,n,p,u)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=Fy.bind(null,e),c._reactRetry=n,null):(e=f.treeContext,yt=vn(c.nextSibling),gt=n,Te=!0,Ot=null,e!==null&&(Ct[St++]=Jt,Ct[St++]=Zt,Ct[St++]=Wn,Jt=e.id,Zt=e.overflow,Wn=n),n=ju(n,u.children),n.flags|=4096,n)}function hh(e,n,s){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),gu(e.return,n,s)}function Bu(e,n,s,u,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=s,f.tailMode=c)}function ph(e,n,s){var u=n.pendingProps,c=u.revealOrder,f=u.tail;if(tt(e,n,u.children,s),u=Ne.current,u&2)u=u&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hh(e,s,n);else if(e.tag===19)hh(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(ve(Ne,u),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&eo(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Bu(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&eo(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Bu(n,!0,s,null,f);break;case"together":Bu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function uo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function nn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Qn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Pn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Pn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function ky(e,n,s){switch(n.tag){case 3:ch(n),Ir();break;case 5:Rf(n);break;case 1:st(n.type)&&Vs(n);break;case 4:wu(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,c=n.memoizedProps.value;ve(Ys,u._currentValue),u._currentValue=c;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(ve(Ne,Ne.current&1),n.flags|=128,null):s&n.child.childLanes?fh(e,n,s):(ve(Ne,Ne.current&1),e=nn(e,n,s),e!==null?e.sibling:null);ve(Ne,Ne.current&1);break;case 19:if(u=(s&n.childLanes)!==0,e.flags&128){if(u)return ph(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ve(Ne,Ne.current),u)break;return null;case 22:case 23:return n.lanes=0,lh(e,n,s)}return nn(e,n,s)}var mh,Wu,_h,gh;mh=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Wu=function(){},_h=function(e,n,s,u){var c=e.memoizedProps;if(c!==u){e=n.stateNode,$n($t.current);var f=null;switch(s){case"input":c=gl(e,c),u=gl(e,u),f=[];break;case"select":c=j({},c,{value:void 0}),u=j({},u,{value:void 0}),f=[];break;case"textarea":c=wl(e,c),u=wl(e,u),f=[];break;default:typeof c.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Bs)}Cl(s,u);var p;s=null;for(T in c)if(!u.hasOwnProperty(T)&&c.hasOwnProperty(T)&&c[T]!=null)if(T==="style"){var g=c[T];for(p in g)g.hasOwnProperty(p)&&(s||(s={}),s[p]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(l.hasOwnProperty(T)?f||(f=[]):(f=f||[]).push(T,null));for(T in u){var w=u[T];if(g=c!=null?c[T]:void 0,u.hasOwnProperty(T)&&w!==g&&(w!=null||g!=null))if(T==="style")if(g){for(p in g)!g.hasOwnProperty(p)||w&&w.hasOwnProperty(p)||(s||(s={}),s[p]="");for(p in w)w.hasOwnProperty(p)&&g[p]!==w[p]&&(s||(s={}),s[p]=w[p])}else s||(f||(f=[]),f.push(T,s)),s=w;else T==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,g=g?g.__html:void 0,w!=null&&g!==w&&(f=f||[]).push(T,w)):T==="children"?typeof w!="string"&&typeof w!="number"||(f=f||[]).push(T,""+w):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(l.hasOwnProperty(T)?(w!=null&&T==="onScroll"&&Ce("scroll",e),f||g===w||(f=[])):(f=f||[]).push(T,w))}s&&(f=f||[]).push("style",s);var T=f;(n.updateQueue=T)&&(n.flags|=4)}},gh=function(e,n,s,u){s!==u&&(n.flags|=4)};function Pi(e,n){if(!Te)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Je(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,u|=c.subtreeFlags&14680064,u|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,u|=c.subtreeFlags,u|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=u,e.childLanes=s,n}function Iy(e,n,s){var u=n.pendingProps;switch(cu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(n),null;case 1:return st(n.type)&&Hs(),Je(n),null;case 3:return u=n.stateNode,xr(),Se(it),Se(Ye),Su(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Ks(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ot!==null&&(Zu(Ot),Ot=null))),Wu(e,n),Je(n),null;case 5:Eu(n);var c=$n(Ii.current);if(s=n.type,e!==null&&n.stateNode!=null)_h(e,n,s,u,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Je(n),null}if(e=$n($t.current),Ks(n)){u=n.stateNode,s=n.type;var f=n.memoizedProps;switch(u[Vt]=n,u[wi]=f,e=(n.mode&1)!==0,s){case"dialog":Ce("cancel",u),Ce("close",u);break;case"iframe":case"object":case"embed":Ce("load",u);break;case"video":case"audio":for(c=0;c<gi.length;c++)Ce(gi[c],u);break;case"source":Ce("error",u);break;case"img":case"image":case"link":Ce("error",u),Ce("load",u);break;case"details":Ce("toggle",u);break;case"input":Yc(u,f),Ce("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},Ce("invalid",u);break;case"textarea":Zc(u,f),Ce("invalid",u)}Cl(s,f),c=null;for(var p in f)if(f.hasOwnProperty(p)){var g=f[p];p==="children"?typeof g=="string"?u.textContent!==g&&(f.suppressHydrationWarning!==!0&&js(u.textContent,g,e),c=["children",g]):typeof g=="number"&&u.textContent!==""+g&&(f.suppressHydrationWarning!==!0&&js(u.textContent,g,e),c=["children",""+g]):l.hasOwnProperty(p)&&g!=null&&p==="onScroll"&&Ce("scroll",u)}switch(s){case"input":gs(u),Jc(u,f,!0);break;case"textarea":gs(u),td(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=Bs)}u=c,n.updateQueue=u,u!==null&&(n.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nd(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=p.createElement(s,{is:u.is}):(e=p.createElement(s),s==="select"&&(p=e,u.multiple?p.multiple=!0:u.size&&(p.size=u.size))):e=p.createElementNS(e,s),e[Vt]=n,e[wi]=u,mh(e,n,!1,!1),n.stateNode=e;e:{switch(p=Sl(s,u),s){case"dialog":Ce("cancel",e),Ce("close",e),c=u;break;case"iframe":case"object":case"embed":Ce("load",e),c=u;break;case"video":case"audio":for(c=0;c<gi.length;c++)Ce(gi[c],e);c=u;break;case"source":Ce("error",e),c=u;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),c=u;break;case"details":Ce("toggle",e),c=u;break;case"input":Yc(e,u),c=gl(e,u),Ce("invalid",e);break;case"option":c=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},c=j({},u,{value:void 0}),Ce("invalid",e);break;case"textarea":Zc(e,u),c=wl(e,u),Ce("invalid",e);break;default:c=u}Cl(s,c),g=c;for(f in g)if(g.hasOwnProperty(f)){var w=g[f];f==="style"?sd(e,w):f==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&rd(e,w)):f==="children"?typeof w=="string"?(s!=="textarea"||w!=="")&&Jr(e,w):typeof w=="number"&&Jr(e,""+w):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?w!=null&&f==="onScroll"&&Ce("scroll",e):w!=null&&K(e,f,w,p))}switch(s){case"input":gs(e),Jc(e,u,!1);break;case"textarea":gs(e),td(e);break;case"option":u.value!=null&&e.setAttribute("value",""+me(u.value));break;case"select":e.multiple=!!u.multiple,f=u.value,f!=null?cr(e,!!u.multiple,f,!1):u.defaultValue!=null&&cr(e,!!u.multiple,u.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Bs)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Je(n),null;case 6:if(e&&n.stateNode!=null)gh(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(s=$n(Ii.current),$n($t.current),Ks(n)){if(u=n.stateNode,s=n.memoizedProps,u[Vt]=n,(f=u.nodeValue!==s)&&(e=gt,e!==null))switch(e.tag){case 3:js(u.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&js(u.nodeValue,s,(e.mode&1)!==0)}f&&(n.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[Vt]=n,n.stateNode=u}return Je(n),null;case 13:if(Se(Ne),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&yt!==null&&n.mode&1&&!(n.flags&128))wf(),Ir(),n.flags|=98560,f=!1;else if(f=Ks(n),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Vt]=n}else Ir(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Je(n),f=!1}else Ot!==null&&(Zu(Ot),Ot=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,n.mode&1&&(e===null||Ne.current&1?Fe===0&&(Fe=3):na())),n.updateQueue!==null&&(n.flags|=4),Je(n),null);case 4:return xr(),Wu(e,n),e===null&&yi(n.stateNode.containerInfo),Je(n),null;case 10:return _u(n.type._context),Je(n),null;case 17:return st(n.type)&&Hs(),Je(n),null;case 19:if(Se(Ne),f=n.memoizedState,f===null)return Je(n),null;if(u=(n.flags&128)!==0,p=f.rendering,p===null)if(u)Pi(f,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(p=eo(e),p!==null){for(n.flags|=128,Pi(f,!1),u=p.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=s,s=n.child;s!==null;)f=s,e=u,f.flags&=14680066,p=f.alternate,p===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=p.childLanes,f.lanes=p.lanes,f.child=p.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=p.memoizedProps,f.memoizedState=p.memoizedState,f.updateQueue=p.updateQueue,f.type=p.type,e=p.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ve(Ne,Ne.current&1|2),n.child}e=e.sibling}f.tail!==null&&Oe()>Ar&&(n.flags|=128,u=!0,Pi(f,!1),n.lanes=4194304)}else{if(!u)if(e=eo(p),e!==null){if(n.flags|=128,u=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Pi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Te)return Je(n),null}else 2*Oe()-f.renderingStartTime>Ar&&s!==1073741824&&(n.flags|=128,u=!0,Pi(f,!1),n.lanes=4194304);f.isBackwards?(p.sibling=n.child,n.child=p):(s=f.last,s!==null?s.sibling=p:n.child=p,f.last=p)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Oe(),n.sibling=null,s=Ne.current,ve(Ne,u?s&1|2:s&1),n):(Je(n),null);case 22:case 23:return ta(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&n.mode&1?vt&1073741824&&(Je(n),n.subtreeFlags&6&&(n.flags|=8192)):Je(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Ty(e,n){switch(cu(n),n.tag){case 1:return st(n.type)&&Hs(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xr(),Se(it),Se(Ye),Su(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Eu(n),null;case 13:if(Se(Ne),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Se(Ne),null;case 4:return xr(),null;case 10:return _u(n.type._context),null;case 22:case 23:return ta(),null;case 24:return null;default:return null}}var ao=!1,Ze=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,U=null;function Dr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){Pe(e,n,u)}else s.current=null}function Hu(e,n,s){try{s()}catch(u){Pe(e,n,u)}}var yh=!1;function Ry(e,n){if(tu=xs,e=qd(),Ql(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var c=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,g=-1,w=-1,T=0,P=0,D=e,R=null;t:for(;;){for(var z;D!==s||c!==0&&D.nodeType!==3||(g=p+c),D!==f||u!==0&&D.nodeType!==3||(w=p+u),D.nodeType===3&&(p+=D.nodeValue.length),(z=D.firstChild)!==null;)R=D,D=z;for(;;){if(D===e)break t;if(R===s&&++T===c&&(g=p),R===f&&++P===u&&(w=p),(z=D.nextSibling)!==null)break;D=R,R=D.parentNode}D=z}s=g===-1||w===-1?null:{start:g,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(nu={focusedElem:e,selectionRange:s},xs=!1,U=n;U!==null;)if(n=U,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,U=e;else for(;U!==null;){n=U;try{var B=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var W=B.memoizedProps,Ae=B.memoizedState,k=n.stateNode,E=k.getSnapshotBeforeUpdate(n.elementType===n.type?W:At(n.type,W),Ae);k.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=n.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(A){Pe(n,n.return,A)}if(e=n.sibling,e!==null){e.return=n.return,U=e;break}U=n.return}return B=yh,yh=!1,B}function Di(e,n,s){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var c=u=u.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Hu(n,s,f)}c=c.next}while(c!==u)}}function co(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var u=s.create;s.destroy=u()}s=s.next}while(s!==n)}}function Vu(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function vh(e){var n=e.alternate;n!==null&&(e.alternate=null,vh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Vt],delete n[wi],delete n[ou],delete n[cy],delete n[dy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wh(e){return e.tag===5||e.tag===3||e.tag===4}function Eh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $u(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Bs));else if(u!==4&&(e=e.child,e!==null))for($u(e,n,s),e=e.sibling;e!==null;)$u(e,n,s),e=e.sibling}function Gu(e,n,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Gu(e,n,s),e=e.sibling;e!==null;)Gu(e,n,s),e=e.sibling}var Ge=null,Mt=!1;function In(e,n,s){for(s=s.child;s!==null;)Ch(e,n,s),s=s.sibling}function Ch(e,n,s){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Ss,s)}catch{}switch(s.tag){case 5:Ze||Dr(s,n);case 6:var u=Ge,c=Mt;Ge=null,In(e,n,s),Ge=u,Mt=c,Ge!==null&&(Mt?(e=Ge,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ge.removeChild(s.stateNode));break;case 18:Ge!==null&&(Mt?(e=Ge,s=s.stateNode,e.nodeType===8?su(e.parentNode,s):e.nodeType===1&&su(e,s),ai(e)):su(Ge,s.stateNode));break;case 4:u=Ge,c=Mt,Ge=s.stateNode.containerInfo,Mt=!0,In(e,n,s),Ge=u,Mt=c;break;case 0:case 11:case 14:case 15:if(!Ze&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){c=u=u.next;do{var f=c,p=f.destroy;f=f.tag,p!==void 0&&(f&2||f&4)&&Hu(s,n,p),c=c.next}while(c!==u)}In(e,n,s);break;case 1:if(!Ze&&(Dr(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(g){Pe(s,n,g)}In(e,n,s);break;case 21:In(e,n,s);break;case 22:s.mode&1?(Ze=(u=Ze)||s.memoizedState!==null,In(e,n,s),Ze=u):In(e,n,s);break;default:In(e,n,s)}}function Sh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Ny),n.forEach(function(u){var c=zy.bind(null,e,u);s.has(u)||(s.add(u),u.then(c,c))})}}function Lt(e,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var c=s[u];try{var f=e,p=n,g=p;e:for(;g!==null;){switch(g.tag){case 5:Ge=g.stateNode,Mt=!1;break e;case 3:Ge=g.stateNode.containerInfo,Mt=!0;break e;case 4:Ge=g.stateNode.containerInfo,Mt=!0;break e}g=g.return}if(Ge===null)throw Error(r(160));Ch(f,p,c),Ge=null,Mt=!1;var w=c.alternate;w!==null&&(w.return=null),c.return=null}catch(T){Pe(c,n,T)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)kh(n,e),n=n.sibling}function kh(e,n){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(n,e),Qt(e),u&4){try{Di(3,e,e.return),co(3,e)}catch(W){Pe(e,e.return,W)}try{Di(5,e,e.return)}catch(W){Pe(e,e.return,W)}}break;case 1:Lt(n,e),Qt(e),u&512&&s!==null&&Dr(s,s.return);break;case 5:if(Lt(n,e),Qt(e),u&512&&s!==null&&Dr(s,s.return),e.flags&32){var c=e.stateNode;try{Jr(c,"")}catch(W){Pe(e,e.return,W)}}if(u&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,p=s!==null?s.memoizedProps:f,g=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{g==="input"&&f.type==="radio"&&f.name!=null&&Xc(c,f),Sl(g,p);var T=Sl(g,f);for(p=0;p<w.length;p+=2){var P=w[p],D=w[p+1];P==="style"?sd(c,D):P==="dangerouslySetInnerHTML"?rd(c,D):P==="children"?Jr(c,D):K(c,P,D,T)}switch(g){case"input":yl(c,f);break;case"textarea":ed(c,f);break;case"select":var R=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var z=f.value;z!=null?cr(c,!!f.multiple,z,!1):R!==!!f.multiple&&(f.defaultValue!=null?cr(c,!!f.multiple,f.defaultValue,!0):cr(c,!!f.multiple,f.multiple?[]:"",!1))}c[wi]=f}catch(W){Pe(e,e.return,W)}}break;case 6:if(Lt(n,e),Qt(e),u&4){if(e.stateNode===null)throw Error(r(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(W){Pe(e,e.return,W)}}break;case 3:if(Lt(n,e),Qt(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{ai(n.containerInfo)}catch(W){Pe(e,e.return,W)}break;case 4:Lt(n,e),Qt(e);break;case 13:Lt(n,e),Qt(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(qu=Oe())),u&4&&Sh(e);break;case 22:if(P=s!==null&&s.memoizedState!==null,e.mode&1?(Ze=(T=Ze)||P,Lt(n,e),Ze=T):Lt(n,e),Qt(e),u&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!P&&e.mode&1)for(U=e,P=e.child;P!==null;){for(D=U=P;U!==null;){switch(R=U,z=R.child,R.tag){case 0:case 11:case 14:case 15:Di(4,R,R.return);break;case 1:Dr(R,R.return);var B=R.stateNode;if(typeof B.componentWillUnmount=="function"){u=R,s=R.return;try{n=u,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(W){Pe(u,s,W)}}break;case 5:Dr(R,R.return);break;case 22:if(R.memoizedState!==null){Nh(D);continue}}z!==null?(z.return=R,U=z):Nh(D)}P=P.sibling}e:for(P=null,D=e;;){if(D.tag===5){if(P===null){P=D;try{c=D.stateNode,T?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(g=D.stateNode,w=D.memoizedProps.style,p=w!=null&&w.hasOwnProperty("display")?w.display:null,g.style.display=id("display",p))}catch(W){Pe(e,e.return,W)}}}else if(D.tag===6){if(P===null)try{D.stateNode.nodeValue=T?"":D.memoizedProps}catch(W){Pe(e,e.return,W)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;P===D&&(P=null),D=D.return}P===D&&(P=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Lt(n,e),Qt(e),u&4&&Sh(e);break;case 21:break;default:Lt(n,e),Qt(e)}}function Qt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(wh(s)){var u=s;break e}s=s.return}throw Error(r(160))}switch(u.tag){case 5:var c=u.stateNode;u.flags&32&&(Jr(c,""),u.flags&=-33);var f=Eh(e);Gu(e,f,c);break;case 3:case 4:var p=u.stateNode.containerInfo,g=Eh(e);$u(e,g,p);break;default:throw Error(r(161))}}catch(w){Pe(e,e.return,w)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function xy(e,n,s){U=e,Ih(e)}function Ih(e,n,s){for(var u=(e.mode&1)!==0;U!==null;){var c=U,f=c.child;if(c.tag===22&&u){var p=c.memoizedState!==null||ao;if(!p){var g=c.alternate,w=g!==null&&g.memoizedState!==null||Ze;g=ao;var T=Ze;if(ao=p,(Ze=w)&&!T)for(U=c;U!==null;)p=U,w=p.child,p.tag===22&&p.memoizedState!==null?Rh(c):w!==null?(w.return=p,U=w):Rh(c);for(;f!==null;)U=f,Ih(f),f=f.sibling;U=c,ao=g,Ze=T}Th(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,U=f):Th(e)}}function Th(e){for(;U!==null;){var n=U;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Ze||co(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!Ze)if(s===null)u.componentDidMount();else{var c=n.elementType===n.type?s.memoizedProps:At(n.type,s.memoizedProps);u.componentDidUpdate(c,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Nf(n,f,u);break;case 3:var p=n.updateQueue;if(p!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Nf(n,p,s)}break;case 5:var g=n.stateNode;if(s===null&&n.flags&4){s=g;var w=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&s.focus();break;case"img":w.src&&(s.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var T=n.alternate;if(T!==null){var P=T.memoizedState;if(P!==null){var D=P.dehydrated;D!==null&&ai(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ze||n.flags&512&&Vu(n)}catch(R){Pe(n,n.return,R)}}if(n===e){U=null;break}if(s=n.sibling,s!==null){s.return=n.return,U=s;break}U=n.return}}function Nh(e){for(;U!==null;){var n=U;if(n===e){U=null;break}var s=n.sibling;if(s!==null){s.return=n.return,U=s;break}U=n.return}}function Rh(e){for(;U!==null;){var n=U;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{co(4,n)}catch(w){Pe(n,s,w)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var c=n.return;try{u.componentDidMount()}catch(w){Pe(n,c,w)}}var f=n.return;try{Vu(n)}catch(w){Pe(n,f,w)}break;case 5:var p=n.return;try{Vu(n)}catch(w){Pe(n,p,w)}}}catch(w){Pe(n,n.return,w)}if(n===e){U=null;break}var g=n.sibling;if(g!==null){g.return=n.return,U=g;break}U=n.return}}var Py=Math.ceil,fo=G.ReactCurrentDispatcher,Qu=G.ReactCurrentOwner,Tt=G.ReactCurrentBatchConfig,ue=0,je=null,Me=null,Qe=0,vt=0,Or=wn(0),Fe=0,Oi=null,Qn=0,ho=0,Ku=0,Ai=null,lt=null,qu=0,Ar=1/0,rn=null,po=!1,Yu=null,Tn=null,mo=!1,Nn=null,_o=0,Mi=0,Xu=null,go=-1,yo=0;function nt(){return ue&6?Oe():go!==-1?go:go=Oe()}function Rn(e){return e.mode&1?ue&2&&Qe!==0?Qe&-Qe:hy.transition!==null?(yo===0&&(yo=wd()),yo):(e=_e,e!==0||(e=window.event,e=e===void 0?16:xd(e.type)),e):1}function Ft(e,n,s,u){if(50<Mi)throw Mi=0,Xu=null,Error(r(185));ii(e,s,u),(!(ue&2)||e!==je)&&(e===je&&(!(ue&2)&&(ho|=s),Fe===4&&xn(e,Qe)),ut(e,u),s===1&&ue===0&&!(n.mode&1)&&(Ar=Oe()+500,$s&&Cn()))}function ut(e,n){var s=e.callbackNode;hg(e,n);var u=Ts(e,e===je?Qe:0);if(u===0)s!==null&&gd(s),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(s!=null&&gd(s),n===1)e.tag===0?fy(Ph.bind(null,e)):mf(Ph.bind(null,e)),uy(function(){!(ue&6)&&Cn()}),s=null;else{switch(Ed(u)){case 1:s=Pl;break;case 4:s=yd;break;case 16:s=Cs;break;case 536870912:s=vd;break;default:s=Cs}s=bh(s,xh.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function xh(e,n){if(go=-1,yo=0,ue&6)throw Error(r(327));var s=e.callbackNode;if(Mr()&&e.callbackNode!==s)return null;var u=Ts(e,e===je?Qe:0);if(u===0)return null;if(u&30||u&e.expiredLanes||n)n=vo(e,u);else{n=u;var c=ue;ue|=2;var f=Oh();(je!==e||Qe!==n)&&(rn=null,Ar=Oe()+500,qn(e,n));do try{Ay();break}catch(g){Dh(e,g)}while(!0);mu(),fo.current=f,ue=c,Me!==null?n=0:(je=null,Qe=0,n=Fe)}if(n!==0){if(n===2&&(c=Dl(e),c!==0&&(u=c,n=Ju(e,c))),n===1)throw s=Oi,qn(e,0),xn(e,u),ut(e,Oe()),s;if(n===6)xn(e,u);else{if(c=e.current.alternate,!(u&30)&&!Dy(c)&&(n=vo(e,u),n===2&&(f=Dl(e),f!==0&&(u=f,n=Ju(e,f))),n===1))throw s=Oi,qn(e,0),xn(e,u),ut(e,Oe()),s;switch(e.finishedWork=c,e.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:Yn(e,lt,rn);break;case 3:if(xn(e,u),(u&130023424)===u&&(n=qu+500-Oe(),10<n)){if(Ts(e,0)!==0)break;if(c=e.suspendedLanes,(c&u)!==u){nt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=iu(Yn.bind(null,e,lt,rn),n);break}Yn(e,lt,rn);break;case 4:if(xn(e,u),(u&4194240)===u)break;for(n=e.eventTimes,c=-1;0<u;){var p=31-Pt(u);f=1<<p,p=n[p],p>c&&(c=p),u&=~f}if(u=c,u=Oe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Py(u/1960))-u,10<u){e.timeoutHandle=iu(Yn.bind(null,e,lt,rn),u);break}Yn(e,lt,rn);break;case 5:Yn(e,lt,rn);break;default:throw Error(r(329))}}}return ut(e,Oe()),e.callbackNode===s?xh.bind(null,e):null}function Ju(e,n){var s=Ai;return e.current.memoizedState.isDehydrated&&(qn(e,n).flags|=256),e=vo(e,n),e!==2&&(n=lt,lt=s,n!==null&&Zu(n)),e}function Zu(e){lt===null?lt=e:lt.push.apply(lt,e)}function Dy(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var c=s[u],f=c.getSnapshot;c=c.value;try{if(!Dt(f(),c))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xn(e,n){for(n&=~Ku,n&=~ho,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Pt(n),u=1<<s;e[s]=-1,n&=~u}}function Ph(e){if(ue&6)throw Error(r(327));Mr();var n=Ts(e,0);if(!(n&1))return ut(e,Oe()),null;var s=vo(e,n);if(e.tag!==0&&s===2){var u=Dl(e);u!==0&&(n=u,s=Ju(e,u))}if(s===1)throw s=Oi,qn(e,0),xn(e,n),ut(e,Oe()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Yn(e,lt,rn),ut(e,Oe()),null}function ea(e,n){var s=ue;ue|=1;try{return e(n)}finally{ue=s,ue===0&&(Ar=Oe()+500,$s&&Cn())}}function Kn(e){Nn!==null&&Nn.tag===0&&!(ue&6)&&Mr();var n=ue;ue|=1;var s=Tt.transition,u=_e;try{if(Tt.transition=null,_e=1,e)return e()}finally{_e=u,Tt.transition=s,ue=n,!(ue&6)&&Cn()}}function ta(){vt=Or.current,Se(Or)}function qn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,ly(s)),Me!==null)for(s=Me.return;s!==null;){var u=s;switch(cu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Hs();break;case 3:xr(),Se(it),Se(Ye),Su();break;case 5:Eu(u);break;case 4:xr();break;case 13:Se(Ne);break;case 19:Se(Ne);break;case 10:_u(u.type._context);break;case 22:case 23:ta()}s=s.return}if(je=e,Me=e=Pn(e.current,null),Qe=vt=n,Fe=0,Oi=null,Ku=ho=Qn=0,lt=Ai=null,Vn!==null){for(n=0;n<Vn.length;n++)if(s=Vn[n],u=s.interleaved,u!==null){s.interleaved=null;var c=u.next,f=s.pending;if(f!==null){var p=f.next;f.next=c,u.next=p}s.pending=u}Vn=null}return e}function Dh(e,n){do{var s=Me;try{if(mu(),to.current=so,no){for(var u=Re.memoizedState;u!==null;){var c=u.queue;c!==null&&(c.pending=null),u=u.next}no=!1}if(Gn=0,Ue=Le=Re=null,Ti=!1,Ni=0,Qu.current=null,s===null||s.return===null){Fe=1,Oi=n,Me=null;break}e:{var f=e,p=s.return,g=s,w=n;if(n=Qe,g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var T=w,P=g,D=P.tag;if(!(P.mode&1)&&(D===0||D===11||D===15)){var R=P.alternate;R?(P.updateQueue=R.updateQueue,P.memoizedState=R.memoizedState,P.lanes=R.lanes):(P.updateQueue=null,P.memoizedState=null)}var z=nh(p);if(z!==null){z.flags&=-257,rh(z,p,g,f,n),z.mode&1&&th(f,T,n),n=z,w=T;var B=n.updateQueue;if(B===null){var W=new Set;W.add(w),n.updateQueue=W}else B.add(w);break e}else{if(!(n&1)){th(f,T,n),na();break e}w=Error(r(426))}}else if(Te&&g.mode&1){var Ae=nh(p);if(Ae!==null){!(Ae.flags&65536)&&(Ae.flags|=256),rh(Ae,p,g,f,n),hu(Pr(w,g));break e}}f=w=Pr(w,g),Fe!==4&&(Fe=2),Ai===null?Ai=[f]:Ai.push(f),f=p;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var k=Zf(f,w,n);Tf(f,k);break e;case 1:g=w;var E=f.type,I=f.stateNode;if(!(f.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Tn===null||!Tn.has(I)))){f.flags|=65536,n&=-n,f.lanes|=n;var A=eh(f,g,n);Tf(f,A);break e}}f=f.return}while(f!==null)}Mh(s)}catch(H){n=H,Me===s&&s!==null&&(Me=s=s.return);continue}break}while(!0)}function Oh(){var e=fo.current;return fo.current=so,e===null?so:e}function na(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),je===null||!(Qn&268435455)&&!(ho&268435455)||xn(je,Qe)}function vo(e,n){var s=ue;ue|=2;var u=Oh();(je!==e||Qe!==n)&&(rn=null,qn(e,n));do try{Oy();break}catch(c){Dh(e,c)}while(!0);if(mu(),ue=s,fo.current=u,Me!==null)throw Error(r(261));return je=null,Qe=0,Fe}function Oy(){for(;Me!==null;)Ah(Me)}function Ay(){for(;Me!==null&&!ig();)Ah(Me)}function Ah(e){var n=zh(e.alternate,e,vt);e.memoizedProps=e.pendingProps,n===null?Mh(e):Me=n,Qu.current=null}function Mh(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=Ty(s,n),s!==null){s.flags&=32767,Me=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Me=null;return}}else if(s=Iy(s,n,vt),s!==null){Me=s;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=e}while(n!==null);Fe===0&&(Fe=5)}function Yn(e,n,s){var u=_e,c=Tt.transition;try{Tt.transition=null,_e=1,My(e,n,s,u)}finally{Tt.transition=c,_e=u}return null}function My(e,n,s,u){do Mr();while(Nn!==null);if(ue&6)throw Error(r(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if(pg(e,f),e===je&&(Me=je=null,Qe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||mo||(mo=!0,bh(Cs,function(){return Mr(),null})),f=(s.flags&15990)!==0,s.subtreeFlags&15990||f){f=Tt.transition,Tt.transition=null;var p=_e;_e=1;var g=ue;ue|=4,Qu.current=null,Ry(e,s),kh(s,e),ey(nu),xs=!!tu,nu=tu=null,e.current=s,xy(s),sg(),ue=g,_e=p,Tt.transition=f}else e.current=s;if(mo&&(mo=!1,Nn=e,_o=c),f=e.pendingLanes,f===0&&(Tn=null),ug(s.stateNode),ut(e,Oe()),n!==null)for(u=e.onRecoverableError,s=0;s<n.length;s++)c=n[s],u(c.value,{componentStack:c.stack,digest:c.digest});if(po)throw po=!1,e=Yu,Yu=null,e;return _o&1&&e.tag!==0&&Mr(),f=e.pendingLanes,f&1?e===Xu?Mi++:(Mi=0,Xu=e):Mi=0,Cn(),null}function Mr(){if(Nn!==null){var e=Ed(_o),n=Tt.transition,s=_e;try{if(Tt.transition=null,_e=16>e?16:e,Nn===null)var u=!1;else{if(e=Nn,Nn=null,_o=0,ue&6)throw Error(r(331));var c=ue;for(ue|=4,U=e.current;U!==null;){var f=U,p=f.child;if(U.flags&16){var g=f.deletions;if(g!==null){for(var w=0;w<g.length;w++){var T=g[w];for(U=T;U!==null;){var P=U;switch(P.tag){case 0:case 11:case 15:Di(8,P,f)}var D=P.child;if(D!==null)D.return=P,U=D;else for(;U!==null;){P=U;var R=P.sibling,z=P.return;if(vh(P),P===T){U=null;break}if(R!==null){R.return=z,U=R;break}U=z}}}var B=f.alternate;if(B!==null){var W=B.child;if(W!==null){B.child=null;do{var Ae=W.sibling;W.sibling=null,W=Ae}while(W!==null)}}U=f}}if(f.subtreeFlags&2064&&p!==null)p.return=f,U=p;else e:for(;U!==null;){if(f=U,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Di(9,f,f.return)}var k=f.sibling;if(k!==null){k.return=f.return,U=k;break e}U=f.return}}var E=e.current;for(U=E;U!==null;){p=U;var I=p.child;if(p.subtreeFlags&2064&&I!==null)I.return=p,U=I;else e:for(p=E;U!==null;){if(g=U,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:co(9,g)}}catch(H){Pe(g,g.return,H)}if(g===p){U=null;break e}var A=g.sibling;if(A!==null){A.return=g.return,U=A;break e}U=g.return}}if(ue=c,Cn(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Ss,e)}catch{}u=!0}return u}finally{_e=s,Tt.transition=n}}return!1}function Lh(e,n,s){n=Pr(s,n),n=Zf(e,n,1),e=kn(e,n,1),n=nt(),e!==null&&(ii(e,1,n),ut(e,n))}function Pe(e,n,s){if(e.tag===3)Lh(e,e,s);else for(;n!==null;){if(n.tag===3){Lh(n,e,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Tn===null||!Tn.has(u))){e=Pr(s,e),e=eh(n,e,1),n=kn(n,e,1),e=nt(),n!==null&&(ii(n,1,e),ut(n,e));break}}n=n.return}}function Ly(e,n,s){var u=e.pingCache;u!==null&&u.delete(n),n=nt(),e.pingedLanes|=e.suspendedLanes&s,je===e&&(Qe&s)===s&&(Fe===4||Fe===3&&(Qe&130023424)===Qe&&500>Oe()-qu?qn(e,0):Ku|=s),ut(e,n)}function Fh(e,n){n===0&&(e.mode&1?(n=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):n=1);var s=nt();e=en(e,n),e!==null&&(ii(e,n,s),ut(e,s))}function Fy(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Fh(e,s)}function zy(e,n){var s=0;switch(e.tag){case 13:var u=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),Fh(e,s)}var zh;zh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||it.current)ot=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return ot=!1,ky(e,n,s);ot=!!(e.flags&131072)}else ot=!1,Te&&n.flags&1048576&&_f(n,Qs,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;uo(e,n),e=n.pendingProps;var c=Cr(n,Ye.current);Rr(n,s),c=Tu(null,n,u,e,c,s);var f=Nu();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,st(u)?(f=!0,Vs(n)):f=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,vu(n),c.updater=oo,n.stateNode=c,c._reactInternals=n,Au(n,u,e,s),n=zu(null,n,u,!0,f,s)):(n.tag=0,Te&&f&&au(n),tt(null,n,c,s),n=n.child),n;case 16:u=n.elementType;e:{switch(uo(e,n),e=n.pendingProps,c=u._init,u=c(u._payload),n.type=u,c=n.tag=Uy(u),e=At(u,e),c){case 0:n=Fu(null,n,u,e,s);break e;case 1:n=ah(null,n,u,e,s);break e;case 11:n=ih(null,n,u,e,s);break e;case 14:n=sh(null,n,u,At(u.type,e),s);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,c=n.pendingProps,c=n.elementType===u?c:At(u,c),Fu(e,n,u,c,s);case 1:return u=n.type,c=n.pendingProps,c=n.elementType===u?c:At(u,c),ah(e,n,u,c,s);case 3:e:{if(ch(n),e===null)throw Error(r(387));u=n.pendingProps,f=n.memoizedState,c=f.element,If(e,n),Zs(n,u,null,s);var p=n.memoizedState;if(u=p.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){c=Pr(Error(r(423)),n),n=dh(e,n,u,s,c);break e}else if(u!==c){c=Pr(Error(r(424)),n),n=dh(e,n,u,s,c);break e}else for(yt=vn(n.stateNode.containerInfo.firstChild),gt=n,Te=!0,Ot=null,s=Sf(n,null,u,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ir(),u===c){n=nn(e,n,s);break e}tt(e,n,u,s)}n=n.child}return n;case 5:return Rf(n),e===null&&fu(n),u=n.type,c=n.pendingProps,f=e!==null?e.memoizedProps:null,p=c.children,ru(u,c)?p=null:f!==null&&ru(u,f)&&(n.flags|=32),uh(e,n),tt(e,n,p,s),n.child;case 6:return e===null&&fu(n),null;case 13:return fh(e,n,s);case 4:return wu(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=Tr(n,null,u,s):tt(e,n,u,s),n.child;case 11:return u=n.type,c=n.pendingProps,c=n.elementType===u?c:At(u,c),ih(e,n,u,c,s);case 7:return tt(e,n,n.pendingProps,s),n.child;case 8:return tt(e,n,n.pendingProps.children,s),n.child;case 12:return tt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(u=n.type._context,c=n.pendingProps,f=n.memoizedProps,p=c.value,ve(Ys,u._currentValue),u._currentValue=p,f!==null)if(Dt(f.value,p)){if(f.children===c.children&&!it.current){n=nn(e,n,s);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){p=f.child;for(var w=g.firstContext;w!==null;){if(w.context===u){if(f.tag===1){w=tn(-1,s&-s),w.tag=2;var T=f.updateQueue;if(T!==null){T=T.shared;var P=T.pending;P===null?w.next=w:(w.next=P.next,P.next=w),T.pending=w}}f.lanes|=s,w=f.alternate,w!==null&&(w.lanes|=s),gu(f.return,s,n),g.lanes|=s;break}w=w.next}}else if(f.tag===10)p=f.type===n.type?null:f.child;else if(f.tag===18){if(p=f.return,p===null)throw Error(r(341));p.lanes|=s,g=p.alternate,g!==null&&(g.lanes|=s),gu(p,s,n),p=f.sibling}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===n){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}tt(e,n,c.children,s),n=n.child}return n;case 9:return c=n.type,u=n.pendingProps.children,Rr(n,s),c=kt(c),u=u(c),n.flags|=1,tt(e,n,u,s),n.child;case 14:return u=n.type,c=At(u,n.pendingProps),c=At(u.type,c),sh(e,n,u,c,s);case 15:return oh(e,n,n.type,n.pendingProps,s);case 17:return u=n.type,c=n.pendingProps,c=n.elementType===u?c:At(u,c),uo(e,n),n.tag=1,st(u)?(e=!0,Vs(n)):e=!1,Rr(n,s),Xf(n,u,c),Au(n,u,c,s),zu(null,n,u,!0,e,s);case 19:return ph(e,n,s);case 22:return lh(e,n,s)}throw Error(r(156,n.tag))};function bh(e,n){return _d(e,n)}function by(e,n,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,n,s,u){return new by(e,n,s,u)}function ra(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Uy(e){if(typeof e=="function")return ra(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bt)return 11;if(e===Wt)return 14}return 2}function Pn(e,n){var s=e.alternate;return s===null?(s=Nt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function wo(e,n,s,u,c,f){var p=2;if(u=e,typeof e=="function")ra(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case pe:return Xn(s.children,c,f,n);case ee:p=8,c|=8;break;case $e:return e=Nt(12,s,n,c|2),e.elementType=$e,e.lanes=f,e;case pt:return e=Nt(13,s,n,c),e.elementType=pt,e.lanes=f,e;case xt:return e=Nt(19,s,n,c),e.elementType=xt,e.lanes=f,e;case xe:return Eo(s,c,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rt:p=10;break e;case qt:p=9;break e;case Bt:p=11;break e;case Wt:p=14;break e;case rt:p=16,u=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Nt(p,s,n,c),n.elementType=e,n.type=u,n.lanes=f,n}function Xn(e,n,s,u){return e=Nt(7,e,u,n),e.lanes=s,e}function Eo(e,n,s,u){return e=Nt(22,e,u,n),e.elementType=xe,e.lanes=s,e.stateNode={isHidden:!1},e}function ia(e,n,s){return e=Nt(6,e,null,n),e.lanes=s,e}function sa(e,n,s){return n=Nt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function jy(e,n,s,u,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=u,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function oa(e,n,s,u,c,f,p,g,w){return e=new jy(e,n,s,g,w),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Nt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(f),e}function By(e,n,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:u==null?null:""+u,children:e,containerInfo:n,implementation:s}}function Uh(e){if(!e)return En;e=e._reactInternals;e:{if(Un(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(st(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(st(s))return hf(e,s,n)}return n}function jh(e,n,s,u,c,f,p,g,w){return e=oa(s,u,!0,e,c,f,p,g,w),e.context=Uh(null),s=e.current,u=nt(),c=Rn(s),f=tn(u,c),f.callback=n??null,kn(s,f,c),e.current.lanes=c,ii(e,c,u),ut(e,u),e}function Co(e,n,s,u){var c=n.current,f=nt(),p=Rn(c);return s=Uh(s),n.context===null?n.context=s:n.pendingContext=s,n=tn(f,p),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=kn(c,n,p),e!==null&&(Ft(e,c,p,f),Js(e,c,p)),p}function So(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function la(e,n){Bh(e,n),(e=e.alternate)&&Bh(e,n)}var Wh=typeof reportError=="function"?reportError:function(e){console.error(e)};function ua(e){this._internalRoot=e}ko.prototype.render=ua.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));Co(e,n,null,null)},ko.prototype.unmount=ua.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Kn(function(){Co(null,e,null,null)}),n[Yt]=null}};function ko(e){this._internalRoot=e}ko.prototype.unstable_scheduleHydration=function(e){if(e){var n=kd();e={blockedOn:null,target:e,priority:n};for(var s=0;s<_n.length&&n!==0&&n<_n[s].priority;s++);_n.splice(s,0,e),s===0&&Nd(e)}};function aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hh(){}function Wy(e,n,s,u,c){if(c){if(typeof u=="function"){var f=u;u=function(){var T=So(p);f.call(T)}}var p=jh(n,u,e,0,null,!1,!1,"",Hh);return e._reactRootContainer=p,e[Yt]=p.current,yi(e.nodeType===8?e.parentNode:e),Kn(),p}for(;c=e.lastChild;)e.removeChild(c);if(typeof u=="function"){var g=u;u=function(){var T=So(w);g.call(T)}}var w=oa(e,0,!1,null,null,!1,!1,"",Hh);return e._reactRootContainer=w,e[Yt]=w.current,yi(e.nodeType===8?e.parentNode:e),Kn(function(){Co(n,w,s,u)}),w}function To(e,n,s,u,c){var f=s._reactRootContainer;if(f){var p=f;if(typeof c=="function"){var g=c;c=function(){var w=So(p);g.call(w)}}Co(n,p,e,c)}else p=Wy(s,n,e,c,u);return So(p)}Cd=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=ri(n.pendingLanes);s!==0&&(Al(n,s|1),ut(n,Oe()),!(ue&6)&&(Ar=Oe()+500,Cn()))}break;case 13:Kn(function(){var u=en(e,1);if(u!==null){var c=nt();Ft(u,e,1,c)}}),la(e,1)}},Ml=function(e){if(e.tag===13){var n=en(e,134217728);if(n!==null){var s=nt();Ft(n,e,134217728,s)}la(e,134217728)}},Sd=function(e){if(e.tag===13){var n=Rn(e),s=en(e,n);if(s!==null){var u=nt();Ft(s,e,n,u)}la(e,n)}},kd=function(){return _e},Id=function(e,n){var s=_e;try{return _e=e,n()}finally{_e=s}},Tl=function(e,n,s){switch(n){case"input":if(yl(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var u=s[n];if(u!==e&&u.form===e.form){var c=Ws(u);if(!c)throw Error(r(90));qc(u),yl(u,c)}}}break;case"textarea":ed(e,s);break;case"select":n=s.value,n!=null&&cr(e,!!s.multiple,n,!1)}},ad=ea,cd=Kn;var Hy={usingClientEntryPoint:!1,Events:[Ei,wr,Ws,ld,ud,ea]},Li={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vy={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pd(e),e===null?null:e.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{Ss=No.inject(Vy),Ht=No}catch{}}return at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hy,at.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aa(n))throw Error(r(200));return By(e,n,null,s)},at.createRoot=function(e,n){if(!aa(e))throw Error(r(299));var s=!1,u="",c=Wh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=oa(e,1,!1,null,null,s,!1,u,c),e[Yt]=n.current,yi(e.nodeType===8?e.parentNode:e),new ua(n)},at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=pd(n),e=e===null?null:e.stateNode,e},at.flushSync=function(e){return Kn(e)},at.hydrate=function(e,n,s){if(!Io(n))throw Error(r(200));return To(null,e,n,!0,s)},at.hydrateRoot=function(e,n,s){if(!aa(e))throw Error(r(405));var u=s!=null&&s.hydratedSources||null,c=!1,f="",p=Wh;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),n=jh(n,null,e,1,s??null,c,!1,f,p),e[Yt]=n.current,yi(e),u)for(e=0;e<u.length;e++)s=u[e],c=s._getVersion,c=c(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,c]:n.mutableSourceEagerHydrationData.push(s,c);return new ko(n)},at.render=function(e,n,s){if(!Io(n))throw Error(r(200));return To(null,e,n,!1,s)},at.unmountComponentAtNode=function(e){if(!Io(e))throw Error(r(40));return e._reactRootContainer?(Kn(function(){To(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1},at.unstable_batchedUpdates=ea,at.unstable_renderSubtreeIntoContainer=function(e,n,s,u){if(!Io(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return To(e,n,s,!1,u)},at.version="18.3.1-next-f1338f8080-20240426",at}var Xh;function tv(){if(Xh)return fa.exports;Xh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),fa.exports=ev(),fa.exports}var Jh;function nv(){if(Jh)return Ro;Jh=1;var i=tv();return Ro.createRoot=i.createRoot,Ro.hydrateRoot=i.hydrateRoot,Ro}var rv=nv();const iv="modulepreload",sv=function(i){return"https://francescobrador.github.io/tienda-comida-redux/"+i},Zh={},ov=function(t,r,o){let l=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));l=Promise.allSettled(r.map(m=>{if(m=sv(m),m in Zh)return;Zh[m]=!0;const _=m.endsWith(".css"),v=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const y=document.createElement("link");if(y.rel=_?"stylesheet":iv,_||(y.as="script"),y.crossOrigin="",y.href=m,h&&y.setAttribute("nonce",h),document.head.appendChild(y),_)return new Promise((C,N)=>{y.addEventListener("load",C),y.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&a(h.reason);return t().catch(a)})};let lv=class{constructor(){Fi(this,"levels");Fi(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(t){this.levels.includes(t)?this.currentLevel=t:console.error(`Nivel de log no válido: ${t}`)}log(t,r){const o=this.levels.indexOf(t),l=this.levels.indexOf(this.currentLevel);if(o>=l){const a=new Date().toISOString();console[t](`[${t.toUpperCase()}] ${a}: ${r}`)}}debug(t){this.log("debug",t)}info(t){this.log("info",t)}warn(t){this.log("warn",t)}error(t){this.log("error",t)}};const Fr=new lv;class uv extends oc.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){Fr.warn("Error capturado por ErrorBoundary: "+t.message),Fr.debug("Detalles del error: "+r.componentStack)}render(){return this.state.hasError?this.props.fallback:this.props.children}}var ma={exports:{}},_a={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function av(){if(ep)return _a;ep=1;var i=nl();function t(m,_){return m===_&&(m!==0||1/m===1/_)||m!==m&&_!==_}var r=typeof Object.is=="function"?Object.is:t,o=i.useSyncExternalStore,l=i.useRef,a=i.useEffect,d=i.useMemo,h=i.useDebugValue;return _a.useSyncExternalStoreWithSelector=function(m,_,v,y,C){var N=l(null);if(N.current===null){var O={hasValue:!1,value:null};N.current=O}else O=N.current;N=d(function(){function L(Z){if(!ne){if(ne=!0,J=Z,Z=y(Z),C!==void 0&&O.hasValue){var X=O.value;if(C(X,Z))return K=X}return K=Z}if(X=K,r(J,Z))return X;var pe=y(Z);return C!==void 0&&C(X,pe)?(J=Z,X):(J=Z,K=pe)}var ne=!1,J,K,G=v===void 0?null:v;return[function(){return L(_())},G===null?void 0:function(){return L(G())}]},[_,v,y,C]);var b=o(m,N[0],N[1]);return a(function(){O.hasValue=!0,O.value=b},[b]),h(b),b},_a}var tp;function cv(){return tp||(tp=1,ma.exports=av()),ma.exports}var dv=cv();function fv(i){i()}function hv(){let i=null,t=null;return{clear(){i=null,t=null},notify(){fv(()=>{let r=i;for(;r;)r.callback(),r=r.next})},get(){const r=[];let o=i;for(;o;)r.push(o),o=o.next;return r},subscribe(r){let o=!0;const l=t={callback:r,next:null,prev:t};return l.prev?l.prev.next=l:i=l,function(){!o||i===null||(o=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:i=l.next)}}}}var np={notify(){},get:()=>[]};function pv(i,t){let r,o=np,l=0,a=!1;function d(b){v();const L=o.subscribe(b);let ne=!1;return()=>{ne||(ne=!0,L(),y())}}function h(){o.notify()}function m(){O.onStateChange&&O.onStateChange()}function _(){return a}function v(){l++,r||(r=i.subscribe(m),o=hv())}function y(){l--,r&&l===0&&(r(),r=void 0,o.clear(),o=np)}function C(){a||(a=!0,v())}function N(){a&&(a=!1,y())}const O={addNestedSub:d,notifyNestedSubs:h,handleChangeWrapper:m,isSubscribed:_,trySubscribe:C,tryUnsubscribe:N,getListeners:()=>o};return O}var mv=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_v=mv(),gv=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yv=gv(),vv=()=>_v||yv?be.useLayoutEffect:be.useEffect,wv=vv(),ga=Symbol.for("react-redux-context"),ya=typeof globalThis<"u"?globalThis:{};function Ev(){if(!be.createContext)return{};const i=ya[ga]??(ya[ga]=new Map);let t=i.get(be.createContext);return t||(t=be.createContext(null),i.set(be.createContext,t)),t}var Ln=Ev();function Cv(i){const{children:t,context:r,serverState:o,store:l}=i,a=be.useMemo(()=>{const m=pv(l);return{store:l,subscription:m,getServerState:o?()=>o:void 0}},[l,o]),d=be.useMemo(()=>l.getState(),[l]);wv(()=>{const{subscription:m}=a;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),d!==l.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[a,d]);const h=r||Ln;return be.createElement(h.Provider,{value:a},t)}var Sv=Cv;function lc(i=Ln){return function(){return be.useContext(i)}}var om=lc();function lm(i=Ln){const t=i===Ln?om:lc(i),r=()=>{const{store:o}=t();return o};return Object.assign(r,{withTypes:()=>r}),r}var kv=lm();function Iv(i=Ln){const t=i===Ln?kv:lm(i),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Tv=Iv(),Nv=(i,t)=>i===t;function Rv(i=Ln){const t=i===Ln?om:lc(i),r=(o,l={})=>{const{equalityFn:a=Nv}=typeof l=="function"?{equalityFn:l}:l,d=t(),{store:h,subscription:m,getServerState:_}=d;be.useRef(!0);const v=be.useCallback({[o.name](C){return o(C)}}[o.name],[o]),y=dv.useSyncExternalStoreWithSelector(m.addNestedSub,h.getState,_||h.getState,v,a);return be.useDebugValue(y),y};return Object.assign(r,{withTypes:()=>r}),r}var xv=Rv();function Ke(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var Pv=typeof Symbol=="function"&&Symbol.observable||"@@observable",rp=Pv,va=()=>Math.random().toString(36).substring(7).split("").join("."),Dv={INIT:`@@redux/INIT${va()}`,REPLACE:`@@redux/REPLACE${va()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${va()}`},Mo=Dv;function uc(i){if(typeof i!="object"||i===null)return!1;let t=i;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(i)===t||Object.getPrototypeOf(i)===null}function um(i,t,r){if(typeof i!="function")throw new Error(Ke(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ke(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ke(1));return r(um)(i,t)}let o=i,l=t,a=new Map,d=a,h=0,m=!1;function _(){d===a&&(d=new Map,a.forEach((L,ne)=>{d.set(ne,L)}))}function v(){if(m)throw new Error(Ke(3));return l}function y(L){if(typeof L!="function")throw new Error(Ke(4));if(m)throw new Error(Ke(5));let ne=!0;_();const J=h++;return d.set(J,L),function(){if(ne){if(m)throw new Error(Ke(6));ne=!1,_(),d.delete(J),a=null}}}function C(L){if(!uc(L))throw new Error(Ke(7));if(typeof L.type>"u")throw new Error(Ke(8));if(typeof L.type!="string")throw new Error(Ke(17));if(m)throw new Error(Ke(9));try{m=!0,l=o(l,L)}finally{m=!1}return(a=d).forEach(J=>{J()}),L}function N(L){if(typeof L!="function")throw new Error(Ke(10));o=L,C({type:Mo.REPLACE})}function O(){const L=y;return{subscribe(ne){if(typeof ne!="object"||ne===null)throw new Error(Ke(11));function J(){const G=ne;G.next&&G.next(v())}return J(),{unsubscribe:L(J)}},[rp](){return this}}}return C({type:Mo.INIT}),{dispatch:C,subscribe:y,getState:v,replaceReducer:N,[rp]:O}}function Ov(i){Object.keys(i).forEach(t=>{const r=i[t];if(typeof r(void 0,{type:Mo.INIT})>"u")throw new Error(Ke(12));if(typeof r(void 0,{type:Mo.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ke(13))})}function Av(i){const t=Object.keys(i),r={};for(let a=0;a<t.length;a++){const d=t[a];typeof i[d]=="function"&&(r[d]=i[d])}const o=Object.keys(r);let l;try{Ov(r)}catch(a){l=a}return function(d={},h){if(l)throw l;let m=!1;const _={};for(let v=0;v<o.length;v++){const y=o[v],C=r[y],N=d[y],O=C(N,h);if(typeof O>"u")throw h&&h.type,new Error(Ke(14));_[y]=O,m=m||O!==N}return m=m||o.length!==Object.keys(d).length,m?_:d}}function Lo(...i){return i.length===0?t=>t:i.length===1?i[0]:i.reduce((t,r)=>(...o)=>t(r(...o)))}function Mv(...i){return t=>(r,o)=>{const l=t(r,o);let a=()=>{throw new Error(Ke(15))};const d={getState:l.getState,dispatch:(m,..._)=>a(m,..._)},h=i.map(m=>m(d));return a=Lo(...h)(l.dispatch),{...l,dispatch:a}}}function Lv(i){return uc(i)&&"type"in i&&typeof i.type=="string"}var am=Symbol.for("immer-nothing"),ip=Symbol.for("immer-draftable"),wt=Symbol.for("immer-state");function zt(i,...t){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var Br=Object.getPrototypeOf;function rr(i){return!!i&&!!i[wt]}function un(i){var t;return i?cm(i)||Array.isArray(i)||!!i[ip]||!!((t=i.constructor)!=null&&t[ip])||il(i)||sl(i):!1}var Fv=Object.prototype.constructor.toString();function cm(i){if(!i||typeof i!="object")return!1;const t=Br(i);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Fv}function Fo(i,t){rl(i)===0?Reflect.ownKeys(i).forEach(r=>{t(r,i[r],i)}):i.forEach((r,o)=>t(o,r,i))}function rl(i){const t=i[wt];return t?t.type_:Array.isArray(i)?1:il(i)?2:sl(i)?3:0}function La(i,t){return rl(i)===2?i.has(t):Object.prototype.hasOwnProperty.call(i,t)}function dm(i,t,r){const o=rl(i);o===2?i.set(t,r):o===3?i.add(r):i[t]=r}function zv(i,t){return i===t?i!==0||1/i===1/t:i!==i&&t!==t}function il(i){return i instanceof Map}function sl(i){return i instanceof Set}function Jn(i){return i.copy_||i.base_}function Fa(i,t){if(il(i))return new Map(i);if(sl(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const r=cm(i);if(t===!0||t==="class_only"&&!r){const o=Object.getOwnPropertyDescriptors(i);delete o[wt];let l=Reflect.ownKeys(o);for(let a=0;a<l.length;a++){const d=l[a],h=o[d];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(o[d]={configurable:!0,writable:!0,enumerable:h.enumerable,value:i[d]})}return Object.create(Br(i),o)}else{const o=Br(i);if(o!==null&&r)return{...i};const l=Object.create(o);return Object.assign(l,i)}}function ac(i,t=!1){return ol(i)||rr(i)||!un(i)||(rl(i)>1&&(i.set=i.add=i.clear=i.delete=bv),Object.freeze(i),t&&Object.entries(i).forEach(([r,o])=>ac(o,!0))),i}function bv(){zt(2)}function ol(i){return Object.isFrozen(i)}var Uv={};function ir(i){const t=Uv[i];return t||zt(0,i),t}var Yi;function fm(){return Yi}function jv(i,t){return{drafts_:[],parent_:i,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sp(i,t){t&&(ir("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=t)}function za(i){ba(i),i.drafts_.forEach(Bv),i.drafts_=null}function ba(i){i===Yi&&(Yi=i.parent_)}function op(i){return Yi=jv(Yi,i)}function Bv(i){const t=i[wt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lp(i,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return i!==void 0&&i!==r?(r[wt].modified_&&(za(t),zt(4)),un(i)&&(i=zo(t,i),t.parent_||bo(t,i)),t.patches_&&ir("Patches").generateReplacementPatches_(r[wt].base_,i,t.patches_,t.inversePatches_)):i=zo(t,r,[]),za(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),i!==am?i:void 0}function zo(i,t,r){if(ol(t))return t;const o=t[wt];if(!o)return Fo(t,(l,a)=>up(i,o,t,l,a,r)),t;if(o.scope_!==i)return t;if(!o.modified_)return bo(i,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const l=o.copy_;let a=l,d=!1;o.type_===3&&(a=new Set(l),l.clear(),d=!0),Fo(a,(h,m)=>up(i,o,l,h,m,r,d)),bo(i,l,!1),r&&i.patches_&&ir("Patches").generatePatches_(o,r,i.patches_,i.inversePatches_)}return o.copy_}function up(i,t,r,o,l,a,d){if(rr(l)){const h=a&&t&&t.type_!==3&&!La(t.assigned_,o)?a.concat(o):void 0,m=zo(i,l,h);if(dm(r,o,m),rr(m))i.canAutoFreeze_=!1;else return}else d&&r.add(l);if(un(l)&&!ol(l)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;zo(i,l),(!t||!t.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,o)&&bo(i,l)}}function bo(i,t,r=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&ac(t,r)}function Wv(i,t){const r=Array.isArray(i),o={type_:r?1:0,scope_:t?t.scope_:fm(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=o,a=cc;r&&(l=[o],a=Xi);const{revoke:d,proxy:h}=Proxy.revocable(l,a);return o.draft_=h,o.revoke_=d,h}var cc={get(i,t){if(t===wt)return i;const r=Jn(i);if(!La(r,t))return Hv(i,r,t);const o=r[t];return i.finalized_||!un(o)?o:o===wa(i.base_,t)?(Ea(i),i.copy_[t]=ja(o,i)):o},has(i,t){return t in Jn(i)},ownKeys(i){return Reflect.ownKeys(Jn(i))},set(i,t,r){const o=hm(Jn(i),t);if(o!=null&&o.set)return o.set.call(i.draft_,r),!0;if(!i.modified_){const l=wa(Jn(i),t),a=l==null?void 0:l[wt];if(a&&a.base_===r)return i.copy_[t]=r,i.assigned_[t]=!1,!0;if(zv(r,l)&&(r!==void 0||La(i.base_,t)))return!0;Ea(i),Ua(i)}return i.copy_[t]===r&&(r!==void 0||t in i.copy_)||Number.isNaN(r)&&Number.isNaN(i.copy_[t])||(i.copy_[t]=r,i.assigned_[t]=!0),!0},deleteProperty(i,t){return wa(i.base_,t)!==void 0||t in i.base_?(i.assigned_[t]=!1,Ea(i),Ua(i)):delete i.assigned_[t],i.copy_&&delete i.copy_[t],!0},getOwnPropertyDescriptor(i,t){const r=Jn(i),o=Reflect.getOwnPropertyDescriptor(r,t);return o&&{writable:!0,configurable:i.type_!==1||t!=="length",enumerable:o.enumerable,value:r[t]}},defineProperty(){zt(11)},getPrototypeOf(i){return Br(i.base_)},setPrototypeOf(){zt(12)}},Xi={};Fo(cc,(i,t)=>{Xi[i]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xi.deleteProperty=function(i,t){return Xi.set.call(this,i,t,void 0)};Xi.set=function(i,t,r){return cc.set.call(this,i[0],t,r,i[0])};function wa(i,t){const r=i[wt];return(r?Jn(r):i)[t]}function Hv(i,t,r){var l;const o=hm(t,r);return o?"value"in o?o.value:(l=o.get)==null?void 0:l.call(i.draft_):void 0}function hm(i,t){if(!(t in i))return;let r=Br(i);for(;r;){const o=Object.getOwnPropertyDescriptor(r,t);if(o)return o;r=Br(r)}}function Ua(i){i.modified_||(i.modified_=!0,i.parent_&&Ua(i.parent_))}function Ea(i){i.copy_||(i.copy_=Fa(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var Vv=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,o)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const d=this;return function(m=a,..._){return d.produce(m,v=>r.call(this,v,..._))}}typeof r!="function"&&zt(6),o!==void 0&&typeof o!="function"&&zt(7);let l;if(un(t)){const a=op(this),d=ja(t,void 0);let h=!0;try{l=r(d),h=!1}finally{h?za(a):ba(a)}return sp(a,o),lp(l,a)}else if(!t||typeof t!="object"){if(l=r(t),l===void 0&&(l=t),l===am&&(l=void 0),this.autoFreeze_&&ac(l,!0),o){const a=[],d=[];ir("Patches").generateReplacementPatches_(t,l,a,d),o(a,d)}return l}else zt(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(d,...h)=>this.produceWithPatches(d,m=>t(m,...h));let o,l;return[this.produce(t,r,(d,h)=>{o=d,l=h}),o,l]},typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof(i==null?void 0:i.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){un(i)||zt(8),rr(i)&&(i=$v(i));const t=op(this),r=ja(i,void 0);return r[wt].isManual_=!0,ba(t),r}finishDraft(i,t){const r=i&&i[wt];(!r||!r.isManual_)&&zt(9);const{scope_:o}=r;return sp(o,t),lp(void 0,o)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,t){let r;for(r=t.length-1;r>=0;r--){const l=t[r];if(l.path.length===0&&l.op==="replace"){i=l.value;break}}r>-1&&(t=t.slice(r+1));const o=ir("Patches").applyPatches_;return rr(i)?o(i,t):this.produce(i,l=>o(l,t))}};function ja(i,t){const r=il(i)?ir("MapSet").proxyMap_(i,t):sl(i)?ir("MapSet").proxySet_(i,t):Wv(i,t);return(t?t.scope_:fm()).drafts_.push(r),r}function $v(i){return rr(i)||zt(10,i),pm(i)}function pm(i){if(!un(i)||ol(i))return i;const t=i[wt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Fa(i,t.scope_.immer_.useStrictShallowCopy_)}else r=Fa(i,!0);return Fo(r,(o,l)=>{dm(r,o,pm(l))}),t&&(t.finalized_=!1),r}var Et=new Vv,mm=Et.produce;Et.produceWithPatches.bind(Et);Et.setAutoFreeze.bind(Et);Et.setUseStrictShallowCopy.bind(Et);Et.applyPatches.bind(Et);Et.createDraft.bind(Et);Et.finishDraft.bind(Et);function _m(i){return({dispatch:r,getState:o})=>l=>a=>typeof a=="function"?a(r,o,i):l(a)}var Gv=_m(),Qv=_m,Kv=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lo:Lo.apply(null,arguments)},qv=i=>i&&typeof i.match=="function";function Vi(i,t){function r(...o){if(t){let l=t(...o);if(!l)throw new Error(on(0));return{type:i,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:i,payload:o[0]}}return r.toString=()=>`${i}`,r.type=i,r.match=o=>Lv(o)&&o.type===i,r}var gm=class Hi extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hi.prototype)}static get[Symbol.species](){return Hi}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hi(...t[0].concat(this)):new Hi(...t.concat(this))}};function ap(i){return un(i)?mm(i,()=>{}):i}function cp(i,t,r){return i.has(t)?i.get(t):i.set(t,r(t)).get(t)}function Yv(i){return typeof i=="boolean"}var Xv=()=>function(t){const{thunk:r=!0,immutableCheck:o=!0,serializableCheck:l=!0,actionCreatorCheck:a=!0}=t??{};let d=new gm;return r&&(Yv(r)?d.push(Gv):d.push(Qv(r.extraArgument))),d},Jv="RTK_autoBatch",dp=i=>t=>{setTimeout(t,i)},Zv=(i={type:"raf"})=>t=>(...r)=>{const o=t(...r);let l=!0,a=!1,d=!1;const h=new Set,m=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dp(10):i.type==="callback"?i.queueNotification:dp(i.timeout),_=()=>{d=!1,a&&(a=!1,h.forEach(v=>v()))};return Object.assign({},o,{subscribe(v){const y=()=>l&&v(),C=o.subscribe(y);return h.add(v),()=>{C(),h.delete(v)}},dispatch(v){var y;try{return l=!((y=v==null?void 0:v.meta)!=null&&y[Jv]),a=!l,a&&(d||(d=!0,m(_))),o.dispatch(v)}finally{l=!0}}})},ew=i=>function(r){const{autoBatch:o=!0}=r??{};let l=new gm(i);return o&&l.push(Zv(typeof o=="object"?o:void 0)),l};function tw(i){const t=Xv(),{reducer:r=void 0,middleware:o,devTools:l=!0,preloadedState:a=void 0,enhancers:d=void 0}=i;let h;if(typeof r=="function")h=r;else if(uc(r))h=Av(r);else throw new Error(on(1));let m;typeof o=="function"?m=o(t):m=t();let _=Lo;l&&(_=Kv({trace:!1,...typeof l=="object"&&l}));const v=Mv(...m),y=ew(v);let C=typeof d=="function"?d(y):y();const N=_(...C);return um(h,a,N)}function ym(i){const t={},r=[];let o;const l={addCase(a,d){const h=typeof a=="string"?a:a.type;if(!h)throw new Error(on(28));if(h in t)throw new Error(on(29));return t[h]=d,l},addMatcher(a,d){return r.push({matcher:a,reducer:d}),l},addDefaultCase(a){return o=a,l}};return i(l),[t,r,o]}function nw(i){return typeof i=="function"}function rw(i,t){let[r,o,l]=ym(t),a;if(nw(i))a=()=>ap(i());else{const h=ap(i);a=()=>h}function d(h=a(),m){let _=[r[m.type],...o.filter(({matcher:v})=>v(m)).map(({reducer:v})=>v)];return _.filter(v=>!!v).length===0&&(_=[l]),_.reduce((v,y)=>{if(y)if(rr(v)){const N=y(v,m);return N===void 0?v:N}else{if(un(v))return mm(v,C=>y(C,m));{const C=y(v,m);if(C===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return C}}return v},h)}return d.getInitialState=a,d}var iw=(i,t)=>qv(i)?i.match(t):i(t);function sw(...i){return t=>i.some(r=>iw(r,t))}var ow="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",lw=(i=21)=>{let t="",r=i;for(;r--;)t+=ow[Math.random()*64|0];return t},uw=["name","message","stack","code"],Ca=class{constructor(i,t){Fi(this,"_type");this.payload=i,this.meta=t}},fp=class{constructor(i,t){Fi(this,"_type");this.payload=i,this.meta=t}},aw=i=>{if(typeof i=="object"&&i!==null){const t={};for(const r of uw)typeof i[r]=="string"&&(t[r]=i[r]);return t}return{message:String(i)}},us=(()=>{function i(t,r,o){const l=Vi(t+"/fulfilled",(m,_,v,y)=>({payload:m,meta:{...y||{},arg:v,requestId:_,requestStatus:"fulfilled"}})),a=Vi(t+"/pending",(m,_,v)=>({payload:void 0,meta:{...v||{},arg:_,requestId:m,requestStatus:"pending"}})),d=Vi(t+"/rejected",(m,_,v,y,C)=>({payload:y,error:(o&&o.serializeError||aw)(m||"Rejected"),meta:{...C||{},arg:v,requestId:_,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(m==null?void 0:m.name)==="AbortError",condition:(m==null?void 0:m.name)==="ConditionError"}}));function h(m){return(_,v,y)=>{const C=o!=null&&o.idGenerator?o.idGenerator(m):lw(),N=new AbortController;let O,b;function L(J){b=J,N.abort()}const ne=async function(){var G,Z;let J;try{let X=(G=o==null?void 0:o.condition)==null?void 0:G.call(o,m,{getState:v,extra:y});if(dw(X)&&(X=await X),X===!1||N.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const pe=new Promise((ee,$e)=>{O=()=>{$e({name:"AbortError",message:b||"Aborted"})},N.signal.addEventListener("abort",O)});_(a(C,m,(Z=o==null?void 0:o.getPendingMeta)==null?void 0:Z.call(o,{requestId:C,arg:m},{getState:v,extra:y}))),J=await Promise.race([pe,Promise.resolve(r(m,{dispatch:_,getState:v,extra:y,requestId:C,signal:N.signal,abort:L,rejectWithValue:(ee,$e)=>new Ca(ee,$e),fulfillWithValue:(ee,$e)=>new fp(ee,$e)})).then(ee=>{if(ee instanceof Ca)throw ee;return ee instanceof fp?l(ee.payload,C,m,ee.meta):l(ee,C,m)})])}catch(X){J=X instanceof Ca?d(null,C,m,X.payload,X.meta):d(X,C,m)}finally{O&&N.signal.removeEventListener("abort",O)}return o&&!o.dispatchConditionRejection&&d.match(J)&&J.meta.condition||_(J),J}();return Object.assign(ne,{abort:L,requestId:C,arg:m,unwrap(){return ne.then(cw)}})}}return Object.assign(h,{pending:a,rejected:d,fulfilled:l,settled:sw(d,l),typePrefix:t})}return i.withTypes=()=>i,i})();function cw(i){if(i.meta&&i.meta.rejectedWithValue)throw i.payload;if(i.error)throw i.error;return i.payload}function dw(i){return i!==null&&typeof i=="object"&&typeof i.then=="function"}var fw=Symbol.for("rtk-slice-createasyncthunk");function hw(i,t){return`${i}/${t}`}function pw({creators:i}={}){var r;const t=(r=i==null?void 0:i.asyncThunk)==null?void 0:r[fw];return function(l){const{name:a,reducerPath:d=a}=l;if(!a)throw new Error(on(11));const h=(typeof l.reducers=="function"?l.reducers(gw()):l.reducers)||{},m=Object.keys(h),_={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},v={addCase(K,G){const Z=typeof K=="string"?K:K.type;if(!Z)throw new Error(on(12));if(Z in _.sliceCaseReducersByType)throw new Error(on(13));return _.sliceCaseReducersByType[Z]=G,v},addMatcher(K,G){return _.sliceMatchers.push({matcher:K,reducer:G}),v},exposeAction(K,G){return _.actionCreators[K]=G,v},exposeCaseReducer(K,G){return _.sliceCaseReducersByName[K]=G,v}};m.forEach(K=>{const G=h[K],Z={reducerName:K,type:hw(a,K),createNotation:typeof l.reducers=="function"};vw(G)?Ew(Z,G,v,t):yw(Z,G,v)});function y(){const[K={},G=[],Z=void 0]=typeof l.extraReducers=="function"?ym(l.extraReducers):[l.extraReducers],X={...K,..._.sliceCaseReducersByType};return rw(l.initialState,pe=>{for(let ee in X)pe.addCase(ee,X[ee]);for(let ee of _.sliceMatchers)pe.addMatcher(ee.matcher,ee.reducer);for(let ee of G)pe.addMatcher(ee.matcher,ee.reducer);Z&&pe.addDefaultCase(Z)})}const C=K=>K,N=new Map;let O;function b(K,G){return O||(O=y()),O(K,G)}function L(){return O||(O=y()),O.getInitialState()}function ne(K,G=!1){function Z(pe){let ee=pe[K];return typeof ee>"u"&&G&&(ee=L()),ee}function X(pe=C){const ee=cp(N,G,()=>new WeakMap);return cp(ee,pe,()=>{const $e={};for(const[Rt,qt]of Object.entries(l.selectors??{}))$e[Rt]=mw(qt,pe,L,G);return $e})}return{reducerPath:K,getSelectors:X,get selectors(){return X(Z)},selectSlice:Z}}const J={name:a,reducer:b,actions:_.actionCreators,caseReducers:_.sliceCaseReducersByName,getInitialState:L,...ne(d),injectInto(K,{reducerPath:G,...Z}={}){const X=G??d;return K.inject({reducerPath:X,reducer:b},Z),{...J,...ne(X,!0)}}};return J}}function mw(i,t,r,o){function l(a,...d){let h=t(a);return typeof h>"u"&&o&&(h=r()),i(h,...d)}return l.unwrapped=i,l}var _w=pw();function gw(){function i(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return i.withTypes=()=>i,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:i}}function yw({type:i,reducerName:t,createNotation:r},o,l){let a,d;if("reducer"in o){if(r&&!ww(o))throw new Error(on(17));a=o.reducer,d=o.prepare}else a=o;l.addCase(i,a).exposeCaseReducer(t,a).exposeAction(t,d?Vi(i,d):Vi(i))}function vw(i){return i._reducerDefinitionType==="asyncThunk"}function ww(i){return i._reducerDefinitionType==="reducerWithPrepare"}function Ew({type:i,reducerName:t},r,o,l){if(!l)throw new Error(on(18));const{payloadCreator:a,fulfilled:d,pending:h,rejected:m,settled:_,options:v}=r,y=l(i,a,v);o.exposeAction(t,y),d&&o.addCase(y.fulfilled,d),h&&o.addCase(y.pending,h),m&&o.addCase(y.rejected,m),_&&o.addMatcher(y.settled,_),o.exposeCaseReducer(t,{fulfilled:d||xo,pending:h||xo,rejected:m||xo,settled:_||xo})}function xo(){}function on(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var hp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(i,t){if(!i)throw Gr(t)},Gr=function(i){return new Error("Firebase Database ("+vm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},Cw=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const l=i[r++];if(l<128)t[o++]=String.fromCharCode(l);else if(l>191&&l<224){const a=i[r++];t[o++]=String.fromCharCode((l&31)<<6|a&63)}else if(l>239&&l<365){const a=i[r++],d=i[r++],h=i[r++],m=((l&7)<<18|(a&63)<<12|(d&63)<<6|h&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const a=i[r++],d=i[r++];t[o++]=String.fromCharCode((l&15)<<12|(a&63)<<6|d&63)}}return t.join("")},dc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<i.length;l+=3){const a=i[l],d=l+1<i.length,h=d?i[l+1]:0,m=l+2<i.length,_=m?i[l+2]:0,v=a>>2,y=(a&3)<<4|h>>4;let C=(h&15)<<2|_>>6,N=_&63;m||(N=64,d||(C=64)),o.push(r[v],r[y],r[C],r[N])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(wm(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Cw(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<i.length;){const a=r[i.charAt(l++)],h=l<i.length?r[i.charAt(l)]:0;++l;const _=l<i.length?r[i.charAt(l)]:64;++l;const y=l<i.length?r[i.charAt(l)]:64;if(++l,a==null||h==null||_==null||y==null)throw new Sw;const C=a<<2|h>>4;if(o.push(C),_!==64){const N=h<<4&240|_>>2;if(o.push(N),y!==64){const O=_<<6&192|y;o.push(O)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Sw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Em=function(i){const t=wm(i);return dc.encodeByteArray(t,!0)},Uo=function(i){return Em(i).replace(/\./g,"")},Ba=function(i){try{return dc.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(i){return Cm(void 0,i)}function Cm(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!Iw(r)||(i[r]=Cm(i[r],t[r]));return i}function Iw(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=()=>Tw().__FIREBASE_DEFAULTS__,Rw=()=>{if(typeof process>"u"||typeof hp>"u")return;const i=hp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},xw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Ba(i[1]);return t&&JSON.parse(t)},Sm=()=>{try{return Nw()||Rw()||xw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Pw=i=>{var t,r;return(r=(t=Sm())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},Dw=i=>{const t=Pw(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},km=()=>{var i;return(i=Sm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",l=i.iat||0,a=i.sub||i.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Uo(JSON.stringify(r)),Uo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Im(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Aw())}function Mw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lw(){return vm.NODE_ADMIN===!0}function Fw(){try{return typeof indexedDB=="object"}catch{return!1}}function zw(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var a;t(((a=l.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="FirebaseError";class as extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=bw,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tm.prototype.create)}}class Tm{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},l=`${this.service}/${t}`,a=this.errors[t],d=a?Uw(a,o):"Error",h=`${this.serviceName}: ${d} (${l}).`;return new as(l,h,o)}}function Uw(i,t){return i.replace(jw,(r,o)=>{const l=t[o];return l!=null?String(l):`<${o}?>`})}const jw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(i){return JSON.parse(i)}function Ve(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=function(i){let t={},r={},o={},l="";try{const a=i.split(".");t=Ji(Ba(a[0])||""),r=Ji(Ba(a[1])||""),l=a[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:l}},Bw=function(i){const t=Nm(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},Ww=function(i){const t=Nm(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Wr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function pp(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function jo(i,t,r){const o={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(o[l]=t.call(r,i[l],l,i));return o}function Wa(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const l of r){if(!o.includes(l))return!1;const a=i[l],d=t[l];if(mp(a)&&mp(d)){if(!Wa(a,d))return!1}else if(a!==d)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function mp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(l=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)o[y]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let y=0;y<16;y++)o[y]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let y=16;y<80;y++){const C=o[y-3]^o[y-8]^o[y-14]^o[y-16];o[y]=(C<<1|C>>>31)&4294967295}let l=this.chain_[0],a=this.chain_[1],d=this.chain_[2],h=this.chain_[3],m=this.chain_[4],_,v;for(let y=0;y<80;y++){y<40?y<20?(_=h^a&(d^h),v=1518500249):(_=a^d^h,v=1859775393):y<60?(_=a&d|h&(a|d),v=2400959708):(_=a^d^h,v=3395469782);const C=(l<<5|l>>>27)+_+m+v+o[y]&4294967295;m=h,h=d,d=(a<<30|a>>>2)&4294967295,a=l,l=C}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let l=0;const a=this.buf_;let d=this.inbuf_;for(;l<r;){if(d===0)for(;l<=o;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<r;)if(a[d]=t.charCodeAt(l),++d,++l,d===this.blockSize){this.compress_(a),d=0;break}}else for(;l<r;)if(a[d]=t[l],++d,++l,d===this.blockSize){this.compress_(a),d=0;break}}this.inbuf_=d,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let l=0;l<5;l++)for(let a=24;a>=0;a-=8)t[o]=this.chain_[l]>>a&255,++o;return t}}function fc(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);if(l>=55296&&l<=56319){const a=l-55296;o++,M(o<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(o)-56320;l=65536+(a<<10)+d}l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):l<65536?(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},ul=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(i){return i&&i._delegate?i._delegate:i}class Zi{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new ll;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(l)return null;throw a}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Kw(t))try{this.getOrInitializeService({instanceIdentifier:Zn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:l});o.resolve(a)}catch{}}}}clearInstance(t=Zn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zn){return this.instances.has(t)}getOptions(t=Zn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[a,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);o===h&&d.resolve(l)}return l}onInit(t,r){var o;const l=this.normalizeInstanceIdentifier(r),a=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;a.add(t),this.onInitCallbacks.set(l,a);const d=this.instances.get(l);return d&&t(d,l),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Qw(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Zn){return this.component?this.component.multipleInstances?t:Zn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qw(i){return i===Zn?void 0:i}function Kw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Gw(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(we||(we={}));const Yw={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Xw=we.INFO,Jw={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},Zw=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),l=Jw[t];if(l)console[l](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rm{constructor(t){this.name=t,this._logLevel=Xw,this._logHandler=Zw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in we))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Yw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...t),this._logHandler(this,we.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...t),this._logHandler(this,we.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,we.INFO,...t),this._logHandler(this,we.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,we.WARN,...t),this._logHandler(this,we.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...t),this._logHandler(this,we.ERROR,...t)}}const eE=(i,t)=>t.some(r=>i instanceof r);let _p,gp;function tE(){return _p||(_p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nE(){return gp||(gp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xm=new WeakMap,Ha=new WeakMap,Pm=new WeakMap,Sa=new WeakMap,hc=new WeakMap;function rE(i){const t=new Promise((r,o)=>{const l=()=>{i.removeEventListener("success",a),i.removeEventListener("error",d)},a=()=>{r(On(i.result)),l()},d=()=>{o(i.error),l()};i.addEventListener("success",a),i.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&xm.set(r,i)}).catch(()=>{}),hc.set(t,i),t}function iE(i){if(Ha.has(i))return;const t=new Promise((r,o)=>{const l=()=>{i.removeEventListener("complete",a),i.removeEventListener("error",d),i.removeEventListener("abort",d)},a=()=>{r(),l()},d=()=>{o(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",a),i.addEventListener("error",d),i.addEventListener("abort",d)});Ha.set(i,t)}let Va={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Ha.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Pm.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return On(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function sE(i){Va=i(Va)}function oE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(ka(this),t,...r);return Pm.set(o,t.sort?t.sort():[t]),On(o)}:nE().includes(i)?function(...t){return i.apply(ka(this),t),On(xm.get(this))}:function(...t){return On(i.apply(ka(this),t))}}function lE(i){return typeof i=="function"?oE(i):(i instanceof IDBTransaction&&iE(i),eE(i,tE())?new Proxy(i,Va):i)}function On(i){if(i instanceof IDBRequest)return rE(i);if(Sa.has(i))return Sa.get(i);const t=lE(i);return t!==i&&(Sa.set(i,t),hc.set(t,i)),t}const ka=i=>hc.get(i);function uE(i,t,{blocked:r,upgrade:o,blocking:l,terminated:a}={}){const d=indexedDB.open(i,t),h=On(d);return o&&d.addEventListener("upgradeneeded",m=>{o(On(d.result),m.oldVersion,m.newVersion,On(d.transaction),m)}),r&&d.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),h.then(m=>{a&&m.addEventListener("close",()=>a()),l&&m.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),h}const aE=["get","getKey","getAll","getAllKeys","count"],cE=["put","add","delete","clear"],Ia=new Map;function yp(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Ia.get(t))return Ia.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,l=cE.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||aE.includes(r)))return;const a=async function(d,...h){const m=this.transaction(d,l?"readwrite":"readonly");let _=m.store;return o&&(_=_.index(h.shift())),(await Promise.all([_[r](...h),l&&m.done]))[0]};return Ia.set(t,a),a}sE(i=>({...i,get:(t,r,o)=>yp(t,r)||i.get(t,r,o),has:(t,r)=>!!yp(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(fE(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function fE(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const $a="@firebase/app",vp="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new Rm("@firebase/app"),hE="@firebase/app-compat",pE="@firebase/analytics-compat",mE="@firebase/analytics",_E="@firebase/app-check-compat",gE="@firebase/app-check",yE="@firebase/auth",vE="@firebase/auth-compat",wE="@firebase/database",EE="@firebase/data-connect",CE="@firebase/database-compat",SE="@firebase/functions",kE="@firebase/functions-compat",IE="@firebase/installations",TE="@firebase/installations-compat",NE="@firebase/messaging",RE="@firebase/messaging-compat",xE="@firebase/performance",PE="@firebase/performance-compat",DE="@firebase/remote-config",OE="@firebase/remote-config-compat",AE="@firebase/storage",ME="@firebase/storage-compat",LE="@firebase/firestore",FE="@firebase/vertexai",zE="@firebase/firestore-compat",bE="firebase",UE="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]",jE={[$a]:"fire-core",[hE]:"fire-core-compat",[mE]:"fire-analytics",[pE]:"fire-analytics-compat",[gE]:"fire-app-check",[_E]:"fire-app-check-compat",[yE]:"fire-auth",[vE]:"fire-auth-compat",[wE]:"fire-rtdb",[EE]:"fire-data-connect",[CE]:"fire-rtdb-compat",[SE]:"fire-fn",[kE]:"fire-fn-compat",[IE]:"fire-iid",[TE]:"fire-iid-compat",[NE]:"fire-fcm",[RE]:"fire-fcm-compat",[xE]:"fire-perf",[PE]:"fire-perf-compat",[DE]:"fire-rc",[OE]:"fire-rc-compat",[AE]:"fire-gcs",[ME]:"fire-gcs-compat",[LE]:"fire-fst",[zE]:"fire-fst-compat",[FE]:"fire-vertex","fire-js":"fire-js",[bE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Map,BE=new Map,Qa=new Map;function wp(i,t){try{i.container.addComponent(t)}catch(r){an.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Wo(i){const t=i.name;if(Qa.has(t))return an.debug(`There were multiple attempts to register component ${t}.`),!1;Qa.set(t,i);for(const r of Bo.values())wp(r,i);for(const r of BE.values())wp(r,i);return!0}function WE(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new Tm("app","Firebase",HE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=UE;function Dm(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Ga,automaticDataCollectionEnabled:!1},t),l=o.name;if(typeof l!="string"||!l)throw An.create("bad-app-name",{appName:String(l)});if(r||(r=km()),!r)throw An.create("no-options");const a=Bo.get(l);if(a){if(Wa(r,a.options)&&Wa(o,a.config))return a;throw An.create("duplicate-app",{appName:l})}const d=new qw(l);for(const m of Qa.values())d.addComponent(m);const h=new VE(r,o,d);return Bo.set(l,h),h}function GE(i=Ga){const t=Bo.get(i);if(!t&&i===Ga&&km())return Dm();if(!t)throw An.create("no-app",{appName:i});return t}function zr(i,t,r){var o;let l=(o=jE[i])!==null&&o!==void 0?o:i;r&&(l+=`-${r}`);const a=l.match(/\s|\//),d=t.match(/\s|\//);if(a||d){const h=[`Unable to register library "${l}" with version "${t}":`];a&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),a&&d&&h.push("and"),d&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),an.warn(h.join(" "));return}Wo(new Zi(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firebase-heartbeat-database",KE=1,es="firebase-heartbeat-store";let Ta=null;function Om(){return Ta||(Ta=uE(QE,KE,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(es)}catch(r){console.warn(r)}}}}).catch(i=>{throw An.create("idb-open",{originalErrorMessage:i.message})})),Ta}async function qE(i){try{const r=(await Om()).transaction(es),o=await r.objectStore(es).get(Am(i));return await r.done,o}catch(t){if(t instanceof as)an.warn(t.message);else{const r=An.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});an.warn(r.message)}}}async function Ep(i,t){try{const o=(await Om()).transaction(es,"readwrite");await o.objectStore(es).put(t,Am(i)),await o.done}catch(r){if(r instanceof as)an.warn(r.message);else{const o=An.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});an.warn(o.message)}}}function Am(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=1024,XE=30*24*60*60*1e3;class JE{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new eC(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Cp();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(d=>d.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const h=new Date(d.date).valueOf();return Date.now()-h<=XE}),this._storage.overwrite(this._heartbeatsCache))}catch(o){an.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Cp(),{heartbeatsToSend:o,unsentEntries:l}=ZE(this._heartbeatsCache.heartbeats),a=Uo(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return an.warn(r),""}}}function Cp(){return new Date().toISOString().substring(0,10)}function ZE(i,t=YE){const r=[];let o=i.slice();for(const l of i){const a=r.find(d=>d.agent===l.agent);if(a){if(a.dates.push(l.date),Sp(r)>t){a.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),Sp(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class eC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fw()?zw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await qE(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Ep(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Ep(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function Sp(i){return Uo(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(i){Wo(new Zi("platform-logger",t=>new dE(t),"PRIVATE")),Wo(new Zi("heartbeat",t=>new JE(t),"PRIVATE")),zr($a,vp,i),zr($a,vp,"esm2017"),zr("fire-js","")}tC("");var kp={};const Ip="@firebase/database",Tp="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm="";function nC(i){Mm=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ve(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Ji(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return fn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new rC(t)}}catch{}return new iC},tr=Lm("localStorage"),sC=Lm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Rm("@firebase/database"),oC=function(){let i=1;return function(){return i++}}(),Fm=function(i){const t=$w(i),r=new Vw;r.update(t);const o=r.digest();return dc.encodeByteArray(o)},cs=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=cs.apply(null,o):typeof o=="object"?t+=Ve(o):t+=o,t+=" "}return t};let $i=null,Np=!0;const lC=function(i,t){M(!0,"Can't turn on custom loggers persistently."),br.logLevel=we.VERBOSE,$i=br.log.bind(br)},et=function(...i){if(Np===!0&&(Np=!1,$i===null&&sC.get("logging_enabled")===!0&&lC()),$i){const t=cs.apply(null,i);$i(t)}},ds=function(i){return function(...t){et(i,...t)}},Ka=function(...i){const t="FIREBASE INTERNAL ERROR: "+cs(...i);br.error(t)},cn=function(...i){const t=`FIREBASE FATAL ERROR: ${cs(...i)}`;throw br.error(t),new Error(t)},ft=function(...i){const t="FIREBASE WARNING: "+cs(...i);br.warn(t)},uC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zm=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},aC=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Hr="[MIN_NAME]",sr="[MAX_NAME]",Kr=function(i,t){if(i===t)return 0;if(i===Hr||t===sr)return-1;if(t===Hr||i===sr)return 1;{const r=Rp(i),o=Rp(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},cC=function(i,t){return i===t?0:i<t?-1:1},bi=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Ve(t))},pc=function(i){if(typeof i!="object"||i===null)return Ve(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Ve(t[o]),r+=":",r+=pc(i[t[o]]);return r+="}",r},bm=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let l=0;l<r;l+=t)l+t>r?o.push(i.substring(l,r)):o.push(i.substring(l,l+t));return o};function ht(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const Um=function(i){M(!zm(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let l,a,d,h,m;i===0?(a=0,d=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),o),a=h+o,d=Math.round(i*Math.pow(2,r-h)-Math.pow(2,r))):(a=0,d=Math.round(i/Math.pow(2,1-o-r))));const _=[];for(m=r;m;m-=1)_.push(d%2?1:0),d=Math.floor(d/2);for(m=t;m;m-=1)_.push(a%2?1:0),a=Math.floor(a/2);_.push(l?1:0),_.reverse();const v=_.join("");let y="";for(m=0;m<64;m+=8){let C=parseInt(v.substr(m,8),2).toString(16);C.length===1&&(C="0"+C),y=y+C}return y.toLowerCase()},dC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function hC(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const pC=new RegExp("^-?(0*)\\d{1,10}$"),mC=-2147483648,_C=2147483647,Rp=function(i){if(pC.test(i)){const t=Number(i);if(t>=mC&&t<=_C)return t}return null},qr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw ft("Exception was thrown by user callback.",r),t},Math.floor(0))}},gC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gi=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){ft(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ft(t)}}class Oo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Oo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="5",jm="v",Bm="s",Wm="r",Hm="f",Vm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$m="ls",Gm="p",qa="ac",Qm="websocket",Km="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,r,o,l,a=!1,d="",h=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=a,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&tr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function wC(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Ym(i,t,r){M(typeof t=="string","typeof type must == string"),M(typeof r=="object","typeof params must == object");let o;if(t===Qm)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Km)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);wC(i)&&(r.ns=i.namespace);const l=[];return ht(r,(a,d)=>{l.push(a+"="+d)}),o+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.counters_={}}incrementCounter(t,r=1){fn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return kw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na={},Ra={};function _c(i){const t=i.toString();return Na[t]||(Na[t]=new EC),Na[t]}function CC(i,t){const r=i.toString();return Ra[r]||(Ra[r]=t()),Ra[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&qr(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="start",kC="close",IC="pLPCommand",TC="pRTLPCB",Xm="id",Jm="pw",Zm="ser",NC="cb",RC="seg",xC="ts",PC="d",DC="dframe",e_=1870,t_=30,OC=e_-t_,AC=25e3,MC=3e4;class Lr{constructor(t,r,o,l,a,d,h){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=l,this.authToken=a,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ds(t),this.stats_=_c(r),this.urlFn=m=>(this.appCheckToken&&(m[qa]=this.appCheckToken),Ym(r,Km,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new SC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(MC)),aC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gc((...a)=>{const[d,h,m,_,v]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===xp)this.id=h,this.password=m;else if(d===kC)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...a)=>{const[d,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const o={};o[xp]="t",o[Zm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[NC]=this.scriptTagHolder.uniqueCallbackIdentifier),o[jm]=mc,this.transportSessionId&&(o[Bm]=this.transportSessionId),this.lastSessionId&&(o[$m]=this.lastSessionId),this.applicationId&&(o[Gm]=this.applicationId),this.appCheckToken&&(o[qa]=this.appCheckToken),typeof location<"u"&&location.hostname&&Vm.test(location.hostname)&&(o[Wm]=Hm);const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lr.forceAllow_=!0}static forceDisallow(){Lr.forceDisallow_=!0}static isAvailable(){return Lr.forceAllow_?!0:!Lr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dC()&&!fC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Ve(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Em(r),l=bm(o,OC);for(let a=0;a<l.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[a]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[DC]="t",o[Xm]=t,o[Jm]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Ve(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class gc{constructor(t,r,o,l){this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=oC(),window[IC+this.uniqueCallbackIdentifier]=t,window[TC+this.uniqueCallbackIdentifier]=r,this.myIFrame=gc.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){et("frame writing exception"),h.stack&&et(h.stack),et(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||et("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Xm]=this.myID,t[Jm]=this.myPW,t[Zm]=this.currentSerial;let r=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+t_+o.length<=e_;){const d=this.pendingSegs.shift();o=o+"&"+RC+l+"="+d.seg+"&"+xC+l+"="+d.ts+"&"+PC+l+"="+d.d,l++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(o,Math.floor(AC)),a=()=>{clearTimeout(l),o()};this.addTag(t,a)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||l==="loaded"||l==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{et("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=16384,FC=45e3;let Ho=null;typeof MozWebSocket<"u"?Ho=MozWebSocket:typeof WebSocket<"u"&&(Ho=WebSocket);class Kt{constructor(t,r,o,l,a,d,h){this.connId=t,this.applicationId=o,this.appCheckToken=l,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ds(this.connId),this.stats_=_c(r),this.connURL=Kt.connectionURL_(r,d,h,l,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,l,a){const d={};return d[jm]=mc,typeof location<"u"&&location.hostname&&Vm.test(location.hostname)&&(d[Wm]=Hm),r&&(d[Bm]=r),o&&(d[$m]=o),l&&(d[qa]=l),a&&(d[Gm]=a),Ym(t,Qm,d)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tr.set("previous_websocket_failure",!0);try{let o;Lw(),this.mySock=new Ho(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Kt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&Ho!==null&&!Kt.forceDisallow_}static previouslyFailed(){return tr.isInMemoryStorage||tr.get("previous_websocket_failure")===!0}markConnectionHealthy(){tr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Ji(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(M(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Ve(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=bm(r,LC);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(FC))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kt.responsesRequiredToBeHealthy=2;Kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{static get ALL_TRANSPORTS(){return[Lr,Kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Kt.isAvailable();let o=r&&!Kt.previouslyFailed();if(t.webSocketOnly&&(r||ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Kt];else{const l=this.transports_=[];for(const a of ts.ALL_TRANSPORTS)a&&a.isAvailable()&&l.push(a);ts.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ts.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=6e4,bC=5e3,UC=10*1024,jC=100*1024,xa="t",Pp="d",BC="s",Dp="r",WC="e",Op="o",Ap="a",Mp="n",Lp="p",HC="h";class VC{constructor(t,r,o,l,a,d,h,m,_,v){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=a,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ds("c:"+this.id+":"),this.transportManager_=new ts(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=Gi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>UC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(xa in t){const r=t[xa];r===Ap?this.upgradeIfSecondaryHealthy_():r===Dp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Op&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=bi("t",t),o=bi("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Lp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ap,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Mp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=bi("t",t),o=bi("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=bi(xa,t);if(Pp in t){const o=t[Pp];if(r===HC){const l=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===Mp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===BC?this.onConnectionShutdown_(o):r===Dp?this.onReset_(o):r===WC?Ka("Server Error: "+o):r===Op?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ka("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),mc!==o&&ft("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Gi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(bC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Lp,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{put(t,r,o,l){}merge(t,r,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const l=this.getInitialEvent(t);l&&r.apply(o,l)}off(t,r,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let a=0;a<l.length;a++)if(l[a].callback===r&&(!o||o===l[a].context)){l.splice(a,1);return}}validateEventType_(t){M(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends r_{static getInstance(){return new Vo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Im()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return M(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=32,zp=768;class ge{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function he(){return new ge("")}function ie(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Fn(i){return i.pieces_.length-i.pieceNum_}function Ee(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ge(i.pieces_,t)}function i_(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function $C(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function s_(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function o_(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ge(t,0)}function ze(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ge)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&r.push(o[l])}return new ge(r,0)}function le(i){return i.pieceNum_>=i.pieces_.length}function ct(i,t){const r=ie(i),o=ie(t);if(r===null)return t;if(r===o)return ct(Ee(i),Ee(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function yc(i,t){if(Fn(i)!==Fn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function bt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Fn(i)>Fn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class GC{constructor(t,r){this.errorPrefix_=r,this.parts_=s_(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=ul(this.parts_[o]);l_(this)}}function QC(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=ul(t),l_(i)}function KC(i){const t=i.parts_.pop();i.byteLength_-=ul(t),i.parts_.length>0&&(i.byteLength_-=1)}function l_(i){if(i.byteLength_>zp)throw new Error(i.errorPrefix_+"has a key path longer than "+zp+" bytes ("+i.byteLength_+").");if(i.parts_.length>Fp)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Fp+") or object contains a cycle "+er(i))}function er(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends r_{static getInstance(){return new vc}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return M(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=1e3,qC=60*5*1e3,bp=30*1e3,YC=1.3,XC=3e4,JC="server_kill",Up=3;class ln extends n_{constructor(t,r,o,l,a,d,h,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=a,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=ln.nextPersistentConnectionId_++,this.log_=ds("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ui,this.maxReconnectDelay_=qC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vc.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Vo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const l=++this.requestNumber_,a={r:l,a:t,b:r};this.log_(Ve(a)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),o&&(this.requestCBHash_[l]=o)}get(t){this.initConnection_();const r=new ll,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),r.promise}listen(t,r,o,l){this.initConnection_();const a=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+a),this.listens.has(d)||this.listens.set(d,new Map),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(d).has(a),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:t,tag:o};this.listens.get(d).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+o+" for "+l);const a={p:o},d="q";t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(d,a,h=>{const m=h.d,_=h.s;ln.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(l))===t&&(this.log_("listen response",h),_!=="ok"&&this.removeListen_(o,l),t.onComplete&&t.onComplete(_,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&fn(t,"w")){const o=Wr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();ft(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Ww(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=bp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=Bw(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,l=>{const a=l.s,d=l.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,t._queryObject,r)}sendUnlisten_(t,r,o,l){this.log_("Unlisten on "+t+" for "+r);const a={p:t},d="n";l&&(a.q=o,a.t=l),this.sendRequest(d,a)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,l){const a={p:r,d:o};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,d=>{l&&setTimeout(()=>{l(d.s,d.d)},Math.floor(0))})}put(t,r,o,l){this.putInternal("p",t,r,o,l)}merge(t,r,o,l){this.putInternal("m",t,r,o,l)}putInternal(t,r,o,l,a){this.initConnection_();const d={p:r,d:o};a!==void 0&&(d.h=a),this.outstandingPuts_.push({action:t,request:d,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,a=>{this.log_(r+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(a.s,a.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const a=o.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ve(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):Ka("Unrecognized action received from server: "+Ve(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ui,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ui,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>XC&&(this.reconnectDelay_=Ui),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*YC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+ln.nextConnectionId_++,a=this.lastSessionId;let d=!1,h=null;const m=function(){h?h.close():(d=!0,o())},_=function(y){M(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:m,sendRequest:_};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,C]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);d?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=C&&C.token,h=new VC(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,N=>{ft(N+" ("+this.repoInfo_.toString()+")"),this.interrupt(JC)},a))}catch(y){this.log_("Failed to get token: "+y),d||(this.repoInfo_.nodeAdmin&&ft(y),m())}}}interrupt(t){et("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){et("Resuming connection for reason: "+t),delete this.interruptReasons_[t],pp(this.interruptReasons_)&&(this.reconnectDelay_=Ui,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(a=>pc(a)).join("$"):o="default";const l=this.removeListen_(t,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,r){const o=new ge(t).toString();let l;if(this.listens.has(o)){const a=this.listens.get(o);l=a.get(r),a.delete(r),a.size===0&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(t,r){et("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Up&&(this.reconnectDelay_=bp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){et("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Up&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+Mm.replace(/\./g,"-")]=1,Im()?t["framework.cordova"]=1:Mw()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Vo.getInstance().currentlyOnline();return pp(this.interruptReasons_)&&t}}ln.nextPersistentConnectionId_=0;ln.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new se(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new se(Hr,t),l=new se(Hr,r);return this.compare(o,l)!==0}minPost(){return se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po;class u_ extends al{static get __EMPTY_NODE(){return Po}static set __EMPTY_NODE(t){Po=t}compare(t,r){return Kr(t.name,r.name)}isDefinedOn(t){throw Gr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return se.MIN}maxPost(){return new se(sr,Po)}makePost(t,r){return M(typeof t=="string","KeyIndex indexValue must always be a string."),new se(t,Po)}toString(){return".key"}}const Ur=new u_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,r,o,l,a=null){this.isReverse_=l,this.resultGenerator_=a,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=r?o(t.key,r):1,l&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class He{constructor(t,r,o,l,a){this.key=t,this.value=r,this.color=o??He.RED,this.left=l??dt.EMPTY_NODE,this.right=a??dt.EMPTY_NODE}copy(t,r,o,l,a){return new He(t??this.key,r??this.value,o??this.color,l??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let l=this;const a=o(t,l.key);return a<0?l=l.copy(null,null,null,l.left.insert(t,r,o),null):a===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,r,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return dt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,l;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return dt.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}He.RED=!0;He.BLACK=!1;class ZC{copy(t,r,o,l,a){return this}insert(t,r,o){return new He(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class dt{constructor(t,r=dt.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new dt(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,He.BLACK,null,null))}remove(t){return new dt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,He.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,l=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(l=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Do(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new Do(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new Do(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new Do(this.root_,null,this.comparator_,!0,t)}}dt.EMPTY_NODE=new ZC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(i,t){return Kr(i.name,t.name)}function wc(i,t){return Kr(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya;function tS(i){Ya=i}const a_=function(i){return typeof i=="number"?"number:"+Um(i):"string:"+i},c_=function(i){if(i.isLeafNode()){const t=i.val();M(typeof t=="string"||typeof t=="number"||typeof t=="object"&&fn(t,".sv"),"Priority must be a string or number.")}else M(i===Ya||i.isEmpty(),"priority of unexpected type.");M(i===Ya||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp;class We{static set __childrenNodeConstructor(t){jp=t}static get __childrenNodeConstructor(){return jp}constructor(t,r=We.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),c_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new We(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return le(t)?this:ie(t)===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:We.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=ie(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(M(o!==".priority"||Fn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,We.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ee(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+a_(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=Um(this.value_):t+=this.value_,this.lazyHash_=Fm(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===We.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof We.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,l=We.VALUE_TYPE_ORDER.indexOf(r),a=We.VALUE_TYPE_ORDER.indexOf(o);return M(l>=0,"Unknown leaf type: "+r),M(a>=0,"Unknown leaf type: "+o),l===a?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}We.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d_,f_;function nS(i){d_=i}function rS(i){f_=i}class iS extends al{compare(t,r){const o=t.node.getPriority(),l=r.node.getPriority(),a=o.compareTo(l);return a===0?Kr(t.name,r.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return se.MIN}maxPost(){return new se(sr,new We("[PRIORITY-POST]",f_))}makePost(t,r){const o=d_(t);return new se(r,new We("[PRIORITY-POST]",o))}toString(){return".priority"}}const De=new iS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=Math.log(2);class oS{constructor(t){const r=a=>parseInt(Math.log(a)/sS,10),o=a=>parseInt(Array(a+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const l=o(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const $o=function(i,t,r,o){i.sort(t);const l=function(m,_){const v=_-m;let y,C;if(v===0)return null;if(v===1)return y=i[m],C=r?r(y):y,new He(C,y.node,He.BLACK,null,null);{const N=parseInt(v/2,10)+m,O=l(m,N),b=l(N+1,_);return y=i[N],C=r?r(y):y,new He(C,y.node,He.BLACK,O,b)}},a=function(m){let _=null,v=null,y=i.length;const C=function(O,b){const L=y-O,ne=y;y-=O;const J=l(L+1,ne),K=i[L],G=r?r(K):K;N(new He(G,K.node,b,null,J))},N=function(O){_?(_.left=O,_=O):(v=O,_=O)};for(let O=0;O<m.count;++O){const b=m.nextBitIsOne(),L=Math.pow(2,m.count-(O+1));b?C(L,He.BLACK):(C(L,He.BLACK),C(L,He.RED))}return v},d=new oS(i.length),h=a(d);return new dt(o||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa;const ji={};class sn{static get Default(){return M(De,"ChildrenNode.ts has not been loaded"),Pa=Pa||new sn({".priority":ji},{".priority":De}),Pa}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Wr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof dt?r:null}hasIndex(t){return fn(this.indexSet_,t.toString())}addIndex(t,r){M(t!==Ur,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const a=r.getIterator(se.Wrap);let d=a.getNext();for(;d;)l=l||t.isDefinedOn(d.node),o.push(d),d=a.getNext();let h;l?h=$o(o,t.getCompare()):h=ji;const m=t.toString(),_=Object.assign({},this.indexSet_);_[m]=t;const v=Object.assign({},this.indexes_);return v[m]=h,new sn(v,_)}addToIndexes(t,r){const o=jo(this.indexes_,(l,a)=>{const d=Wr(this.indexSet_,a);if(M(d,"Missing index implementation for "+a),l===ji)if(d.isDefinedOn(t.node)){const h=[],m=r.getIterator(se.Wrap);let _=m.getNext();for(;_;)_.name!==t.name&&h.push(_),_=m.getNext();return h.push(t),$o(h,d.getCompare())}else return ji;else{const h=r.get(t.name);let m=l;return h&&(m=m.remove(new se(t.name,h))),m.insert(t,t.node)}});return new sn(o,this.indexSet_)}removeFromIndexes(t,r){const o=jo(this.indexes_,l=>{if(l===ji)return l;{const a=r.get(t.name);return a?l.remove(new se(t.name,a)):l}});return new sn(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bi;class q{static get EMPTY_NODE(){return Bi||(Bi=new q(new dt(wc),null,sn.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&c_(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bi}updatePriority(t){return this.children_.isEmpty()?this:new q(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Bi:r}}getChild(t){const r=ie(t);return r===null?this:this.getImmediateChild(r).getChild(Ee(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(M(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new se(t,r);let l,a;r.isEmpty()?(l=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(t,r),a=this.indexMap_.addToIndexes(o,this.children_));const d=l.isEmpty()?Bi:this.priorityNode_;return new q(l,d,a)}}updateChild(t,r){const o=ie(t);if(o===null)return r;{M(ie(t)!==".priority"||Fn(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(Ee(t),r);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,l=0,a=!0;if(this.forEachChild(De,(d,h)=>{r[d]=h.val(t),o++,a&&q.INTEGER_REGEXP_.test(d)?l=Math.max(l,Number(d)):a=!1}),!t&&a&&l<2*o){const d=[];for(const h in r)d[h]=r[h];return d}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+a_(this.getPriority().val())+":"),this.forEachChild(De,(r,o)=>{const l=o.hash();l!==""&&(t+=":"+r+":"+l)}),this.lazyHash_=t===""?"":Fm(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const l=this.resolveIndex_(o);if(l){const a=l.getPredecessorKey(new se(t,r));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new se(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new se(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,se.Wrap);let a=l.peek();for(;a!=null&&r.compare(a,t)<0;)l.getNext(),a=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,se.Wrap);let a=l.peek();for(;a!=null&&r.compare(a,t)>0;)l.getNext(),a=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===fs?-1:0}withIndex(t){if(t===Ur||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new q(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Ur||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(De),l=r.getIterator(De);let a=o.getNext(),d=l.getNext();for(;a&&d;){if(a.name!==d.name||!a.node.equals(d.node))return!1;a=o.getNext(),d=l.getNext()}return a===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===Ur?null:this.indexMap_.get(t.toString())}}q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class lS extends q{constructor(){super(new dt(wc),q.EMPTY_NODE,sn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return q.EMPTY_NODE}isEmpty(){return!1}}const fs=new lS;Object.defineProperties(se,{MIN:{value:new se(Hr,q.EMPTY_NODE)},MAX:{value:new se(sr,fs)}});u_.__EMPTY_NODE=q.EMPTY_NODE;We.__childrenNodeConstructor=q;tS(fs);rS(fs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=!0;function qe(i,t=null){if(i===null)return q.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),M(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new We(r,qe(t))}if(!(i instanceof Array)&&uS){const r=[];let o=!1;if(ht(i,(d,h)=>{if(d.substring(0,1)!=="."){const m=qe(h);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new se(d,m)))}}),r.length===0)return q.EMPTY_NODE;const a=$o(r,eS,d=>d.name,wc);if(o){const d=$o(r,De.getCompare());return new q(a,qe(t),new sn({".priority":d},{".priority":De}))}else return new q(a,qe(t),sn.Default)}else{let r=q.EMPTY_NODE;return ht(i,(o,l)=>{if(fn(i,o)&&o.substring(0,1)!=="."){const a=qe(l);(a.isLeafNode()||!a.isEmpty())&&(r=r.updateImmediateChild(o,a))}}),r.updatePriority(qe(t))}}nS(qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS extends al{constructor(t){super(),this.indexPath_=t,M(!le(t)&&ie(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),l=this.extractChild(r.node),a=o.compareTo(l);return a===0?Kr(t.name,r.name):a}makePost(t,r){const o=qe(t),l=q.EMPTY_NODE.updateChild(this.indexPath_,o);return new se(r,l)}maxPost(){const t=q.EMPTY_NODE.updateChild(this.indexPath_,fs);return new se(sr,t)}toString(){return s_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends al{compare(t,r){const o=t.node.compareTo(r.node);return o===0?Kr(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(t,r){const o=qe(t);return new se(r,o)}toString(){return".value"}}const dS=new cS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(i){return{type:"value",snapshotNode:i}}function Vr(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function ns(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function rs(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function fS(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t){this.index_=t}updateChild(t,r,o,l,a,d){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(r);return h.getChild(l).equals(o.getChild(l))&&h.isEmpty()===o.isEmpty()||(d!=null&&(o.isEmpty()?t.hasChild(r)?d.trackChildChange(ns(r,h)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(Vr(r,o)):d.trackChildChange(rs(r,o,h))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(De,(l,a)=>{r.hasChild(l)||o.trackChildChange(ns(l,a))}),r.isLeafNode()||r.forEachChild(De,(l,a)=>{if(t.hasChild(l)){const d=t.getImmediateChild(l);d.equals(a)||o.trackChildChange(rs(l,a,d))}else o.trackChildChange(Vr(l,a))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?q.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.indexedFilter_=new Ec(t.getIndex()),this.index_=t.getIndex(),this.startPost_=is.getStartPost_(t),this.endPost_=is.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,l,a,d){return this.matches(new se(r,o))||(o=q.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,l,a,d)}updateFullNode(t,r,o){r.isLeafNode()&&(r=q.EMPTY_NODE);let l=r.withIndex(this.index_);l=l.updatePriority(q.EMPTY_NODE);const a=this;return r.forEachChild(De,(d,h)=>{a.matches(new se(d,h))||(l=l.updateImmediateChild(d,q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new is(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,l,a,d){return this.rangedFilter_.matches(new se(r,o))||(o=q.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,l,a,d):this.fullLimitUpdateChild_(t,r,o,a,d)}updateFullNode(t,r,o){let l;if(r.isLeafNode()||r.isEmpty())l=q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){l=q.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;a.hasNext()&&d<this.limit_;){const h=a.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{l=r.withIndex(this.index_),l=l.updatePriority(q.EMPTY_NODE);let a;this.reverse_?a=l.getReverseIterator(this.index_):a=l.getIterator(this.index_);let d=0;for(;a.hasNext();){const h=a.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:l=l.updateImmediateChild(h.name,q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,l,a){let d;if(this.reverse_){const y=this.index_.getCompare();d=(C,N)=>y(N,C)}else d=this.index_.getCompare();const h=t;M(h.numChildren()===this.limit_,"");const m=new se(r,o),_=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),v=this.rangedFilter_.matches(m);if(h.hasChild(r)){const y=h.getImmediateChild(r);let C=l.getChildAfterChild(this.index_,_,this.reverse_);for(;C!=null&&(C.name===r||h.hasChild(C.name));)C=l.getChildAfterChild(this.index_,C,this.reverse_);const N=C==null?1:d(C,m);if(v&&!o.isEmpty()&&N>=0)return a!=null&&a.trackChildChange(rs(r,o,y)),h.updateImmediateChild(r,o);{a!=null&&a.trackChildChange(ns(r,y));const b=h.updateImmediateChild(r,q.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(a!=null&&a.trackChildChange(Vr(C.name,C.node)),b.updateImmediateChild(C.name,C.node)):b}}else return o.isEmpty()?t:v&&d(_,m)>=0?(a!=null&&(a.trackChildChange(ns(_.name,_.node)),a.trackChildChange(Vr(r,o))),h.updateImmediateChild(r,o).updateImmediateChild(_.name,q.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=De}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hr}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===De}copy(){const t=new Cc;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function pS(i){return i.loadsAllData()?new Ec(i.getIndex()):i.hasLimit()?new hS(i):new is(i)}function Bp(i){const t={};if(i.isDefault())return t;let r;if(i.index_===De?r="$priority":i.index_===dS?r="$value":i.index_===Ur?r="$key":(M(i.index_ instanceof aS,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Ve(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Ve(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Ve(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Ve(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Ve(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Wp(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==De&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends n_{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=ds("p:rest:"),this.listens_={}}listen(t,r,o,l){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const d=Go.getListenId_(t,o),h={};this.listens_[d]=h;const m=Bp(t._queryParams);this.restRequest_(a+".json",m,(_,v)=>{let y=v;if(_===404&&(y=null,_=null),_===null&&this.onDataUpdate_(a,y,!1,o),Wr(this.listens_,d)===h){let C;_?_===401?C="permission_denied":C="rest_error:"+_:C="ok",l(C,null)}})}unlisten(t,r){const o=Go.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Bp(t._queryParams),o=t._path.toString(),l=new ll;return this.restRequest_(o+".json",r,(a,d)=>{let h=d;a===404&&(h=null,a=null),a===null?(this.onDataUpdate_(o,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,a])=>{l&&l.accessToken&&(r.auth=l.accessToken),a&&a.token&&(r.ac=a.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Hw(r);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(o&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=Ji(h.responseText)}catch{ft("Failed to parse JSON response for "+d+": "+h.responseText)}o(null,m)}else h.status!==401&&h.status!==404&&ft("Got unsuccessful REST response for "+d+" Status: "+h.status),o(h.status);o=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.rootNode_=q.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(){return{value:null,children:new Map}}function p_(i,t,r){if(le(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=ie(t);i.children.has(o)||i.children.set(o,Qo());const l=i.children.get(o);t=Ee(t),p_(l,t,r)}}function Xa(i,t,r){i.value!==null?r(t,i.value):_S(i,(o,l)=>{const a=new ge(t.toString()+"/"+o);Xa(l,a,r)})}function _S(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&ht(this.last_,(o,l)=>{r[o]=r[o]-l}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=10*1e3,yS=30*1e3,vS=5*60*1e3;class wS{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new gS(t);const o=Hp+(yS-Hp)*Math.random();Gi(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;ht(t,(l,a)=>{a>0&&fn(this.statsToReport_,l)&&(r[l]=a,o=!0)}),o&&this.server_.reportStats(r),Gi(this.reportStats_.bind(this),Math.floor(Math.random()*2*vS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ut||(Ut={}));function m_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Sc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kc(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Ut.ACK_USER_WRITE,this.source=m_()}operationForChild(t){if(le(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ge(t));return new Ko(he(),r,this.revert)}}else return M(ie(this.path)===t,"operationForChild called for unrelated child."),new Ko(Ee(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,r){this.source=t,this.path=r,this.type=Ut.LISTEN_COMPLETE}operationForChild(t){return le(this.path)?new ss(this.source,he()):new ss(this.source,Ee(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Ut.OVERWRITE}operationForChild(t){return le(this.path)?new or(this.source,he(),this.snap.getImmediateChild(t)):new or(this.source,Ee(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Ut.MERGE}operationForChild(t){if(le(this.path)){const r=this.children.subtree(new ge(t));return r.isEmpty()?null:r.value?new or(this.source,he(),r.value):new os(this.source,he(),r)}else return M(ie(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new os(this.source,Ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(le(t))return this.isFullyInitialized()&&!this.filtered_;const r=ie(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function CS(i,t,r,o){const l=[],a=[];return t.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&a.push(fS(d.childName,d.snapshotNode))}),Wi(i,l,"child_removed",t,o,r),Wi(i,l,"child_added",t,o,r),Wi(i,l,"child_moved",a,o,r),Wi(i,l,"child_changed",t,o,r),Wi(i,l,"value",t,o,r),l}function Wi(i,t,r,o,l,a){const d=o.filter(h=>h.type===r);d.sort((h,m)=>kS(i,h,m)),d.forEach(h=>{const m=SS(i,h,a);l.forEach(_=>{_.respondsTo(h.type)&&t.push(_.createEvent(m,i.query_))})})}function SS(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function kS(i,t,r){if(t.childName==null||r.childName==null)throw Gr("Should only compare child_ events.");const o=new se(t.childName,t.snapshotNode),l=new se(r.childName,r.snapshotNode);return i.index_.compare(o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(i,t){return{eventCache:i,serverCache:t}}function Qi(i,t,r,o){return cl(new lr(t,r,o),i.serverCache)}function __(i,t,r,o){return cl(i.eventCache,new lr(t,r,o))}function Ja(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function ur(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da;const IS=()=>(Da||(Da=new dt(cC)),Da);class ke{static fromObject(t){let r=new ke(null);return ht(t,(o,l)=>{r=r.set(new ge(o),l)}),r}constructor(t,r=IS()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:he(),value:this.value};if(le(t))return null;{const o=ie(t),l=this.children.get(o);if(l!==null){const a=l.findRootMostMatchingPathAndValue(Ee(t),r);return a!=null?{path:ze(new ge(o),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(le(t))return this;{const r=ie(t),o=this.children.get(r);return o!==null?o.subtree(Ee(t)):new ke(null)}}set(t,r){if(le(t))return new ke(r,this.children);{const o=ie(t),a=(this.children.get(o)||new ke(null)).set(Ee(t),r),d=this.children.insert(o,a);return new ke(this.value,d)}}remove(t){if(le(t))return this.children.isEmpty()?new ke(null):new ke(null,this.children);{const r=ie(t),o=this.children.get(r);if(o){const l=o.remove(Ee(t));let a;return l.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,l),this.value===null&&a.isEmpty()?new ke(null):new ke(this.value,a)}else return this}}get(t){if(le(t))return this.value;{const r=ie(t),o=this.children.get(r);return o?o.get(Ee(t)):null}}setTree(t,r){if(le(t))return r;{const o=ie(t),a=(this.children.get(o)||new ke(null)).setTree(Ee(t),r);let d;return a.isEmpty()?d=this.children.remove(o):d=this.children.insert(o,a),new ke(this.value,d)}}fold(t){return this.fold_(he(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((l,a)=>{o[l]=a.fold_(ze(t,l),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,he(),r)}findOnPath_(t,r,o){const l=this.value?o(r,this.value):!1;if(l)return l;if(le(t))return null;{const a=ie(t),d=this.children.get(a);return d?d.findOnPath_(Ee(t),ze(r,a),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,he(),r)}foreachOnPath_(t,r,o){if(le(t))return this;{this.value&&o(r,this.value);const l=ie(t),a=this.children.get(l);return a?a.foreachOnPath_(Ee(t),ze(r,l),o):new ke(null)}}foreach(t){this.foreach_(he(),t)}foreach_(t,r){this.children.inorderTraversal((o,l)=>{l.foreach_(ze(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.writeTree_=t}static empty(){return new jt(new ke(null))}}function Ki(i,t,r){if(le(t))return new jt(new ke(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const l=o.path;let a=o.value;const d=ct(l,t);return a=a.updateChild(d,r),new jt(i.writeTree_.set(l,a))}else{const l=new ke(r),a=i.writeTree_.setTree(t,l);return new jt(a)}}}function Vp(i,t,r){let o=i;return ht(r,(l,a)=>{o=Ki(o,ze(t,l),a)}),o}function $p(i,t){if(le(t))return jt.empty();{const r=i.writeTree_.setTree(t,new ke(null));return new jt(r)}}function Za(i,t){return ar(i,t)!=null}function ar(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(ct(r.path,t)):null}function Gp(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(De,(o,l)=>{t.push(new se(o,l))}):i.writeTree_.children.inorderTraversal((o,l)=>{l.value!=null&&t.push(new se(o,l.value))}),t}function Mn(i,t){if(le(t))return i;{const r=ar(i,t);return r!=null?new jt(new ke(r)):new jt(i.writeTree_.subtree(t))}}function ec(i){return i.writeTree_.isEmpty()}function $r(i,t){return g_(he(),i.writeTree_,t)}function g_(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((l,a)=>{l===".priority"?(M(a.value!==null,"Priority writes must always be leaf nodes"),o=a.value):r=g_(ze(i,l),a,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(ze(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(i,t){return E_(t,i)}function TS(i,t,r,o,l){M(o>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:l}),l&&(i.visibleWrites=Ki(i.visibleWrites,t,r)),i.lastWriteId=o}function NS(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function RS(i,t){const r=i.allWrites.findIndex(h=>h.writeId===t);M(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let l=o.visible,a=!1,d=i.allWrites.length-1;for(;l&&d>=0;){const h=i.allWrites[d];h.visible&&(d>=r&&xS(h,o.path)?l=!1:bt(o.path,h.path)&&(a=!0)),d--}if(l){if(a)return PS(i),!0;if(o.snap)i.visibleWrites=$p(i.visibleWrites,o.path);else{const h=o.children;ht(h,m=>{i.visibleWrites=$p(i.visibleWrites,ze(o.path,m))})}return!0}else return!1}function xS(i,t){if(i.snap)return bt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&bt(ze(i.path,r),t))return!0;return!1}function PS(i){i.visibleWrites=y_(i.allWrites,DS,he()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function DS(i){return i.visible}function y_(i,t,r){let o=jt.empty();for(let l=0;l<i.length;++l){const a=i[l];if(t(a)){const d=a.path;let h;if(a.snap)bt(r,d)?(h=ct(r,d),o=Ki(o,h,a.snap)):bt(d,r)&&(h=ct(d,r),o=Ki(o,he(),a.snap.getChild(h)));else if(a.children){if(bt(r,d))h=ct(r,d),o=Vp(o,h,a.children);else if(bt(d,r))if(h=ct(d,r),le(h))o=Vp(o,he(),a.children);else{const m=Wr(a.children,ie(h));if(m){const _=m.getChild(Ee(h));o=Ki(o,he(),_)}}}else throw Gr("WriteRecord should have .snap or .children")}}return o}function v_(i,t,r,o,l){if(!o&&!l){const a=ar(i.visibleWrites,t);if(a!=null)return a;{const d=Mn(i.visibleWrites,t);if(ec(d))return r;if(r==null&&!Za(d,he()))return null;{const h=r||q.EMPTY_NODE;return $r(d,h)}}}else{const a=Mn(i.visibleWrites,t);if(!l&&ec(a))return r;if(!l&&r==null&&!Za(a,he()))return null;{const d=function(_){return(_.visible||l)&&(!o||!~o.indexOf(_.writeId))&&(bt(_.path,t)||bt(t,_.path))},h=y_(i.allWrites,d,t),m=r||q.EMPTY_NODE;return $r(h,m)}}}function OS(i,t,r){let o=q.EMPTY_NODE;const l=ar(i.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(De,(a,d)=>{o=o.updateImmediateChild(a,d)}),o;if(r){const a=Mn(i.visibleWrites,t);return r.forEachChild(De,(d,h)=>{const m=$r(Mn(a,new ge(d)),h);o=o.updateImmediateChild(d,m)}),Gp(a).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}else{const a=Mn(i.visibleWrites,t);return Gp(a).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}}function AS(i,t,r,o,l){M(o||l,"Either existingEventSnap or existingServerSnap must exist");const a=ze(t,r);if(Za(i.visibleWrites,a))return null;{const d=Mn(i.visibleWrites,a);return ec(d)?l.getChild(r):$r(d,l.getChild(r))}}function MS(i,t,r,o){const l=ze(t,r),a=ar(i.visibleWrites,l);if(a!=null)return a;if(o.isCompleteForChild(r)){const d=Mn(i.visibleWrites,l);return $r(d,o.getNode().getImmediateChild(r))}else return null}function LS(i,t){return ar(i.visibleWrites,t)}function FS(i,t,r,o,l,a,d){let h;const m=Mn(i.visibleWrites,t),_=ar(m,he());if(_!=null)h=_;else if(r!=null)h=$r(m,r);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const v=[],y=d.getCompare(),C=a?h.getReverseIteratorFrom(o,d):h.getIteratorFrom(o,d);let N=C.getNext();for(;N&&v.length<l;)y(N,o)!==0&&v.push(N),N=C.getNext();return v}else return[]}function zS(){return{visibleWrites:jt.empty(),allWrites:[],lastWriteId:-1}}function qo(i,t,r,o){return v_(i.writeTree,i.treePath,t,r,o)}function Tc(i,t){return OS(i.writeTree,i.treePath,t)}function Qp(i,t,r,o){return AS(i.writeTree,i.treePath,t,r,o)}function Yo(i,t){return LS(i.writeTree,ze(i.treePath,t))}function bS(i,t,r,o,l,a){return FS(i.writeTree,i.treePath,t,r,o,l,a)}function Nc(i,t,r){return MS(i.writeTree,i.treePath,t,r)}function w_(i,t){return E_(ze(i.treePath,t),i.writeTree)}function E_(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;M(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),M(o!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const a=l.type;if(r==="child_added"&&a==="child_removed")this.changeMap.set(o,rs(o,t.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&a==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&a==="child_changed")this.changeMap.set(o,ns(o,l.oldSnap));else if(r==="child_changed"&&a==="child_added")this.changeMap.set(o,Vr(o,t.snapshotNode));else if(r==="child_changed"&&a==="child_changed")this.changeMap.set(o,rs(o,t.snapshotNode,l.oldSnap));else throw Gr("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const C_=new jS;class Rc{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new lr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nc(this.writes_,t,o)}}getChildAfterChild(t,r,o){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ur(this.viewCache_),a=bS(this.writes_,l,r,1,o,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(i){return{filter:i}}function WS(i,t){M(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function HS(i,t,r,o,l){const a=new US;let d,h;if(r.type===Ut.OVERWRITE){const _=r;_.source.fromUser?d=tc(i,t,_.path,_.snap,o,l,a):(M(_.source.fromServer,"Unknown source."),h=_.source.tagged||t.serverCache.isFiltered()&&!le(_.path),d=Xo(i,t,_.path,_.snap,o,l,h,a))}else if(r.type===Ut.MERGE){const _=r;_.source.fromUser?d=$S(i,t,_.path,_.children,o,l,a):(M(_.source.fromServer,"Unknown source."),h=_.source.tagged||t.serverCache.isFiltered(),d=nc(i,t,_.path,_.children,o,l,h,a))}else if(r.type===Ut.ACK_USER_WRITE){const _=r;_.revert?d=KS(i,t,_.path,o,l,a):d=GS(i,t,_.path,_.affectedTree,o,l,a)}else if(r.type===Ut.LISTEN_COMPLETE)d=QS(i,t,r.path,o,a);else throw Gr("Unknown operation type: "+r.type);const m=a.getChanges();return VS(t,d,m),{viewCache:d,changes:m}}function VS(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),a=Ja(i);(r.length>0||!i.eventCache.isFullyInitialized()||l&&!o.getNode().equals(a)||!o.getNode().getPriority().equals(a.getPriority()))&&r.push(h_(Ja(t)))}}function S_(i,t,r,o,l,a){const d=t.eventCache;if(Yo(o,r)!=null)return t;{let h,m;if(le(r))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=ur(t),v=_ instanceof q?_:q.EMPTY_NODE,y=Tc(o,v);h=i.filter.updateFullNode(t.eventCache.getNode(),y,a)}else{const _=qo(o,ur(t));h=i.filter.updateFullNode(t.eventCache.getNode(),_,a)}else{const _=ie(r);if(_===".priority"){M(Fn(r)===1,"Can't have a priority with additional path components");const v=d.getNode();m=t.serverCache.getNode();const y=Qp(o,r,v,m);y!=null?h=i.filter.updatePriority(v,y):h=d.getNode()}else{const v=Ee(r);let y;if(d.isCompleteForChild(_)){m=t.serverCache.getNode();const C=Qp(o,r,d.getNode(),m);C!=null?y=d.getNode().getImmediateChild(_).updateChild(v,C):y=d.getNode().getImmediateChild(_)}else y=Nc(o,_,t.serverCache);y!=null?h=i.filter.updateChild(d.getNode(),_,y,v,l,a):h=d.getNode()}}return Qi(t,h,d.isFullyInitialized()||le(r),i.filter.filtersNodes())}}function Xo(i,t,r,o,l,a,d,h){const m=t.serverCache;let _;const v=d?i.filter:i.filter.getIndexedFilter();if(le(r))_=v.updateFullNode(m.getNode(),o,null);else if(v.filtersNodes()&&!m.isFiltered()){const N=m.getNode().updateChild(r,o);_=v.updateFullNode(m.getNode(),N,null)}else{const N=ie(r);if(!m.isCompleteForPath(r)&&Fn(r)>1)return t;const O=Ee(r),L=m.getNode().getImmediateChild(N).updateChild(O,o);N===".priority"?_=v.updatePriority(m.getNode(),L):_=v.updateChild(m.getNode(),N,L,O,C_,null)}const y=__(t,_,m.isFullyInitialized()||le(r),v.filtersNodes()),C=new Rc(l,y,a);return S_(i,y,r,l,C,h)}function tc(i,t,r,o,l,a,d){const h=t.eventCache;let m,_;const v=new Rc(l,t,a);if(le(r))_=i.filter.updateFullNode(t.eventCache.getNode(),o,d),m=Qi(t,_,!0,i.filter.filtersNodes());else{const y=ie(r);if(y===".priority")_=i.filter.updatePriority(t.eventCache.getNode(),o),m=Qi(t,_,h.isFullyInitialized(),h.isFiltered());else{const C=Ee(r),N=h.getNode().getImmediateChild(y);let O;if(le(C))O=o;else{const b=v.getCompleteChild(y);b!=null?i_(C)===".priority"&&b.getChild(o_(C)).isEmpty()?O=b:O=b.updateChild(C,o):O=q.EMPTY_NODE}if(N.equals(O))m=t;else{const b=i.filter.updateChild(h.getNode(),y,O,C,v,d);m=Qi(t,b,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Kp(i,t){return i.eventCache.isCompleteForChild(t)}function $S(i,t,r,o,l,a,d){let h=t;return o.foreach((m,_)=>{const v=ze(r,m);Kp(t,ie(v))&&(h=tc(i,h,v,_,l,a,d))}),o.foreach((m,_)=>{const v=ze(r,m);Kp(t,ie(v))||(h=tc(i,h,v,_,l,a,d))}),h}function qp(i,t,r){return r.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function nc(i,t,r,o,l,a,d,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,_;le(r)?_=o:_=new ke(null).setTree(r,o);const v=t.serverCache.getNode();return _.children.inorderTraversal((y,C)=>{if(v.hasChild(y)){const N=t.serverCache.getNode().getImmediateChild(y),O=qp(i,N,C);m=Xo(i,m,new ge(y),O,l,a,d,h)}}),_.children.inorderTraversal((y,C)=>{const N=!t.serverCache.isCompleteForChild(y)&&C.value===null;if(!v.hasChild(y)&&!N){const O=t.serverCache.getNode().getImmediateChild(y),b=qp(i,O,C);m=Xo(i,m,new ge(y),b,l,a,d,h)}}),m}function GS(i,t,r,o,l,a,d){if(Yo(l,r)!=null)return t;const h=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(le(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Xo(i,t,r,m.getNode().getChild(r),l,a,h,d);if(le(r)){let _=new ke(null);return m.getNode().forEachChild(Ur,(v,y)=>{_=_.set(new ge(v),y)}),nc(i,t,r,_,l,a,h,d)}else return t}else{let _=new ke(null);return o.foreach((v,y)=>{const C=ze(r,v);m.isCompleteForPath(C)&&(_=_.set(v,m.getNode().getChild(C)))}),nc(i,t,r,_,l,a,h,d)}}function QS(i,t,r,o,l){const a=t.serverCache,d=__(t,a.getNode(),a.isFullyInitialized()||le(r),a.isFiltered());return S_(i,d,r,o,C_,l)}function KS(i,t,r,o,l,a){let d;if(Yo(o,r)!=null)return t;{const h=new Rc(o,t,l),m=t.eventCache.getNode();let _;if(le(r)||ie(r)===".priority"){let v;if(t.serverCache.isFullyInitialized())v=qo(o,ur(t));else{const y=t.serverCache.getNode();M(y instanceof q,"serverChildren would be complete if leaf node"),v=Tc(o,y)}v=v,_=i.filter.updateFullNode(m,v,a)}else{const v=ie(r);let y=Nc(o,v,t.serverCache);y==null&&t.serverCache.isCompleteForChild(v)&&(y=m.getImmediateChild(v)),y!=null?_=i.filter.updateChild(m,v,y,Ee(r),h,a):t.eventCache.getNode().hasChild(v)?_=i.filter.updateChild(m,v,q.EMPTY_NODE,Ee(r),h,a):_=m,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=qo(o,ur(t)),d.isLeafNode()&&(_=i.filter.updateFullNode(_,d,a)))}return d=t.serverCache.isFullyInitialized()||Yo(o,he())!=null,Qi(t,_,d,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new Ec(o.getIndex()),a=pS(o);this.processor_=BS(a);const d=r.serverCache,h=r.eventCache,m=l.updateFullNode(q.EMPTY_NODE,d.getNode(),null),_=a.updateFullNode(q.EMPTY_NODE,h.getNode(),null),v=new lr(m,d.isFullyInitialized(),l.filtersNodes()),y=new lr(_,h.isFullyInitialized(),a.filtersNodes());this.viewCache_=cl(y,v),this.eventGenerator_=new ES(this.query_)}get query(){return this.query_}}function YS(i){return i.viewCache_.serverCache.getNode()}function XS(i,t){const r=ur(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!le(t)&&!r.getImmediateChild(ie(t)).isEmpty())?r.getChild(t):null}function Yp(i){return i.eventRegistrations_.length===0}function JS(i,t){i.eventRegistrations_.push(t)}function Xp(i,t,r){const o=[];if(r){M(t==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(a=>{const d=a.createCancelEvent(r,l);d&&o.push(d)})}if(t){let l=[];for(let a=0;a<i.eventRegistrations_.length;++a){const d=i.eventRegistrations_[a];if(!d.matches(t))l.push(d);else if(t.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(a+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return o}function Jp(i,t,r,o){t.type===Ut.MERGE&&t.source.queryId!==null&&(M(ur(i.viewCache_),"We should always have a full cache before handling merges"),M(Ja(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,a=HS(i.processor_,l,t,r,o);return WS(i.processor_,a.viewCache),M(a.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=a.viewCache,k_(i,a.changes,a.viewCache.eventCache.getNode(),null)}function ZS(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(De,(a,d)=>{o.push(Vr(a,d))}),r.isFullyInitialized()&&o.push(h_(r.getNode())),k_(i,o,r.getNode(),t)}function k_(i,t,r,o){const l=o?[o]:i.eventRegistrations_;return CS(i.eventGenerator_,t,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo;class e0{constructor(){this.views=new Map}}function t0(i){M(!Jo,"__referenceConstructor has already been defined"),Jo=i}function n0(){return M(Jo,"Reference.ts has not been loaded"),Jo}function r0(i){return i.views.size===0}function xc(i,t,r,o){const l=t.source.queryId;if(l!==null){const a=i.views.get(l);return M(a!=null,"SyncTree gave us an op for an invalid query."),Jp(a,t,r,o)}else{let a=[];for(const d of i.views.values())a=a.concat(Jp(d,t,r,o));return a}}function i0(i,t,r,o,l){const a=t._queryIdentifier,d=i.views.get(a);if(!d){let h=qo(r,l?o:null),m=!1;h?m=!0:o instanceof q?(h=Tc(r,o),m=!1):(h=q.EMPTY_NODE,m=!1);const _=cl(new lr(h,m,!1),new lr(o,l,!1));return new qS(t,_)}return d}function s0(i,t,r,o,l,a){const d=i0(i,t,o,l,a);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,d),JS(d,r),ZS(d,r)}function o0(i,t,r,o){const l=t._queryIdentifier,a=[];let d=[];const h=zn(i);if(l==="default")for(const[m,_]of i.views.entries())d=d.concat(Xp(_,r,o)),Yp(_)&&(i.views.delete(m),_.query._queryParams.loadsAllData()||a.push(_.query));else{const m=i.views.get(l);m&&(d=d.concat(Xp(m,r,o)),Yp(m)&&(i.views.delete(l),m.query._queryParams.loadsAllData()||a.push(m.query)))}return h&&!zn(i)&&a.push(new(n0())(t._repo,t._path)),{removed:a,events:d}}function I_(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function jr(i,t){let r=null;for(const o of i.views.values())r=r||XS(o,t);return r}function T_(i,t){if(t._queryParams.loadsAllData())return dl(i);{const o=t._queryIdentifier;return i.views.get(o)}}function N_(i,t){return T_(i,t)!=null}function zn(i){return dl(i)!=null}function dl(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo;function l0(i){M(!Zo,"__referenceConstructor has already been defined"),Zo=i}function u0(){return M(Zo,"Reference.ts has not been loaded"),Zo}let a0=1;class Zp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ke(null),this.pendingWriteTree_=zS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function R_(i,t,r,o,l){return TS(i.pendingWriteTree_,t,r,o,l),l?hs(i,new or(m_(),t,r)):[]}function nr(i,t,r=!1){const o=NS(i.pendingWriteTree_,t);if(RS(i.pendingWriteTree_,t)){let a=new ke(null);return o.snap!=null?a=a.set(he(),!0):ht(o.children,d=>{a=a.set(new ge(d),!0)}),hs(i,new Ko(o.path,a,r))}else return[]}function fl(i,t,r){return hs(i,new or(Sc(),t,r))}function c0(i,t,r){const o=ke.fromObject(r);return hs(i,new os(Sc(),t,o))}function d0(i,t){return hs(i,new ss(Sc(),t))}function f0(i,t,r){const o=Dc(i,r);if(o){const l=Oc(o),a=l.path,d=l.queryId,h=ct(a,t),m=new ss(kc(d),h);return Ac(i,a,m)}else return[]}function rc(i,t,r,o,l=!1){const a=t._path,d=i.syncPointTree_.get(a);let h=[];if(d&&(t._queryIdentifier==="default"||N_(d,t))){const m=o0(d,t,r,o);r0(d)&&(i.syncPointTree_=i.syncPointTree_.remove(a));const _=m.removed;if(h=m.events,!l){const v=_.findIndex(C=>C._queryParams.loadsAllData())!==-1,y=i.syncPointTree_.findOnPath(a,(C,N)=>zn(N));if(v&&!y){const C=i.syncPointTree_.subtree(a);if(!C.isEmpty()){const N=m0(C);for(let O=0;O<N.length;++O){const b=N[O],L=b.query,ne=D_(i,b);i.listenProvider_.startListening(qi(L),el(i,L),ne.hashFn,ne.onComplete)}}}!y&&_.length>0&&!o&&(v?i.listenProvider_.stopListening(qi(t),null):_.forEach(C=>{const N=i.queryToTagMap.get(hl(C));i.listenProvider_.stopListening(qi(C),N)}))}_0(i,_)}return h}function h0(i,t,r,o){const l=Dc(i,o);if(l!=null){const a=Oc(l),d=a.path,h=a.queryId,m=ct(d,t),_=new or(kc(h),m,r);return Ac(i,d,_)}else return[]}function p0(i,t,r,o){const l=Dc(i,o);if(l){const a=Oc(l),d=a.path,h=a.queryId,m=ct(d,t),_=ke.fromObject(r),v=new os(kc(h),m,_);return Ac(i,d,v)}else return[]}function em(i,t,r,o=!1){const l=t._path;let a=null,d=!1;i.syncPointTree_.foreachOnPath(l,(C,N)=>{const O=ct(C,l);a=a||jr(N,O),d=d||zn(N)});let h=i.syncPointTree_.get(l);h?(d=d||zn(h),a=a||jr(h,he())):(h=new e0,i.syncPointTree_=i.syncPointTree_.set(l,h));let m;a!=null?m=!0:(m=!1,a=q.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((N,O)=>{const b=jr(O,he());b&&(a=a.updateImmediateChild(N,b))}));const _=N_(h,t);if(!_&&!t._queryParams.loadsAllData()){const C=hl(t);M(!i.queryToTagMap.has(C),"View does not exist, but we have a tag");const N=g0();i.queryToTagMap.set(C,N),i.tagToQueryMap.set(N,C)}const v=Ic(i.pendingWriteTree_,l);let y=s0(h,t,r,v,a,m);if(!_&&!d&&!o){const C=T_(h,t);y=y.concat(y0(i,t,C))}return y}function Pc(i,t,r){const l=i.pendingWriteTree_,a=i.syncPointTree_.findOnPath(t,(d,h)=>{const m=ct(d,t),_=jr(h,m);if(_)return _});return v_(l,t,a,r,!0)}function hs(i,t){return x_(t,i.syncPointTree_,null,Ic(i.pendingWriteTree_,he()))}function x_(i,t,r,o){if(le(i.path))return P_(i,t,r,o);{const l=t.get(he());r==null&&l!=null&&(r=jr(l,he()));let a=[];const d=ie(i.path),h=i.operationForChild(d),m=t.children.get(d);if(m&&h){const _=r?r.getImmediateChild(d):null,v=w_(o,d);a=a.concat(x_(h,m,_,v))}return l&&(a=a.concat(xc(l,i,o,r))),a}}function P_(i,t,r,o){const l=t.get(he());r==null&&l!=null&&(r=jr(l,he()));let a=[];return t.children.inorderTraversal((d,h)=>{const m=r?r.getImmediateChild(d):null,_=w_(o,d),v=i.operationForChild(d);v&&(a=a.concat(P_(v,h,m,_)))}),l&&(a=a.concat(xc(l,i,o,r))),a}function D_(i,t){const r=t.query,o=el(i,r);return{hashFn:()=>(YS(t)||q.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return o?f0(i,r._path,o):d0(i,r._path);{const a=hC(l,r);return rc(i,r,null,a)}}}}function el(i,t){const r=hl(t);return i.queryToTagMap.get(r)}function hl(i){return i._path.toString()+"$"+i._queryIdentifier}function Dc(i,t){return i.tagToQueryMap.get(t)}function Oc(i){const t=i.indexOf("$");return M(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ge(i.substr(0,t))}}function Ac(i,t,r){const o=i.syncPointTree_.get(t);M(o,"Missing sync point for query tag that we're tracking");const l=Ic(i.pendingWriteTree_,t);return xc(o,r,l,null)}function m0(i){return i.fold((t,r,o)=>{if(r&&zn(r))return[dl(r)];{let l=[];return r&&(l=I_(r)),ht(o,(a,d)=>{l=l.concat(d)}),l}})}function qi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(u0())(i._repo,i._path):i}function _0(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const l=hl(o),a=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(a)}}}function g0(){return a0++}function y0(i,t,r){const o=t._path,l=el(i,t),a=D_(i,r),d=i.listenProvider_.startListening(qi(t),l,a.hashFn,a.onComplete),h=i.syncPointTree_.subtree(o);if(l)M(!zn(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((_,v,y)=>{if(!le(_)&&v&&zn(v))return[dl(v).query];{let C=[];return v&&(C=C.concat(I_(v).map(N=>N.query))),ht(y,(N,O)=>{C=C.concat(O)}),C}});for(let _=0;_<m.length;++_){const v=m[_];i.listenProvider_.stopListening(qi(v),el(i,v))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new Mc(r)}node(){return this.node_}}class Lc{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=ze(this.path_,t);return new Lc(this.syncTree_,r)}node(){return Pc(this.syncTree_,this.path_)}}const v0=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},tm=function(i,t,r){if(!i||typeof i!="object")return i;if(M(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return w0(i[".sv"],t,r);if(typeof i[".sv"]=="object")return E0(i[".sv"],t);M(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},w0=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:M(!1,"Unexpected server value: "+i)}},E0=function(i,t,r){i.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&M(!1,"Unexpected increment value: "+o);const l=t.node();if(M(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const d=l.getValue();return typeof d!="number"?o:d+o},C0=function(i,t,r,o){return Fc(t,new Lc(r,i),o)},O_=function(i,t,r){return Fc(i,new Mc(t),r)};function Fc(i,t,r){const o=i.getPriority().val(),l=tm(o,t.getImmediateChild(".priority"),r);let a;if(i.isLeafNode()){const d=i,h=tm(d.getValue(),t,r);return h!==d.getValue()||l!==d.getPriority().val()?new We(h,qe(l)):i}else{const d=i;return a=d,l!==d.getPriority().val()&&(a=a.updatePriority(new We(l))),d.forEachChild(De,(h,m)=>{const _=Fc(m,t.getImmediateChild(h),r);_!==m&&(a=a.updateImmediateChild(h,_))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function bc(i,t){let r=t instanceof ge?t:new ge(t),o=i,l=ie(r);for(;l!==null;){const a=Wr(o.node.children,l)||{children:{},childCount:0};o=new zc(l,o,a),r=Ee(r),l=ie(r)}return o}function Yr(i){return i.node.value}function A_(i,t){i.node.value=t,ic(i)}function M_(i){return i.node.childCount>0}function S0(i){return Yr(i)===void 0&&!M_(i)}function pl(i,t){ht(i.node.children,(r,o)=>{t(new zc(r,i,o))})}function L_(i,t,r,o){r&&t(i),pl(i,l=>{L_(l,t,!0)})}function k0(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function ps(i){return new ge(i.parent===null?i.name:ps(i.parent)+"/"+i.name)}function ic(i){i.parent!==null&&I0(i.parent,i.name,i)}function I0(i,t,r){const o=S0(r),l=fn(i.node.children,t);o&&l?(delete i.node.children[t],i.node.childCount--,ic(i)):!o&&!l&&(i.node.children[t]=r.node,i.node.childCount++,ic(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=/[\[\].#$\/\u0000-\u001F\u007F]/,N0=/[\[\].#$\u0000-\u001F\u007F]/,Oa=10*1024*1024,F_=function(i){return typeof i=="string"&&i.length!==0&&!T0.test(i)},z_=function(i){return typeof i=="string"&&i.length!==0&&!N0.test(i)},R0=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),z_(i)},b_=function(i,t,r,o){o&&t===void 0||Uc(fc(i,"value"),t,r)},Uc=function(i,t,r){const o=r instanceof ge?new GC(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+er(o));if(typeof t=="function")throw new Error(i+"contains a function "+er(o)+" with contents = "+t.toString());if(zm(t))throw new Error(i+"contains "+t.toString()+" "+er(o));if(typeof t=="string"&&t.length>Oa/3&&ul(t)>Oa)throw new Error(i+"contains a string greater than "+Oa+" utf8 bytes "+er(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,a=!1;if(ht(t,(d,h)=>{if(d===".value")l=!0;else if(d!==".priority"&&d!==".sv"&&(a=!0,!F_(d)))throw new Error(i+" contains an invalid key ("+d+") "+er(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);QC(o,d),Uc(i,h,o),KC(o)}),l&&a)throw new Error(i+' contains ".value" child '+er(o)+" in addition to actual children.")}},U_=function(i,t,r,o){if(!z_(r))throw new Error(fc(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},x0=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),U_(i,t,r)},jc=function(i,t){if(ie(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},P0=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!F_(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!R0(r))throw new Error(fc(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bc(i,t){let r=null;for(let o=0;o<t.length;o++){const l=t[o],a=l.getPath();r!==null&&!yc(a,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:a}),r.events.push(l)}r&&i.eventLists_.push(r)}function j_(i,t,r){Bc(i,r),B_(i,o=>yc(o,t))}function dn(i,t,r){Bc(i,r),B_(i,o=>bt(o,t)||bt(t,o))}function B_(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const l=i.eventLists_[o];if(l){const a=l.path;t(a)?(O0(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function O0(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();$i&&et("event: "+r.toString()),qr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="repo_interrupt",M0=25;class L0{constructor(t,r,o,l){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new D0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qo(),this.transactionQueueTree_=new zc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function F0(i,t,r){if(i.stats_=_c(i.repoInfo_),i.forceRestClient_||gC())i.server_=new Go(i.repoInfo_,(o,l,a,d)=>{nm(i,o,l,a,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>rm(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ve(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new ln(i.repoInfo_,t,(o,l,a,d)=>{nm(i,o,l,a,d)},o=>{rm(i,o)},o=>{z0(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=CC(i.repoInfo_,()=>new wS(i.stats_,i.server_)),i.infoData_=new mS,i.infoSyncTree_=new Zp({startListening:(o,l,a,d)=>{let h=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(h=fl(i.infoSyncTree_,o._path,m),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),Hc(i,"connected",!1),i.serverSyncTree_=new Zp({startListening:(o,l,a,d)=>(i.server_.listen(o,a,l,(h,m)=>{const _=d(h,m);dn(i.eventQueue_,o._path,_)}),[]),stopListening:(o,l)=>{i.server_.unlisten(o,l)}})}function W_(i){const r=i.infoData_.getNode(new ge(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Wc(i){return v0({timestamp:W_(i)})}function nm(i,t,r,o,l){i.dataUpdateCount++;const a=new ge(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let d=[];if(l)if(o){const m=jo(r,_=>qe(_));d=p0(i.serverSyncTree_,a,m,l)}else{const m=qe(r);d=h0(i.serverSyncTree_,a,m,l)}else if(o){const m=jo(r,_=>qe(_));d=c0(i.serverSyncTree_,a,m)}else{const m=qe(r);d=fl(i.serverSyncTree_,a,m)}let h=a;d.length>0&&(h=ml(i,a)),dn(i.eventQueue_,h,d)}function rm(i,t){Hc(i,"connected",t),t===!1&&U0(i)}function z0(i,t){ht(t,(r,o)=>{Hc(i,r,o)})}function Hc(i,t,r){const o=new ge("/.info/"+t),l=qe(r);i.infoData_.updateSnapshot(o,l);const a=fl(i.infoSyncTree_,o,l);dn(i.eventQueue_,o,a)}function H_(i){return i.nextWriteId_++}function b0(i,t,r,o,l){Vc(i,"set",{path:t.toString(),value:r,priority:o});const a=Wc(i),d=qe(r,o),h=Pc(i.serverSyncTree_,t),m=O_(d,h,a),_=H_(i),v=R_(i.serverSyncTree_,t,m,_,!0);Bc(i.eventQueue_,v),i.server_.put(t.toString(),d.val(!0),(C,N)=>{const O=C==="ok";O||ft("set at "+t+" failed: "+C);const b=nr(i.serverSyncTree_,_,!O);dn(i.eventQueue_,t,b),H0(i,l,C,N)});const y=K_(i,t);ml(i,y),dn(i.eventQueue_,y,[])}function U0(i){Vc(i,"onDisconnectEvents");const t=Wc(i),r=Qo();Xa(i.onDisconnect_,he(),(l,a)=>{const d=C0(l,a,i.serverSyncTree_,t);p_(r,l,d)});let o=[];Xa(r,he(),(l,a)=>{o=o.concat(fl(i.serverSyncTree_,l,a));const d=K_(i,l);ml(i,d)}),i.onDisconnect_=Qo(),dn(i.eventQueue_,he(),o)}function j0(i,t,r){let o;ie(t._path)===".info"?o=em(i.infoSyncTree_,t,r):o=em(i.serverSyncTree_,t,r),j_(i.eventQueue_,t._path,o)}function B0(i,t,r){let o;ie(t._path)===".info"?o=rc(i.infoSyncTree_,t,r):o=rc(i.serverSyncTree_,t,r),j_(i.eventQueue_,t._path,o)}function W0(i){i.persistentConnection_&&i.persistentConnection_.interrupt(A0)}function Vc(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),et(r,...t)}function H0(i,t,r,o){t&&qr(()=>{if(r==="ok")t(null);else{const l=(r||"error").toUpperCase();let a=l;o&&(a+=": "+o);const d=new Error(a);d.code=l,t(d)}})}function V_(i,t,r){return Pc(i.serverSyncTree_,t,r)||q.EMPTY_NODE}function $c(i,t=i.transactionQueueTree_){if(t||_l(i,t),Yr(t)){const r=G_(i,t);M(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&V0(i,ps(t),r)}else M_(t)&&pl(t,r=>{$c(i,r)})}function V0(i,t,r){const o=r.map(_=>_.currentWriteId),l=V_(i,t,o);let a=l;const d=l.hash();for(let _=0;_<r.length;_++){const v=r[_];M(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const y=ct(t,v.path);a=a.updateChild(y,v.currentOutputSnapshotRaw)}const h=a.val(!0),m=t;i.server_.put(m.toString(),h,_=>{Vc(i,"transaction put response",{path:m.toString(),status:_});let v=[];if(_==="ok"){const y=[];for(let C=0;C<r.length;C++)r[C].status=2,v=v.concat(nr(i.serverSyncTree_,r[C].currentWriteId)),r[C].onComplete&&y.push(()=>r[C].onComplete(null,!0,r[C].currentOutputSnapshotResolved)),r[C].unwatcher();_l(i,bc(i.transactionQueueTree_,t)),$c(i,i.transactionQueueTree_),dn(i.eventQueue_,t,v);for(let C=0;C<y.length;C++)qr(y[C])}else{if(_==="datastale")for(let y=0;y<r.length;y++)r[y].status===3?r[y].status=4:r[y].status=0;else{ft("transaction at "+m.toString()+" failed: "+_);for(let y=0;y<r.length;y++)r[y].status=4,r[y].abortReason=_}ml(i,t)}},d)}function ml(i,t){const r=$_(i,t),o=ps(r),l=G_(i,r);return $0(i,l,o),o}function $0(i,t,r){if(t.length===0)return;const o=[];let l=[];const d=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const m=t[h],_=ct(r,m.path);let v=!1,y;if(M(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)v=!0,y=m.abortReason,l=l.concat(nr(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=M0)v=!0,y="maxretry",l=l.concat(nr(i.serverSyncTree_,m.currentWriteId,!0));else{const C=V_(i,m.path,d);m.currentInputSnapshot=C;const N=t[h].update(C.val());if(N!==void 0){Uc("transaction failed: Data returned ",N,m.path);let O=qe(N);typeof N=="object"&&N!=null&&fn(N,".priority")||(O=O.updatePriority(C.getPriority()));const L=m.currentWriteId,ne=Wc(i),J=O_(O,C,ne);m.currentOutputSnapshotRaw=O,m.currentOutputSnapshotResolved=J,m.currentWriteId=H_(i),d.splice(d.indexOf(L),1),l=l.concat(R_(i.serverSyncTree_,m.path,J,m.currentWriteId,m.applyLocally)),l=l.concat(nr(i.serverSyncTree_,L,!0))}else v=!0,y="nodata",l=l.concat(nr(i.serverSyncTree_,m.currentWriteId,!0))}dn(i.eventQueue_,r,l),l=[],v&&(t[h].status=2,function(C){setTimeout(C,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?o.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):o.push(()=>t[h].onComplete(new Error(y),!1,null))))}_l(i,i.transactionQueueTree_);for(let h=0;h<o.length;h++)qr(o[h]);$c(i,i.transactionQueueTree_)}function $_(i,t){let r,o=i.transactionQueueTree_;for(r=ie(t);r!==null&&Yr(o)===void 0;)o=bc(o,r),t=Ee(t),r=ie(t);return o}function G_(i,t){const r=[];return Q_(i,t,r),r.sort((o,l)=>o.order-l.order),r}function Q_(i,t,r){const o=Yr(t);if(o)for(let l=0;l<o.length;l++)r.push(o[l]);pl(t,l=>{Q_(i,l,r)})}function _l(i,t){const r=Yr(t);if(r){let o=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[o]=r[l],o++);r.length=o,A_(t,r.length>0?r:void 0)}pl(t,o=>{_l(i,o)})}function K_(i,t){const r=ps($_(i,t)),o=bc(i.transactionQueueTree_,t);return k0(o,l=>{Aa(i,l)}),Aa(i,o),L_(o,l=>{Aa(i,l)}),r}function Aa(i,t){const r=Yr(t);if(r){const o=[];let l=[],a=-1;for(let d=0;d<r.length;d++)r[d].status===3||(r[d].status===1?(M(a===d-1,"All SENT items should be at beginning of queue."),a=d,r[d].status=3,r[d].abortReason="set"):(M(r[d].status===0,"Unexpected transaction status in abort"),r[d].unwatcher(),l=l.concat(nr(i.serverSyncTree_,r[d].currentWriteId,!0)),r[d].onComplete&&o.push(r[d].onComplete.bind(null,new Error("set"),!1,null))));a===-1?A_(t,void 0):r.length=a+1,dn(i.eventQueue_,ps(t),l);for(let d=0;d<o.length;d++)qr(o[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let l=r[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function Q0(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ft(`Invalid query segment '${r}' in query '${i}'`)}return t}const im=function(i,t){const r=K0(i),o=r.namespace;r.domain==="firebase.com"&&cn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||uC();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new qm(r.host,r.secure,o,l,t,"",o!==r.subdomain),path:new ge(r.pathString)}},K0=function(i){let t="",r="",o="",l="",a="",d=!0,h="https",m=443;if(typeof i=="string"){let _=i.indexOf("//");_>=0&&(h=i.substring(0,_-1),i=i.substring(_+2));let v=i.indexOf("/");v===-1&&(v=i.length);let y=i.indexOf("?");y===-1&&(y=i.length),t=i.substring(0,Math.min(v,y)),v<y&&(l=G0(i.substring(v,y)));const C=Q0(i.substring(Math.min(i.length,y)));_=t.indexOf(":"),_>=0?(d=h==="https"||h==="wss",m=parseInt(t.substring(_+1),10)):_=t.length;const N=t.slice(0,_);if(N.toLowerCase()==="localhost")r="localhost";else if(N.split(".").length<=2)r=N;else{const O=t.indexOf(".");o=t.substring(0,O).toLowerCase(),r=t.substring(O+1),a=o}"ns"in C&&(a=C.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:d,scheme:h,pathString:l,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",q0=function(){let i=0;const t=[];return function(r){const o=r===i;i=r;let l;const a=new Array(8);for(l=7;l>=0;l--)a[l]=sm.charAt(r%64),r=Math.floor(r/64);M(r===0,"Cannot push at time == 0");let d=a.join("");if(o){for(l=11;l>=0&&t[l]===63;l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)d+=sm.charAt(t[l]);return M(d.length===20,"nextPushId: Length should be 20."),d}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(t,r,o,l){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ve(this.snapshot.exportVal())}}class X0{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,r,o,l){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=l}get key(){return le(this._path)?null:i_(this._path)}get ref(){return new bn(this._repo,this._path)}get _queryIdentifier(){const t=Wp(this._queryParams),r=pc(t);return r==="{}"?"default":r}get _queryObject(){return Wp(this._queryParams)}isEqual(t){if(t=Qr(t),!(t instanceof Gc))return!1;const r=this._repo===t._repo,o=yc(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return r&&o&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+$C(this._path)}}class bn extends Gc{constructor(t,r){super(t,r,new Cc,!1)}get parent(){const t=o_(this._path);return t===null?null:new bn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class tl{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new ge(t),o=ls(this.ref,t);return new tl(this._node.getChild(r),o,De)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,l)=>t(new tl(l,ls(this.ref,o),De)))}hasChild(t){const r=new ge(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ms(i,t){return i=Qr(i),i._checkNotDeleted("ref"),t!==void 0?ls(i._root,t):i._root}function ls(i,t){return i=Qr(i),ie(i._path)===null?x0("child","path",t):U_("child","path",t),new bn(i._repo,ze(i._path,t))}function Z0(i,t){i=Qr(i),jc("push",i._path),b_("push",t,i._path,!0);const r=W_(i._repo),o=q0(r),l=ls(i,o),a=ls(i,o);let d;return t!=null?d=Qc(a,t).then(()=>a):d=Promise.resolve(a),l.then=d.then.bind(d),l.catch=d.then.bind(d,void 0),l}function q_(i){return jc("remove",i._path),Qc(i,null)}function Qc(i,t){i=Qr(i),jc("set",i._path),b_("set",t,i._path,!1);const r=new ll;return b0(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}class Kc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new Y0("value",this,new tl(t.snapshotNode,new bn(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new X0(this,t,r):null}matches(t){return t instanceof Kc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function e1(i,t,r,o,l){const a=new J0(r,void 0),d=new Kc(a);return j0(i._repo,i,d),()=>B0(i._repo,i,d)}function t1(i,t,r,o){return e1(i,"value",t)}t0(bn);l0(bn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="FIREBASE_DATABASE_EMULATOR_HOST",sc={};let r1=!1;function i1(i,t,r,o){i.repoInfo_=new qm(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function s1(i,t,r,o,l){let a=o||i.options.databaseURL;a===void 0&&(i.options.projectId||cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",i.options.projectId),a=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=im(a,l),h=d.repoInfo,m;typeof process<"u"&&kp&&(m=kp[n1]),m?(a=`http://${m}?ns=${h.namespace}`,d=im(a,l),h=d.repoInfo):d.repoInfo.secure;const _=new vC(i.name,i.options,t);P0("Invalid Firebase Database URL",d),le(d.path)||cn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=l1(h,i,_,new yC(i.name,r));return new u1(v,i)}function o1(i,t){const r=sc[t];(!r||r[i.key]!==i)&&cn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),W0(i),delete r[i.key]}function l1(i,t,r,o){let l=sc[t.name];l||(l={},sc[t.name]=l);let a=l[i.toURLString()];return a&&cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new L0(i,r1,r,o),l[i.toURLString()]=a,a}class u1{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(F0(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bn(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(o1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&cn("Cannot call "+t+" on a deleted database.")}}function a1(i=GE(),t){const r=WE(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=Dw("database");o&&c1(r,...o)}return r}function c1(i,t,r,o={}){i=Qr(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&cn("Cannot call useEmulator() after instance has already been initialized.");const l=i._repoInternal;let a;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Oo(Oo.OWNER);else if(o.mockUserToken){const d=typeof o.mockUserToken=="string"?o.mockUserToken:Ow(o.mockUserToken,i.app.options.projectId);a=new Oo(d)}i1(l,t,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(i){nC($E),Wo(new Zi("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return s1(o,l,a,r)},"PUBLIC").setMultipleInstances(!0)),zr(Ip,Tp,i),zr(Ip,Tp,"esm2017")}ln.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};ln.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};d1();var f1="firebase",h1="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(f1,h1,"app");const p1={apiKey:"AIzaSyBh8TVSo9aV1t6qdcxSF4O_6robg2mapRM",authDomain:"diri-react-1.firebaseapp.com",databaseURL:"https://diri-react-1-default-rtdb.europe-west1.firebasedatabase.app",projectId:"diri-react-1",storageBucket:"diri-react-1.firebasestorage.app",messagingSenderId:"623101212387",appId:"1:623101212387:web:f8a6a089193baea96277d6",measurementId:"G-MPXY4KEM80"},m1=Dm(p1),_s=a1(m1),_1=async i=>{const t=ms(_s,"orders");return(await Z0(t,i)).key},g1=async()=>{const i=ms(_s,"orders");return new Promise(t=>{t1(i,r=>{const o=r.val();console.log(o);const l=o?Object.entries(o).map(([a,d])=>({id:a,items:[d]})):[];console.log(l),t(l)})})},y1=async(i,t)=>{const r=ms(_s,`orders/${i}`);await Qc(r,t)},v1=async i=>{const t=ms(_s,`orders/${i}`);await q_(t)},w1=async()=>{console.log("holi");const i=ms(_s,"orders");await q_(i)},E1={orders:[],status:"idle",error:null},Ma=us("orders/createOrder",async i=>({id:await _1(i),items:[i]})),Ao=us("orders/fetchOrders",async()=>await g1()),C1=us("orders/updateOrder",async({orderId:i,order:t})=>(await y1(i,t),{orderId:i,order:t})),S1=us("orders/deleteOrder",async i=>(await v1(i),i)),Y_=us("orders/deleteAllOrders",async()=>(await w1(),!0)),k1=_w({name:"orders",initialState:E1,reducers:{},extraReducers:i=>{i.addCase(Ma.pending,t=>{t.status="loading"}).addCase(Ma.fulfilled,(t,r)=>{t.status="idle",t.orders.push(r.payload),Fr.info("createOrder fulfilled")}).addCase(Ma.rejected,t=>{t.status="failed",t.error="Error al crear el pedido"}).addCase(Ao.pending,t=>{t.status="loading",console.log("fetching")}).addCase(Ao.fulfilled,(t,r)=>{t.status="idle",t.orders=r.payload}).addCase(Ao.rejected,t=>{t.status="failed",t.error="Error al obtener los pedidos"}).addCase(C1.fulfilled,(t,r)=>{const o=t.orders.findIndex(l=>l.id===r.payload.orderId);o!==-1&&(t.orders[o]=r.payload.order)}).addCase(S1.fulfilled,(t,r)=>{t.orders=t.orders.filter(o=>o.id!==r.payload)}).addCase(Y_.fulfilled,t=>{t.orders=[]})}}),I1=k1.reducer,T1=oc.createContext([]),N1=oc.lazy(()=>ov(()=>import("./Foods-DTGPrdR5.js"),[]));function R1(){const[i]=be.useState([{id:1,name:"Hamburguesa de Pollo",quantity:40,desc:"Hamburguesa de pollo frito - ... y mayonesa",price:24,image:"pollo.jpeg"},{id:2,name:"Hamburguesa de vaca",quantity:20,desc:"Hamburguesa de vaca - ... y ketsup",price:24,image:"pollo.jpeg"}]),t=Tv(),r=xv(a=>a.order.orders),[o,l]=be.useState(!1);return be.useEffect(()=>{t(Ao())},[t]),fe.jsx(fe.Fragment,{children:fe.jsxs(T1.Provider,{value:i,children:[fe.jsxs(uv,{fallback:fe.jsx("div",{children:"Ha ocurrido un error"}),children:[fe.jsxs("div",{className:"App",children:[fe.jsx("button",{className:"toggleButton",onClick:()=>{l(!o)},children:o?"Disponibilidad":"Pedir comida"}),fe.jsx("h3",{className:"title",children:"Comida Rápida Online"}),!o&&fe.jsxs(fe.Fragment,{children:[fe.jsx("h4",{className:"subTitle",children:"Menús"}),fe.jsx("ul",{className:"ulApp",children:i.map(a=>fe.jsxs("li",{className:"liApp",children:[fe.jsx("p",{children:a.name}),fe.jsxs("p",{children:["#",a.quantity]})]},a.id))})]}),o&&fe.jsx(be.Suspense,{fallback:fe.jsx("div",{children:"Cargando..."}),children:fe.jsx(N1,{foodItems:i})})]}),fe.jsx("h2",{children:"Pedidos realizados:"}),fe.jsx("ul",{children:r.map(a=>fe.jsx("li",{children:fe.jsx("ul",{children:a.items.map((d,h)=>fe.jsxs(fe.Fragment,{children:[fe.jsx("li",{children:d.name},h),fe.jsxs("li",{children:[d.quantity," * ",d.price]},d.quantity*d.price)]}))})},a.id))})]}),fe.jsx("button",{onClick:()=>t(Y_()),children:"Reset Firebase"})]})})}const x1=i=>t=>r=>{Fr.info("🚀 Enviando accción:"+JSON.stringify(r)),Fr.info("📦 Estado anterior:"+JSON.stringify(i.getState()));const o=t(r);return Fr.info("✅ Nuevo estado:"+JSON.stringify(i.getState())),o},P1=tw({reducer:{order:I1},middleware:i=>i().concat(x1)}),D1=()=>fe.jsx(Sv,{store:P1,children:fe.jsx(R1,{})});rv.createRoot(document.getElementById("root")).render(fe.jsx(be.StrictMode,{children:fe.jsx(D1,{})}));export{Ma as c,fe as j,be as r,Tv as u};
